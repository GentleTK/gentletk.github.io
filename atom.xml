<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>云</title>
  <icon>https://www.gravatar.com/avatar/cfa6df64c867ad4d29c979198f77760f</icon>
  
  <link href="https://gentletk.gitee.io/atom.xml" rel="self"/>
  
  <link href="https://gentletk.gitee.io/"/>
  <updated>2022-05-31T02:28:23.000Z</updated>
  <id>https://gentletk.gitee.io/</id>
  
  <author>
    <name>GentleTK</name>
    <email>1144626145@qq.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>基于阿里云OSS+PicGo的个人图床搭建</title>
    <link href="https://gentletk.gitee.io/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/"/>
    <id>https://gentletk.gitee.io/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/</id>
    <published>2022-05-31T02:28:23.000Z</published>
    <updated>2022-05-31T02:28:23.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>gitee搭建的图床因为外链访问过多而无法访问了，无奈之下只好选择使用阿里云的OSS服务。</p></blockquote><h3 id="1-购买阿里云OSS资源包"><a href="#1-购买阿里云OSS资源包" class="headerlink" title="1 购买阿里云OSS资源包"></a>1 购买阿里云OSS资源包</h3><p>在<a href="https://cn.aliyun.com/">阿里云官网</a>选择产品，然后点击存储-&gt;对象存储OSS：</p><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531113049503.png" alt="image-20220531113049503"></p><p>点击立即开通，勾选对象存储OSS服务协议，开通后选择对应的套餐。</p><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531103825336.png" alt="image-20220531103825336"></p><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531104002828.png" alt="image-20220531104002828"></p><h3 id="2-创建子用户"><a href="#2-创建子用户" class="headerlink" title="2 创建子用户"></a>2 创建子用户</h3><p>主账号的权限太大了，仅作为图床使用的话，最好是能建一个子用户。</p><p>在阿里云OSS管理控制台点击自己的头像，然后点击访问控制，在左侧导航栏点击用户，然后点击创建用户：</p><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531110202436.png" alt="image-20220531110202436"></p><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531110629548.png" alt="image-20220531110629548"></p><p>通过验证后，成功创建子用户：</p><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531110807637.png" alt="image-20220531110807637"></p><p>创建成功后，需要及时保存AccessKey等信息。</p><h3 id="3-添加子用户权限"><a href="#3-添加子用户权限" class="headerlink" title="3 添加子用户权限"></a>3 添加子用户权限</h3><p>保存AccessKey等信息后，点击用户，然后点击添加权限：</p><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531111029765.png" alt="image-20220531111029765"></p><p>选择系统策略的AliyunOSSFullAccess：</p><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531111226611.png" alt="image-20220531111226611"></p><h3 id="4-创建Bucket"><a href="#4-创建Bucket" class="headerlink" title="4 创建Bucket"></a>4 创建Bucket</h3><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531104151971.png" alt="image-20220531104151971"></p><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531111555487.png" alt="image-20220531111555487"></p><p>记住访问域名：</p><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531111718193.png" alt="image-20220531111718193"></p><h3 id="5-设置PicGo"><a href="#5-设置PicGo" class="headerlink" title="5 设置PicGo"></a>5 设置PicGo</h3><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531112033720.png" alt="image-20220531112033720"></p><h3 id="6-设置Typora"><a href="#6-设置Typora" class="headerlink" title="6 设置Typora"></a>6 设置Typora</h3><p>点击文件-&gt;偏好设置-&gt;图像，上传服务选择PicGo，PicGo路径设置为PicGo的安装路径，点击验证图片上传选项。</p><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531112851465.png" alt="image-20220531112851465"></p><h3 id="7-迁移数据"><a href="#7-迁移数据" class="headerlink" title="7 迁移数据"></a>7 迁移数据</h3><p>在Gitee上下载图床仓库压缩包到本地后解压，在OSS管理控制台选择文件管理，并点击上传文件，选择扫描文件夹，然后点击上传文件：</p><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531114103295.png" alt="image-20220531114103295"></p><p><img src="/%E5%9F%BA%E4%BA%8E%E9%98%BF%E9%87%8C%E4%BA%91OSS+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20220531114525359.png" alt="image-20220531114525359"></p><p>上传成功后，只需要替换之前失效的图片链接地址即可。</p><p>将之前的<code>gitee.com/gentletk/picbed/raw/master</code>替换为<code>gentletk.oss-cn-shenzhen.aliyuncs.com</code>。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;gitee搭建的图床因为外链访问过多而无法访问了，无奈之下只好选择使用阿里云的OSS服务。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;1-购买阿里云OSS资源包&quot;&gt;&lt;a href=&quot;#1-购买阿里云OSS资源包&quot; class=&quot;heade</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="PicGo" scheme="https://gentletk.gitee.io/tags/PicGo/"/>
    
    <category term="OSS" scheme="https://gentletk.gitee.io/tags/OSS/"/>
    
  </entry>
  
  <entry>
    <title>Chocolatey安装与使用</title>
    <link href="https://gentletk.gitee.io/Chocolatey%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/"/>
    <id>https://gentletk.gitee.io/Chocolatey%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/</id>
    <published>2022-05-06T06:43:29.000Z</published>
    <updated>2022-05-06T06:43:29.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Chocolatey是Windows下的包管理器，通过命令方式即可完成软件的搜索、安装、更新、卸载等所有操作，最重要的是Chocolatey支持配置统一环境，通过<code>dev-package.config</code>就可以配置一个团队统一的开发环境，软件和版本都可以统一，可避免由于开发环境不一致带来的各种问题，而且Chocolatey提供了一个refreshenv命令，可快速生效环境变量。</p></blockquote><h3 id="1-Chocolatey-的安装"><a href="#1-Chocolatey-的安装" class="headerlink" title="1 Chocolatey 的安装"></a>1 Chocolatey 的安装</h3><h4 id="1-1-cmd"><a href="#1-1-cmd" class="headerlink" title="1.1 cmd"></a>1.1 cmd</h4><p><kbd>Win</kbd>+<kbd>R</kbd>打开运行框，输入<code>cmd</code>后，按下<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Enter</kbd>进入管理员模式，输入以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@<span class="string">&quot;%SystemRoot%\System32\WindowsPowerShell\v1.0\powershell.exe&quot;</span> -NoProfile -InputFormat None -ExecutionPolicy Bypass -Command <span class="string">&quot;iex ((New-Object System.Net.WebClient).DownloadString(&#x27;https://chocolatey.org/install.ps1&#x27;))&quot;</span> &amp;&amp; SET <span class="string">&quot;PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin&quot;</span></span><br></pre></td></tr></table></figure><h4 id="1-2-Windows-PowerShell"><a href="#1-2-Windows-PowerShell" class="headerlink" title="1.2 Windows PowerShell"></a>1.2 Windows PowerShell</h4><p><kbd>Win</kbd>+<kbd>R</kbd>打开运行框，输入<code>powershell</code>后，按下<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Enter</kbd>进入管理员模式，输入以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString(&#x27;https://community.chocolatey.org/install.ps1&#x27;))</span><br></pre></td></tr></table></figure><h4 id="1-3-install-psl"><a href="#1-3-install-psl" class="headerlink" title="1.3 install.psl"></a>1.3 install.psl</h4><p>在本地新建<code>install.psl</code>文件，打开<a href="https://chocolatey.org/install.ps1">https://chocolatey.org/install.ps1</a>，复制内容到本地<code>install.psl</code>文件，<kbd>Win</kbd>+<kbd>R</kbd>打开运行框，输入<code>powershell</code>后，按下<kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>Enter</kbd>进入管理员模式，输入以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install.psl</span><br></pre></td></tr></table></figure><h3 id="2-Chocolatey-的使用"><a href="#2-Chocolatey-的使用" class="headerlink" title="2 Chocolatey 的使用"></a>2 Chocolatey 的使用</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看版本</span></span><br><span class="line">choco -v</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找软件</span></span><br><span class="line">choco search XXX</span><br><span class="line"></span><br><span class="line"><span class="comment"># 详细信息</span></span><br><span class="line"><span class="comment"># choco info XXX</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 升级软件</span></span><br><span class="line">choco upgrade XXX</span><br><span class="line"></span><br><span class="line"><span class="comment"># 卸载软件</span></span><br><span class="line">choco uninstall XXX</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出包</span></span><br><span class="line">choco list -lo</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看本地安装的软件包</span></span><br><span class="line">choco list --local-only</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置统一环境 [XXX为配置文件名]</span></span><br><span class="line">choco install XXX.config</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出Windows系统已安装的软件</span></span><br><span class="line">choco list -li  OR choco list -lai</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Chocolatey是Windows下的包管理器，通过命令方式即可完成软件的搜索、安装、更新、卸载等所有操作，最重要的是Chocolatey支持配置统一环境，通过&lt;code&gt;dev-package.config&lt;/code&gt;就可以配置一个团队统一的</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Chocolatey" scheme="https://gentletk.gitee.io/tags/Chocolatey/"/>
    
  </entry>
  
  <entry>
    <title>倍福ET2000侦听器使用</title>
    <link href="https://gentletk.gitee.io/%E5%80%8D%E7%A6%8FET2000%E4%BE%A6%E5%90%AC%E5%99%A8%E4%BD%BF%E7%94%A8/"/>
    <id>https://gentletk.gitee.io/%E5%80%8D%E7%A6%8FET2000%E4%BE%A6%E5%90%AC%E5%99%A8%E4%BD%BF%E7%94%A8/</id>
    <published>2022-02-14T01:06:18.000Z</published>
    <updated>2022-02-14T01:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-连接ET2000"><a href="#1-连接ET2000" class="headerlink" title="1 连接ET2000"></a>1 连接ET2000</h2><p>将ET2000串接在网络中</p><p>AMC1600E——ET2000 IN——ET2000OUT——路由器</p><p>Uplink X5——电脑网口(WireShark)</p><h2 id="2-打开WireShark"><a href="#2-打开WireShark" class="headerlink" title="2 打开WireShark"></a>2 打开WireShark</h2><h3 id="2-1-选择需要捕获的网口"><a href="#2-1-选择需要捕获的网口" class="headerlink" title="2.1 选择需要捕获的网口"></a>2.1 选择需要捕获的网口</h3><p><img src="/%E5%80%8D%E7%A6%8FET2000%E4%BE%A6%E5%90%AC%E5%99%A8%E4%BD%BF%E7%94%A8/image-20220214113727262.png" alt="image-20220214113727262"></p><h3 id="2-2-设置MQTT协议端口号"><a href="#2-2-设置MQTT协议端口号" class="headerlink" title="2.2 设置MQTT协议端口号"></a>2.2 设置MQTT协议端口号</h3><p>点击编辑，选择首选项，在Protocols找到MQTT，设置MQTT协议端口号为OneNET MQTT服务器端口号(6002)：</p><p><img src="/%E5%80%8D%E7%A6%8FET2000%E4%BE%A6%E5%90%AC%E5%99%A8%E4%BD%BF%E7%94%A8/image-20220214114512693.png" alt="image-20220214114512693"></p><h3 id="2-3-运行程序，设置过滤规则为mqtt"><a href="#2-3-运行程序，设置过滤规则为mqtt" class="headerlink" title="2.3 运行程序，设置过滤规则为mqtt"></a>2.3 运行程序，设置过滤规则为mqtt</h3><p><img src="/%E5%80%8D%E7%A6%8FET2000%E4%BE%A6%E5%90%AC%E5%99%A8%E4%BD%BF%E7%94%A8/image-20220214114641411.png" alt="image-20220214114641411"></p><p><img src="/%E5%80%8D%E7%A6%8FET2000%E4%BE%A6%E5%90%AC%E5%99%A8%E4%BD%BF%E7%94%A8/image-20220214114110642.png" alt="image-20220214114110642"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-连接ET2000&quot;&gt;&lt;a href=&quot;#1-连接ET2000&quot; class=&quot;headerlink&quot; title=&quot;1 连接ET2000&quot;&gt;&lt;/a&gt;1 连接ET2000&lt;/h2&gt;&lt;p&gt;将ET2000串接在网络中&lt;/p&gt;
&lt;p&gt;AMC1600E——ET2000 </summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="WireShark" scheme="https://gentletk.gitee.io/tags/WireShark/"/>
    
  </entry>
  
  <entry>
    <title>MQTT剩余长度计算</title>
    <link href="https://gentletk.gitee.io/MQTT%E5%89%A9%E4%BD%99%E9%95%BF%E5%BA%A6%E8%AE%A1%E7%AE%97/"/>
    <id>https://gentletk.gitee.io/MQTT%E5%89%A9%E4%BD%99%E9%95%BF%E5%BA%A6%E8%AE%A1%E7%AE%97/</id>
    <published>2022-01-21T01:22:57.000Z</published>
    <updated>2022-01-21T01:22:57.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-剩余长度占用-1-4-个字节"><a href="#1-剩余长度占用-1-4-个字节" class="headerlink" title="1 剩余长度占用(1~4)个字节"></a>1 剩余长度占用(1~4)个字节</h2><p>剩余长度就是指后面跟了多少字节。<br>剩余长度一字节只用<code>bit0~bit6</code>这7位表示数据，用<code>bit7</code>表示进位标志，为<code>1</code>则说明有进位，为<code>0</code>则无进位。<br>1字节可表示的数据：<code>0~127个字节=128个</code><br>$$<br>2^7-1=127<br>$$<br>4字节可表示的数据：<code>0~268435455个字节=256*1024*1024=256M</code><br>$$<br>2^{28}-1=268435455<br>$$</p><h2 id="2-剩余长度计算方法"><a href="#2-剩余长度计算方法" class="headerlink" title="2 剩余长度计算方法"></a>2 剩余长度计算方法</h2><table><thead><tr><th>bit7</th><th>bit6</th><th>bit5</th><th>bit4</th><th>bit3</th><th>bit2</th><th>bit1</th><th>bit0</th></tr></thead><tbody><tr><td>进位标志</td><td>数据</td><td>数据</td><td>数据</td><td>数据</td><td>数据</td><td>数据</td><td>数据</td></tr></tbody></table><p>假设剩余长度为500，转换为十六进制显示就是0X1F4，转换为二进制显示就是0001 1111 0100。<br>先看前7位 (111 0100)，因为前7位才是有效数据！<br>给bit7的进位标志置1：（表示产生进位了）</p><table><thead><tr><th>进位标志</th><th>bit6</th><th>bit5</th><th>bit4</th><th>bit3</th><th>bit2</th><th>bit1</th><th>bit0</th></tr></thead><tbody><tr><td>1(有进位)</td><td>1</td><td>1</td><td>1</td><td>0</td><td>1</td><td>0</td><td>0</td></tr></tbody></table><p>所以剩余长度第一个字节就是0XF4(1111 0100)。（500%128）|（0X80） = 116 | 0X80 = 0XF4<br>再看剩下的：</p><table><thead><tr><th>bit14</th><th>bit13</th><th>bit12</th><th>bit11</th><th>bit10</th><th>bit9</th><th>bit8</th><th>bit7</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>1</td></tr></tbody></table><p>所以剩余长度第一个字节就是0X03。（500/128=3） = 0X03<br>用数组remainBytes来存就是:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> ramainBytes[<span class="number">2</span>] = &#123;<span class="number">0XF4</span>, <span class="number">0X01</span>&#125;;</span><br><span class="line"><span class="comment">// 利用上面两个数据怎么算出剩余长度500？</span></span><br><span class="line"><span class="comment">// 0XF4 = 1111 0100</span></span><br><span class="line"><span class="comment">// 1.先把有进位的标志给去掉</span></span><br><span class="line"><span class="comment">// 1111 0100 --&gt; 0111 0100 = 0X74 = 116</span></span><br><span class="line"><span class="comment">// 2.计算剩余长度</span></span><br><span class="line"><span class="comment">// 0X03 = 3</span></span><br><span class="line"><span class="comment">// remainLength = 3 * 128 + 116 = 384 + 116 = 500</span></span><br></pre></td></tr></table></figure><h2 id="3-剩余长度计算函数"><a href="#3-剩余长度计算函数" class="headerlink" title="3 剩余长度计算函数"></a>3 剩余长度计算函数</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**************************************************</span></span><br><span class="line"><span class="comment"> * 功能: mqtt 协议层获取剩余长度占用字节数</span></span><br><span class="line"><span class="comment"> * 参数: len:剩余内容长度</span></span><br><span class="line"><span class="comment"> *       buf:剩余内容指针</span></span><br><span class="line"><span class="comment"> * 返回: 剩余长度占用字节数</span></span><br><span class="line"><span class="comment"> * 备注：无</span></span><br><span class="line"><span class="comment"> * ************************************************/</span></span><br><span class="line"><span class="type">static</span> int32 <span class="title function_">MQTT_GetRemainBytes</span><span class="params">(uint32 len, uint8* buf)</span></span><br><span class="line">&#123;</span><br><span class="line">    uint32 bytes = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 假设len = 500</span></span><br><span class="line">    <span class="keyword">for</span> (bytes = <span class="number">1</span>; bytes &lt;= <span class="number">4</span>; bytes++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 1. *buf = len % 128 = 116</span></span><br><span class="line">        <span class="comment">// 2. len = len / 128 = 500 / 128 = 3</span></span><br><span class="line">        <span class="comment">// 4. *buf = len % 128 = 3 % 128 = 3 = 0X03</span></span><br><span class="line">        <span class="comment">// 5. buf[0] = 0XF4, buf[1] = 0X03</span></span><br><span class="line">        *buf = len % <span class="number">128</span>;</span><br><span class="line">        len /= <span class="number">128</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 剩余长度超过 1 字节, bit 置 1</span></span><br><span class="line">        <span class="comment">// 3.len &gt; 3, *buf = *buf | 0X80 = 116 | 0X80 = 0XF4</span></span><br><span class="line">        <span class="keyword">if</span> (len &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            *buf |= <span class="number">0X80</span>;</span><br><span class="line">            buf++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> bytes;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-剩余长度占用-1-4-个字节&quot;&gt;&lt;a href=&quot;#1-剩余长度占用-1-4-个字节&quot; class=&quot;headerlink&quot; title=&quot;1 剩余长度占用(1~4)个字节&quot;&gt;&lt;/a&gt;1 剩余长度占用(1~4)个字节&lt;/h2&gt;&lt;p&gt;剩余长度就是指后面跟了多少字</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="MQTT" scheme="https://gentletk.gitee.io/tags/MQTT/"/>
    
    <category term="IoT" scheme="https://gentletk.gitee.io/tags/IoT/"/>
    
  </entry>
  
  <entry>
    <title>Vue基础</title>
    <link href="https://gentletk.gitee.io/Vue%E5%9F%BA%E7%A1%80/"/>
    <id>https://gentletk.gitee.io/Vue%E5%9F%BA%E7%A1%80/</id>
    <published>2021-08-20T06:43:39.000Z</published>
    <updated>2021-08-20T06:43:39.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>JavaScript基础知识</p><ol><li>ES6语法规范（结构赋值、模板字符串、箭头函数）</li><li>ES6模块化（默认、分别、统一暴露）</li><li>包管理器（npm、yarn）</li><li>原型、原型链</li><li>数组常用方法</li><li>axios</li><li>promise</li></ol></blockquote><h2 id="1-Vue-简介"><a href="#1-Vue-简介" class="headerlink" title="1 Vue 简介"></a>1 Vue 简介</h2><ul><li>渐进式JavaScript框架</li><li>简化Dom操作</li><li>响应式数据驱动</li></ul><h2 id="2-Vue-特点"><a href="#2-Vue-特点" class="headerlink" title="2 Vue 特点"></a>2 Vue 特点</h2><h3 id="2-1-组件化模式"><a href="#2-1-组件化模式" class="headerlink" title="2.1 组件化模式"></a>2.1 组件化模式</h3><p>采用组件化模式，提高代码复用率，易于维护。</p><h3 id="2-2-声明式编码"><a href="#2-2-声明式编码" class="headerlink" title="2.2 声明式编码"></a>2.2 声明式编码</h3><p>使用Vue指令，无需直接操作DOM，提高开发效率。</p><h3 id="2-3-虚拟DOM-Diff"><a href="#2-3-虚拟DOM-Diff" class="headerlink" title="2.3 虚拟DOM+Diff"></a>2.3 虚拟DOM+Diff</h3><p>数据-&gt;虚拟DOM-&gt;真实DOM。</p><p>通过Diff比较判断虚拟DOM和真实DOM的区别，从而更新真实DOM。</p><p><img src="/Vue%E5%9F%BA%E7%A1%80/image-20220607105031042.png" alt="image-20220607105031042"></p><h2 id="3-第一个-Vue-程序"><a href="#3-第一个-Vue-程序" class="headerlink" title="3 第一个 Vue 程序"></a>3 第一个 Vue 程序</h2><ul><li>导入开发版本Vue.js</li><li>创建Vue实例对象，设置 <code>el</code> 和 <code>data</code> 属性</li><li>使用简洁的模板语法把数据渲染到页面上</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; message &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">message</span>: <span class="string">&#x27;Hello Vue!&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/Vue%E5%9F%BA%E7%A1%80/image-20210823084926166.png" alt="image-20210823084926166"></p><h2 id="4-el-挂载点"><a href="#4-el-挂载点" class="headerlink" title="4 el 挂载点"></a>4 el 挂载点</h2><p>el（element：元素），设置挂载点。</p><ul><li><p>作用范围：Vue会管理el选项命中的元素及其内部的后代元素。</p></li><li><p>选择器：可以使用其他选择器，但是建议使用ID选择器。</p></li><li><p>dom元素：可以使用其他的双标签，但不能使用 <code>html</code>和 <code>body</code>。</p></li></ul><h2 id="5-data-数据对象"><a href="#5-data-数据对象" class="headerlink" title="5 data 数据对象"></a>5 data 数据对象</h2><ul><li>Vue用到的数据定义在data中。</li><li>data中可以写复杂类型的数据。</li><li>渲染复杂的数据类型时，遵循js语法即可。</li></ul><h2 id="6-Vue-指令"><a href="#6-Vue-指令" class="headerlink" title="6 Vue 指令"></a>6 Vue 指令</h2><h3 id="6-1-本地应用——计数器"><a href="#6-1-本地应用——计数器" class="headerlink" title="6.1 本地应用——计数器"></a>6.1 本地应用——计数器</h3><h4 id="6-1-1-本地应用-v-text-指令"><a href="#6-1-1-本地应用-v-text-指令" class="headerlink" title="6.1.1 本地应用 v-text 指令"></a>6.1.1 本地应用 v-text 指令</h4><p>设置标签的文本值（textContent）</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-text</span>=<span class="string">&quot;message+&#x27;!&#x27;&quot;</span>&gt;</span>地址：<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>地址：&#123;&#123;message+&quot;!&quot;&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> hello = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">message</span>: <span class="string">&quot;深圳市南山区&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/Vue%E5%9F%BA%E7%A1%80/image-20210823093443387.png" alt="image-20210823093443387"></p><h4 id="6-1-2-本地应用-v-html-指令"><a href="#6-1-2-本地应用-v-html-指令" class="headerlink" title="6.1.2 本地应用 v-html 指令"></a>6.1.2 本地应用 v-html 指令</h4><p>设置标签的innerHTML，内容中有html结构会被解析为标签。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span> <span class="attr">v-html</span>=<span class="string">&quot;content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> hello = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">content</span>: <span class="string">&quot;&lt;a href=&#x27;https://www.baidu.com&#x27;&gt;百度&lt;/a&gt;&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/Vue%E5%9F%BA%E7%A1%80/image-20210823094646480.png" alt="image-20210823094646480"></p><h4 id="6-1-3-本地应用-v-on-指令"><a href="#6-1-3-本地应用-v-on-指令" class="headerlink" title="6.1.3 本地应用 v-on 指令"></a>6.1.3 本地应用 v-on 指令</h4><p>为元素绑定事件，事件名不需要写on，指令可以简写为@。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;事件绑定&quot;</span> <span class="attr">v-on:click</span>=<span class="string">&quot;doIt&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;事件绑定&quot;</span> <span class="attr">v-on:mouseenter</span>=<span class="string">&quot;doIt&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;事件绑定&quot;</span> <span class="attr">v-on:dblclick</span>=<span class="string">&quot;doIt&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;事件绑定&quot;</span> @<span class="attr">dbclick</span>=<span class="string">&quot;doIt&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span><br><span class="line">    <span class="attr">methods</span>:&#123;</span><br><span class="line">        <span class="attr">doIt</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="comment">// 逻辑</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;v-on指令&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;doIt&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> hello = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">doIt</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(<span class="string">&quot;Do It!&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/Vue%E5%9F%BA%E7%A1%80/image-20210823101736406.png" alt="image-20210823101736406"></p><h4 id="6-1-4-计数器"><a href="#6-1-4-计数器" class="headerlink" title="6.1.4 计数器"></a>6.1.4 计数器</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;-&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;sub&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-text</span>=<span class="string">&quot;count&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;+&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> hello = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">count</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">sub</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">count</span> &gt; <span class="number">0</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">count</span>--;</span></span><br><span class="line"><span class="language-javascript">                    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">alert</span>(<span class="string">&quot;不能再减了！&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">add</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">count</span> &lt; <span class="number">5</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">count</span>++;</span></span><br><span class="line"><span class="language-javascript">                    &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="title function_">alert</span>(<span class="string">&quot;不能再加了！&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="6-2-本地应用——图片切换"><a href="#6-2-本地应用——图片切换" class="headerlink" title="6.2 本地应用——图片切换"></a>6.2 本地应用——图片切换</h3><h4 id="6-2-1-本地应用-v-show-指令"><a href="#6-2-1-本地应用-v-show-指令" class="headerlink" title="6.2.1 本地应用 v-show 指令"></a>6.2.1 本地应用 v-show 指令</h4><p>根据布尔值切换显示状态（适用于频繁切换的元素）。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;切换显示状态&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;toggleShow&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./Gitee.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;jpg&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./GitHub.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;jpg&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;age&gt;=18&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> hello = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">isShow</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">age</span>: <span class="number">17</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">toggleShow</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">isShow</span> = !<span class="variable language_">this</span>.<span class="property">isShow</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/Vue%E5%9F%BA%E7%A1%80/image-20210823170604902.png" alt="image-20210823170604902"></p><p><img src="/Vue%E5%9F%BA%E7%A1%80/image-20210823170542542.png" alt="image-20210823170542542"></p><h4 id="6-2-2-本地应用-v-if-指令"><a href="#6-2-2-本地应用-v-if-指令" class="headerlink" title="6.2.2 本地应用 v-if 指令"></a>6.2.2 本地应用 v-if 指令</h4><p>根据表达式真假，切换元素的显示和隐藏（操作dom元素，对性能消耗大）。</p><p>本质是操作dom元素来切换显示状态，表达式为真时，元素存在于dom树中，为假时，从dom树中移除。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;切换显示&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;toggleShow&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-if</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>Hello Vue by v-if<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>&gt;</span>Hello Vue by v-show<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> hello = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">isShow</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">toggleShow</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">isShow</span> = !<span class="variable language_">this</span>.<span class="property">isShow</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/Vue%E5%9F%BA%E7%A1%80/image-20210823170644164.png" alt="image-20210823170644164"></p><p><img src="/Vue%E5%9F%BA%E7%A1%80/image-20210823170711956.png" alt="image-20210823170711956"></p><h4 id="6-2-3-本地应用-v-bind-指令"><a href="#6-2-3-本地应用-v-bind-指令" class="headerlink" title="6.2.3 本地应用 v-bind 指令"></a>6.2.3 本地应用 v-bind 指令</h4><p>设置元素的属性（比如src，title，class）。</p><p>v-bind:属性=表达式（v-bind可省略）。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.active</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;imgSrc&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;imgSrc&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">:title</span>=<span class="string">&quot;imgTitle+&#x27;!!!&#x27;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;imgSrc&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;active:isActive&#125;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;toggleActive&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> hello = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">isActive</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">imgSrc</span>: <span class="string">&quot;./Gitee.png&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">imgTitle</span>: <span class="string">&quot;Gitee&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">toggleActive</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">isActive</span> = !<span class="variable language_">this</span>.<span class="property">isActive</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="6-2-4-图片切换"><a href="#6-2-4-图片切换" class="headerlink" title="6.2.4 图片切换"></a>6.2.4 图片切换</h4> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.active</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;imgArr[index]&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;prev&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;index!=0&quot;</span>&gt;</span>上一张<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;next&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;index&lt;imgArr.length-1&quot;</span>&gt;</span>下一张<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> hello = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">isActive</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">imgArr</span>: [<span class="string">&#x27;./Gitee.png&#x27;</span>, <span class="string">&#x27;./GitHub.png&#x27;</span>, <span class="string">&#x27;./weixin.png&#x27;</span>, <span class="string">&#x27;./QQ.png&#x27;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">index</span>: <span class="number">0</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">prev</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">index</span> &gt; <span class="number">0</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">index</span>--;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">next</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">index</span> &lt; <span class="variable language_">this</span>.<span class="property">imgArr</span>.<span class="property">length</span>-<span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">this</span>.<span class="property">index</span>++;</span></span><br><span class="line"><span class="language-javascript">                    &#125;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/Vue%E5%9F%BA%E7%A1%80/image-20210824134421330.png" alt="image-20210824134421330"></p><p><img src="/Vue%E5%9F%BA%E7%A1%80/image-20210824134439473.png" alt="image-20210824134439473"></p><p><img src="/Vue%E5%9F%BA%E7%A1%80/image-20210824134459233.png" alt="image-20210824134459233"></p><h3 id="6-3-本地应用——小黑记事本"><a href="#6-3-本地应用——小黑记事本" class="headerlink" title="6.3 本地应用——小黑记事本"></a>6.3 本地应用——小黑记事本</h3><h4 id="6-3-1-本地应用-v-for-指令"><a href="#6-3-1-本地应用-v-for-指令" class="headerlink" title="6.3.1 本地应用 v-for 指令"></a>6.3.1 本地应用 v-for 指令</h4><p>根据数据生成列表结构。</p><p>数组经常和 <code>v-for</code> 结合使用。</p><p>语法是<code>( item, index) in 数据</code>。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;添加数据&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;add&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;移除数据&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;remove&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in arr&quot;</span>&gt;</span></span><br><span class="line">               &#123;&#123;index&#125;&#125; &#123;&#123; item &#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span> <span class="attr">v-for</span>=<span class="string">&quot;item in vegetables&quot;</span> <span class="attr">:title</span>=<span class="string">&quot;item.name&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123; item.name &#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> hello = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">arr</span>: [<span class="string">&quot;北京&quot;</span>, <span class="string">&quot;上海&quot;</span>, <span class="string">&quot;广州&quot;</span>, <span class="string">&quot;深圳&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">vegetables</span>: [</span></span><br><span class="line"><span class="language-javascript">                    &#123;<span class="attr">name</span>: <span class="string">&quot;西红柿&quot;</span>&#125;,</span></span><br><span class="line"><span class="language-javascript">                    &#123;<span class="attr">name</span>: <span class="string">&quot;西兰花&quot;</span>&#125;</span></span><br><span class="line"><span class="language-javascript">                ]</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">add</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">vegetables</span>.<span class="title function_">push</span>(&#123;<span class="attr">name</span>: <span class="string">&quot;西葫芦&quot;</span>&#125;);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">remove</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">vegetables</span>.<span class="title function_">shift</span>();</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="6-3-2-本地应用-v-on-补充"><a href="#6-3-2-本地应用-v-on-补充" class="headerlink" title="6.3.2 本地应用 v-on 补充"></a>6.3.2 本地应用 v-on 补充</h4><p>传递自定义参数，<a href="https://cn.vuejs.org/v2/api/#v-on">事件修饰符</a>（.修饰）。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;点我&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;doIt(666, &#x27;adt&#x27;)&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;saiHi&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> hello = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">doIt</span>:<span class="keyword">function</span>(<span class="params">p1, p2</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(p1+p2);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">saiHi</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(<span class="string">&quot;你好！&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="6-3-3-本地应用-v-model-指令"><a href="#6-3-3-本地应用-v-model-指令" class="headerlink" title="6.3.3 本地应用 v-model 指令"></a>6.3.3 本地应用 v-model 指令</h4><p>获取和设置表单元素的值（双向数据绑定）。</p><p>绑定的数据会和表单元素值相关联。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;设置message&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;setMessage&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;message&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;getMessage&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> hello = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">message</span>: <span class="string">&quot;深圳市南山区&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">getMessage</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">message</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">setMessage</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">message</span> = <span class="string">&quot;广东省&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="6-3-4-小黑记事本"><a href="#6-3-4-小黑记事本" class="headerlink" title="6.3.4 小黑记事本"></a>6.3.4 小黑记事本</h4><h5 id="6-3-4-1-新增"><a href="#6-3-4-1-新增" class="headerlink" title="6.3.4.1 新增"></a>6.3.4.1 新增</h5><ol><li>生成列表结构（v-for 数组）。</li><li>获取用户输入（v-model）。</li><li>回车，新增数据（v-on，.enter，添加数据）。</li></ol><h5 id="6-3-4-2-删除"><a href="#6-3-4-2-删除" class="headerlink" title="6.3.4.2 删除"></a>6.3.4.2 删除</h5><ol><li>数据改变，和数据绑定的元素也会同步改变。</li><li>事件可接受自定义参数。</li><li>点击删除指定内容(v-on,splice).</li></ol><h5 id="6-3-4-3-统计"><a href="#6-3-4-3-统计" class="headerlink" title="6.3.4.3 统计"></a>6.3.4.3 统计</h5><ol><li>统计信息个数（v-text length）</li><li>基于数据的开发方式。</li></ol><h5 id="6-3-4-4-清空"><a href="#6-3-4-4-清空" class="headerlink" title="6.3.4.4 清空"></a>6.3.4.4 清空</h5><p>点击清除所有信息（v-on，清空数组）。</p><h5 id="6-3-4-5-隐藏"><a href="#6-3-4-5-隐藏" class="headerlink" title="6.3.4.5 隐藏"></a>6.3.4.5 隐藏</h5><p>没有数据时，隐藏元素（v-show，v-if 数组非空）。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;items&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入待办事项&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;addlist&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in list&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123; index+1 &#125;&#125; &#123;&#123;item&#125;&#125;</span><br><span class="line">                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;X&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;remove(index)&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-show</span>=<span class="string">&quot;list.length!=0&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">strong</span>&gt;</span></span><br><span class="line">                &#123;&#123; list.length &#125;&#125; 个待办</span><br><span class="line">            <span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;清空待办&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;list.length!=0&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;removeAll&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> hello = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">list</span>: [<span class="string">&quot;写代码&quot;</span>, <span class="string">&quot;吃饭&quot;</span>, <span class="string">&quot;睡觉&quot;</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">items</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">addlist</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">list</span>.<span class="title function_">push</span>(<span class="variable language_">this</span>.<span class="property">items</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">remove</span>:<span class="keyword">function</span>(<span class="params">index</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">list</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">removeAll</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">list</span> = [];</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="6-4-网络应用"><a href="#6-4-网络应用" class="headerlink" title="6.4 网络应用"></a>6.4 网络应用</h3><h4 id="6-4-1-axios-基本使用"><a href="#6-4-1-axios-基本使用" class="headerlink" title="6.4.1 axios 基本使用"></a>6.4.1 axios 基本使用</h4><p><a href="https://github.com/axios/axios">axios</a>是一个功能强大的网络请求库。</p><ul><li><code>axios</code> 必须先导入再使用。</li><li>使用 <code>get</code> 或 <code>post</code> 方法即可发送对应的请求。</li><li><code>then</code> 方法中的回调函数会在请求成功或失败时触发。</li><li>通过回调函数的形参可以获取响应内容，或错误信息。 </li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">// get 语法</span><br><span class="line">axios.get(地址?key1=value1&amp;key2=value2).then(function(reponse)&#123;&#125;,function(err)&#123;&#125;)</span><br><span class="line">// post 语法</span><br><span class="line">axios.post(地址,&#123;key1:value1,key2:value2&#125;).then(function(reponse)&#123;&#125;,function(err)&#123;&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;get请求&quot;</span> <span class="attr">class</span>=<span class="string">&quot;get&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;post请求&quot;</span> <span class="attr">class</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            接口1：随机笑话</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            请求地址：https://autumnfish.cn/api/joke/list</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            请求方法：get</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            请求参数：num（笑话条数）</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            响应内容：随机笑话</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        */</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.get&quot;</span>).<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            axios.<span class="title function_">get</span>(<span class="string">&quot;https://autumnfish.cn/api/joke/list?num=3&quot;</span>).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">response</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span></span><br><span class="line"><span class="language-javascript">            &#125;,<span class="keyword">function</span>(<span class="params">err</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            接口2：用户注册</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            请求地址：https://autumnfish.cn/api/user/reg</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            请求方法：post</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            请求参数：username（用户名 字符串）</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">            响应内容：注册成功或失败</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">        */</span></span></span><br><span class="line"><span class="language-javascript">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.post&quot;</span>).<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">            axios.<span class="title function_">post</span>(<span class="string">&quot;https://autumnfish.cn/api/user/reg&quot;</span>, &#123;<span class="attr">username</span>: <span class="string">&quot;jack1122654&quot;</span>&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">response</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(response);</span></span><br><span class="line"><span class="language-javascript">            &#125;,<span class="keyword">function</span>(<span class="params">err</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="6-4-2-axios-加-vue"><a href="#6-4-2-axios-加-vue" class="headerlink" title="6.4.2 axios 加 vue"></a>6.4.2 axios 加 vue</h4><ul><li><code>axios</code> 回调函数中的 <code>this</code> 已经改变，无法访问到 <code>data</code> 中数据。</li><li>把 <code>this</code> 保存起来，回调函数中直接使用保存的 <code>this</code> 即可。</li><li>和本地应用最大的区别就是改变了数据来源。</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;获取笑话&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;getJoke&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; jokes &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> hello = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">jokes</span>: <span class="string">&quot;笑话&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    接口1：随机笑话</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    请求地址：https://autumnfish.cn/api/joke</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    请求方法：get</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    请求参数：无</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    响应内容：获取一条随机笑话</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                */</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">getJoke</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> that = <span class="variable language_">this</span>;</span></span><br><span class="line"><span class="language-javascript">                    axios.<span class="title function_">get</span>(<span class="string">&quot;https://autumnfish.cn/api/joke&quot;</span>).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">response</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        that.<span class="property">jokes</span> = response.<span class="property">data</span>;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">data</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;,<span class="keyword">function</span>(<span class="params">err</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span></span><br><span class="line"><span class="language-javascript">                    &#125;);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="6-4-3-天知道"><a href="#6-4-3-天知道" class="headerlink" title="6.4.3 天知道"></a>6.4.3 天知道</h4><ul><li>应用的逻辑代码建议和页面分离，使用单独的 <code>js</code> 文件编写。</li><li><code>axios</code> 回调函数中 <code>this</code> 指向改变了，需要额外保存一份。</li><li>服务器返回的数据比较复杂时，获取的时候需要注意层级结构。</li></ul><h5 id="6-4-3-1-回车查询"><a href="#6-4-3-1-回车查询" class="headerlink" title="6.4.3.1 回车查询"></a>6.4.3.1 回车查询</h5><ul><li><p>按下回车（v-on，keyup.enter）</p></li><li><p>查询数据（axios 接口，v-model） </p></li><li><p>渲染数据（v-for 数组 that）</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  天气查询接口</span></span><br><span class="line"><span class="comment">请求地址：http://wthrcdn.etouch.cn/weather_mini</span></span><br><span class="line"><span class="comment">请求方法：get</span></span><br><span class="line"><span class="comment">请求参数：city（查询的城市名）</span></span><br><span class="line"><span class="comment">响应内容：天气信息</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h5 id="6-4-3-2-点击查询"><a href="#6-4-3-2-点击查询" class="headerlink" title="6.4.3.2 点击查询"></a>6.4.3.2 点击查询</h5><ul><li>点击城市（v-on 自定义参数）。</li><li>查询数据（this.方法()）。</li><li>渲染数据。</li><li>自定义参数让代码复用性更高。</li><li><code>methods</code> 中定义的方法内部，可以通过 <code>this</code> 关键字点出其他的方法。</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Vue<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;city&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入要查询的城市&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;getWeather&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">value</span>=<span class="string">&quot;搜索&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;getWeather&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;changeCity(&#x27;北京&#x27;)&quot;</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;changeCity(&#x27;上海&#x27;)&quot;</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;changeCity(&#x27;广州&#x27;)&quot;</span>&gt;</span>广州<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;changeCity(&#x27;深圳&#x27;)&quot;</span>&gt;</span>深圳<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in weatherList&quot;</span>&gt;</span>&#123;&#123;item.date&#125;&#125; | &#123;&#123;item.fengxiang&#125;&#125; | &#123;&#123;item.high&#125;&#125; | &#123;&#123;item.low&#125;&#125; | &#123;&#123;item.type&#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> hello = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">data</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">city</span>: <span class="string">&quot;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">weatherList</span>: []</span></span><br><span class="line"><span class="language-javascript">            &#125;,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">methods</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">/*</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    请求地址：http://wthrcdn.etouch.cn/weather_mini</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    请求方法：get</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    请求参数：city（查询的城市名）</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                    响应内容：天气信息</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">                */</span></span></span><br><span class="line"><span class="language-javascript">                <span class="attr">getWeather</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> that = <span class="variable language_">this</span>;</span></span><br><span class="line"><span class="language-javascript">                    axios.<span class="title function_">get</span>(<span class="string">&quot;http://wthrcdn.etouch.cn/weather_mini?city=&quot;</span>+<span class="variable language_">this</span>.<span class="property">city</span>).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">response</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                        that.<span class="property">weather</span> = response.<span class="property">data</span>.<span class="property">data</span>.<span class="property">forecast</span>;</span></span><br><span class="line"><span class="language-javascript">                        that.<span class="property">weatherList</span> = response.<span class="property">data</span>.<span class="property">data</span>.<span class="property">forecast</span>;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(response.<span class="property">data</span>);</span></span><br><span class="line"><span class="language-javascript">                    &#125;,<span class="keyword">function</span>(<span class="params">err</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span></span><br><span class="line"><span class="language-javascript">                    &#125;);</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">changeCity</span>:<span class="keyword">function</span>(<span class="params">cityName</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="property">city</span> = cityName;</span></span><br><span class="line"><span class="language-javascript">                    <span class="variable language_">this</span>.<span class="title function_">getWeather</span>();</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="6-5-综合应用"><a href="#6-5-综合应用" class="headerlink" title="6.5 综合应用"></a>6.5 综合应用</h3><h4 id="6-5-1-音乐查询"><a href="#6-5-1-音乐查询" class="headerlink" title="6.5.1 音乐查询"></a>6.5.1 音乐查询</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*歌曲搜索接口</span></span><br><span class="line"><span class="comment">请求地址：https://autumnfish.cn/search</span></span><br><span class="line"><span class="comment">请求方法：get</span></span><br><span class="line"><span class="comment">请求参数：keywords（查询的关键字）</span></span><br><span class="line"><span class="comment">响应内容：歌曲搜索结果</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><ul><li>按下回车（v-on keyup.enter）。</li><li>查询数据（axios接口 v-model）。</li><li>渲染数据（v-for 数组 that）。</li></ul><h4 id="6-5-2-音乐播放"><a href="#6-5-2-音乐播放" class="headerlink" title="6.5.2 音乐播放"></a>6.5.2 音乐播放</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*歌曲url获取接口</span></span><br><span class="line"><span class="comment">请求地址：https://autumnfish.cn/song/url</span></span><br><span class="line"><span class="comment">请求方法：get</span></span><br><span class="line"><span class="comment">请求参数：id（歌曲id）</span></span><br><span class="line"><span class="comment">响应内容：歌曲的url地址</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><ul><li>点击播放（v-on）。</li><li>歌曲地址获取（接口 歌曲id）。</li><li>歌曲地址设置（v-bind）。</li><li>歌曲id依赖于歌曲搜索的结果，对于不用的数据也需要关注。</li></ul><h4 id="6-5-3-歌曲封面"><a href="#6-5-3-歌曲封面" class="headerlink" title="6.5.3 歌曲封面"></a>6.5.3 歌曲封面</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*歌曲详情获取接口</span></span><br><span class="line"><span class="comment">请求地址：https://autumnfish.cn/song/detail</span></span><br><span class="line"><span class="comment">请求方法：get</span></span><br><span class="line"><span class="comment">请求参数：ids（歌曲id）</span></span><br><span class="line"><span class="comment">响应内容：歌曲详情，包含封面信息</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><ul><li>点击播放（v-on 增加逻辑）。</li><li>歌曲封面获取（接口 歌曲id）。</li><li>歌曲封面设置（v-bind）。</li></ul><h4 id="6-5-4-歌曲评论"><a href="#6-5-4-歌曲评论" class="headerlink" title="6.5.4 歌曲评论"></a>6.5.4 歌曲评论</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*歌曲热门评论获取接口</span></span><br><span class="line"><span class="comment">请求地址：https://autumnfish.cn/comment/hot?type=0</span></span><br><span class="line"><span class="comment">请求方法：get</span></span><br><span class="line"><span class="comment">请求参数：id（歌曲id，type固定为0）</span></span><br><span class="line"><span class="comment">响应内容：歌曲的热门评论</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><ul><li>点击播放。</li><li>歌曲评论获取。</li><li>歌曲评论渲染。</li></ul><h4 id="6-5-5-播放动画"><a href="#6-5-5-播放动画" class="headerlink" title="6.5.5 播放动画"></a>6.5.5 播放动画</h4><ul><li>监听音乐播放（v-on play）。</li><li>监听音乐暂停（v-on pause）。</li><li>操纵类名（v-bind 对象）。</li><li>audio标签的play事件会在音频播放的时候触发。</li><li>audio标签的pause事件会在音频暂停的时候触发。</li><li>通过对象的方式设置类名，类名生效与否取决于后面值得真假。</li></ul><h4 id="6-5-6-播放-mv"><a href="#6-5-6-播放-mv" class="headerlink" title="6.5.6 播放 mv"></a>6.5.6 播放 mv</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">请求地址:https://autumnfish.cn/mv/url</span></span><br><span class="line"><span class="comment">    请求方法:get</span></span><br><span class="line"><span class="comment">    请求参数:id(mvid,为0表示没有mv)</span></span><br><span class="line"><span class="comment">    响应内容:mv的地址</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h5 id="6-5-6-1-index-css"><a href="#6-5-6-1-index-css" class="headerlink" title="6.5.6.1 index.css"></a>6.5.6.1 index.css</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>,</span><br><span class="line"><span class="selector-tag">ul</span>,</span><br><span class="line"><span class="selector-tag">dl</span>,</span><br><span class="line"><span class="selector-tag">dd</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrap</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&quot;../images/bg.jpg&quot;</span>) no-repeat;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.play_wrap</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">544px</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">272px</span>;</span><br><span class="line">  <span class="comment">/* background-color: #f9f9f9; */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.search_bar</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#1eacda</span>;</span><br><span class="line">  <span class="attribute">border-top-left-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">border-top-right-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">11</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.search_bar</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">23px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.search_bar</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">23px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">296px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">34px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">17px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&quot;../images/zoom.png&quot;</span>) <span class="number">265px</span> center no-repeat</span><br><span class="line">    <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.45</span>);</span><br><span class="line">  <span class="attribute">text-indent</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.center_con</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">435px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.5</span>);</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.song_wrapper</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">435px</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.song_stretch</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">600px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.song_list</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">  <span class="attribute">overflow-x</span>: hidden;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.song_list</span>::-webkit-scrollbar &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.song_list</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">580px</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.song_list</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child</span>(odd) &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">240</span>, <span class="number">240</span>, <span class="number">240</span>, <span class="number">0.3</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.song_list</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">17px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">17px</span>;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;../images/play.png&quot;</span>);</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.song_list</span> <span class="selector-tag">li</span> <span class="selector-tag">b</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">122px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.song_stretch</span> <span class="selector-class">.song_list</span> <span class="selector-tag">li</span> <span class="selector-tag">b</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.song_stretch</span> <span class="selector-class">.song_list</span> <span class="selector-tag">li</span> <span class="selector-tag">em</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.song_list</span> <span class="selector-tag">li</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">23px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">17px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.song_list</span> <span class="selector-tag">li</span> <span class="selector-tag">span</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&quot;../images/table.png&quot;</span>) left -<span class="number">48px</span> no-repeat;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.song_list</span> <span class="selector-tag">li</span> <span class="selector-tag">em</span>,</span><br><span class="line"><span class="selector-class">.song_list</span> <span class="selector-tag">li</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player_con</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">435px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player_con2</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">435px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player_con2</span> <span class="selector-tag">video</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">355px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">265px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.disc</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">73px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">9</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.cover</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">125px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">112px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">75px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">8</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.comment_wrapper</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">180px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">435px</span>;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">600px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">25px</span> <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.comment_wrapper</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.comment_wrapper</span> <span class="selector-class">.comment_list</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: auto;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">410px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.comment_wrapper</span> <span class="selector-class">.comment_list</span>::-webkit-scrollbar &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.comment_wrapper</span> <span class="selector-tag">dl</span> &#123;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">55px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment_wrapper</span> <span class="selector-tag">dt</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment_wrapper</span> <span class="selector-tag">dt</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment_wrapper</span> <span class="selector-tag">dd</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment_wrapper</span> <span class="selector-class">.name</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">padding-top</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment_wrapper</span> <span class="selector-class">.detail</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.audio_con</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f1f3f4</span>;</span><br><span class="line">  <span class="attribute">border-bottom-left-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">border-bottom-right-radius</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.myaudio</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f1f3f4</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 旋转的动画 */</span></span><br><span class="line"><span class="keyword">@keyframes</span> Rotate &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 旋转的类名 */</span></span><br><span class="line"><span class="selector-class">.autoRotate</span> &#123;</span><br><span class="line">  <span class="attribute">animation-name</span>: Rotate;</span><br><span class="line">  <span class="attribute">animation-iteration-count</span>: infinite;</span><br><span class="line">  <span class="attribute">animation-play-state</span>: paused;</span><br><span class="line">  <span class="attribute">animation-timing-function</span>: linear;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 是否正在播放 */</span></span><br><span class="line"><span class="selector-class">.player_con</span><span class="selector-class">.playing</span> <span class="selector-class">.disc</span>,</span><br><span class="line"><span class="selector-class">.player_con</span><span class="selector-class">.playing</span> <span class="selector-class">.cover</span> &#123;</span><br><span class="line">  <span class="attribute">animation-play-state</span>: running;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.play_bar</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">25deg</span>);</span><br><span class="line">  <span class="attribute">transform-origin</span>: <span class="number">12px</span> <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">1s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 播放杆 转回去 */</span></span><br><span class="line"><span class="selector-class">.player_con</span><span class="selector-class">.playing</span> <span class="selector-class">.play_bar</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 搜索历史列表 */</span></span><br><span class="line"><span class="selector-class">.search_history</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">296px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.3</span>);</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">23px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">17px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.search_history</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">24px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.switch_btn</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right_line</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.video_con</span> <span class="selector-tag">video</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">546px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">273px</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">990</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.video_con</span> <span class="selector-class">.mask</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">980</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.8</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.video_con</span> <span class="selector-class">.shutoff</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&quot;../images/shutoff.png&quot;</span>) no-repeat;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">273px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">995</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="6-5-6-2-main-js"><a href="#6-5-6-2-main-js" class="headerlink" title="6.5.6.2 main.js"></a>6.5.6.2 main.js</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  1 歌曲搜索接口</span></span><br><span class="line"><span class="comment">    请求地址:https://autumnfish.cn/search</span></span><br><span class="line"><span class="comment">    请求方法:get</span></span><br><span class="line"><span class="comment">    请求参数:keywords(查询关键字)</span></span><br><span class="line"><span class="comment">    响应内容:歌曲搜索结果</span></span><br><span class="line"><span class="comment">  2 歌曲url获取接口</span></span><br><span class="line"><span class="comment">    请求地址:https://autumnfish.cn/song/url</span></span><br><span class="line"><span class="comment">    请求方法:get</span></span><br><span class="line"><span class="comment">    请求参数:id(歌曲id)</span></span><br><span class="line"><span class="comment">    响应内容:歌曲url地址</span></span><br><span class="line"><span class="comment">  3 歌曲详情获取</span></span><br><span class="line"><span class="comment">    请求地址:https://autumnfish.cn/song/detail</span></span><br><span class="line"><span class="comment">    请求方法:get</span></span><br><span class="line"><span class="comment">    请求参数:ids(歌曲id)</span></span><br><span class="line"><span class="comment">    响应内容:歌曲详情(包括封面信息)</span></span><br><span class="line"><span class="comment">  4 热门评论获取</span></span><br><span class="line"><span class="comment">    请求地址:https://autumnfish.cn/comment/hot?type=0</span></span><br><span class="line"><span class="comment">    请求方法:get</span></span><br><span class="line"><span class="comment">    请求参数:id(歌曲id,地址中的type固定为0)</span></span><br><span class="line"><span class="comment">    响应内容:歌曲的热门评论</span></span><br><span class="line"><span class="comment">  5 mv地址获取</span></span><br><span class="line"><span class="comment">    请求地址:https://autumnfish.cn/mv/url</span></span><br><span class="line"><span class="comment">    请求方法:get</span></span><br><span class="line"><span class="comment">    请求参数:id(mvid,为0表示没有mv)</span></span><br><span class="line"><span class="comment">    响应内容:mv的地址</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">var</span> app = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    <span class="attr">el</span>: <span class="string">&quot;#player&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">qurey</span>:<span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">musicList</span>:[],</span><br><span class="line">        <span class="attr">musicUrl</span>:<span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">musicDetail</span>:<span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">hotComments</span>:[],</span><br><span class="line">        <span class="comment">// 动画播放</span></span><br><span class="line">        <span class="attr">isPlaying</span>:<span class="literal">false</span>,</span><br><span class="line">        <span class="comment">// 遮罩层显示状态</span></span><br><span class="line">        <span class="attr">isShow</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="comment">// mv地址</span></span><br><span class="line">        <span class="attr">mvUrl</span>:<span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">methods</span>: &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 歌曲搜索</span></span><br><span class="line">        <span class="attr">searchMusic</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> that = <span class="variable language_">this</span>;</span><br><span class="line">            axios.<span class="title function_">get</span>(<span class="string">&quot;https://autumnfish.cn/search?keywords=&quot;</span>+<span class="variable language_">this</span>.<span class="property">qurey</span>)</span><br><span class="line">              .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">response</span>)&#123;</span><br><span class="line">                  that.<span class="property">musicList</span> = response.<span class="property">data</span>.<span class="property">result</span>.<span class="property">songs</span>;</span><br><span class="line">              &#125;, <span class="keyword">function</span>(<span class="params">err</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(err);&#125;);</span><br><span class="line">          &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 歌曲播放</span></span><br><span class="line">        <span class="attr">musicPlayer</span>:<span class="keyword">function</span>(<span class="params">musicId</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> that = <span class="variable language_">this</span>;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 获取播放链接</span></span><br><span class="line">            axios.<span class="title function_">get</span>(<span class="string">&quot;https://autumnfish.cn/song/url?id=&quot;</span>+musicId)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">response</span>)&#123;</span><br><span class="line">                that.<span class="property">musicUrl</span> = response.<span class="property">data</span>.<span class="property">data</span>[<span class="number">0</span>].<span class="property">url</span>;</span><br><span class="line">            &#125;, <span class="keyword">function</span>(<span class="params">err</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(err);&#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 获取歌曲封面</span></span><br><span class="line">            axios.<span class="title function_">get</span>(<span class="string">&quot;https://autumnfish.cn/song/detail?ids=&quot;</span>+musicId)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">response</span>)&#123;</span><br><span class="line">                that.<span class="property">musicDetail</span> = response.<span class="property">data</span>.<span class="property">songs</span>[<span class="number">0</span>].<span class="property">al</span>.<span class="property">picUrl</span>;</span><br><span class="line">            &#125;,<span class="keyword">function</span>(<span class="params">err</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(err);&#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 获取歌曲热门评论</span></span><br><span class="line">            axios.<span class="title function_">get</span>(<span class="string">&quot;https://autumnfish.cn/comment/hot?type=0&amp;id=&quot;</span>+musicId)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">response</span>)&#123;</span><br><span class="line">                that.<span class="property">hotComments</span> = response.<span class="property">data</span>.<span class="property">hotComments</span>;</span><br><span class="line">            &#125;, <span class="keyword">function</span>(<span class="params">err</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(err);&#125;);</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 播放状态</span></span><br><span class="line">        <span class="attr">play</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">isPlaying</span> = <span class="literal">true</span>;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 暂停状态</span></span><br><span class="line">        <span class="attr">pause</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">isPlaying</span> = <span class="literal">false</span>;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 播放mv</span></span><br><span class="line">        <span class="attr">playMv</span>:<span class="keyword">function</span>(<span class="params">mvid</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> that = <span class="variable language_">this</span>;</span><br><span class="line">            axios.<span class="title function_">get</span>(<span class="string">&quot;https://autumnfish.cn/mv/url?id=&quot;</span>+mvid)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">response</span>)&#123;</span><br><span class="line">                that.<span class="property">isShow</span> = <span class="literal">true</span>;</span><br><span class="line">                that.<span class="property">mvUrl</span> = response.<span class="property">data</span>.<span class="property">data</span>.<span class="property">url</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">isPlaying</span> = <span class="literal">false</span>;</span><br><span class="line">            &#125;, <span class="keyword">function</span>(<span class="params">err</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(err);&#125;);</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 隐藏</span></span><br><span class="line">        <span class="attr">hide</span>:<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">isShow</span> = <span class="literal">false</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">mvUrl</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5 id="6-5-6-3-music-html"><a href="#6-5-6-3-music-html" class="headerlink" title="6.5.6.3 music.html"></a>6.5.6.3 music.html</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>悦听<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 样式 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./css/index.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrap&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 播放器主体区域 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;play_wrap&quot;</span> <span class="attr">id</span>=<span class="string">&quot;player&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;search_bar&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/player_title.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 搜索歌曲 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">autocomplete</span>=<span class="string">&quot;off&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;qurey&quot;</span> @<span class="attr">keyup.enter</span>=<span class="string">&quot;searchMusic&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;center_con&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 搜索歌曲列表 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;song_wrapper&#x27;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;song_list&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">&quot;item in musicList&quot;</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;musicPlayer(item.id)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span> </span><br><span class="line">             <span class="tag">&lt;<span class="name">b</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">b</span>&gt;</span> </span><br><span class="line">             <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;item.mvid!=0&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;playMv(item.mvid)&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/line.png&quot;</span> <span class="attr">class</span>=<span class="string">&quot;switch_btn&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 歌曲信息容器 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;player_con&quot;</span> <span class="attr">:class</span>=<span class="string">&quot;&#123;playing:isPlaying&#125;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;playing&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/player_bar.png&quot;</span> <span class="attr">class</span>=<span class="string">&quot;play_bar&quot;</span> /&gt;</span></span><br><span class="line">          <span class="comment">&lt;!-- 黑胶碟片 --&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/disc.png&quot;</span> <span class="attr">class</span>=<span class="string">&quot;disc autoRotate&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;musicDetail&quot;</span>  <span class="attr">class</span>=<span class="string">&quot;cover autoRotate&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 评论容器 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;comment_wrapper&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">h5</span> <span class="attr">class</span>=<span class="string">&#x27;title&#x27;</span>&gt;</span>热门留言<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;comment_list&#x27;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dl</span> <span class="attr">v-for</span>=<span class="string">&quot;item in hotComments&quot;</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">dt</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">:src</span>=<span class="string">&quot;item.user.avatarUrl&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">dd</span> <span class="attr">class</span>=<span class="string">&quot;name&quot;</span>&gt;</span>&#123;&#123;item.user.nickname&#125;&#125;<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">dd</span> <span class="attr">class</span>=<span class="string">&quot;detail&quot;</span>&gt;</span></span><br><span class="line">                &#123;&#123;item.content&#125;&#125;</span><br><span class="line">              <span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/line.png&quot;</span> <span class="attr">class</span>=<span class="string">&quot;right_line&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;audio_con&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">audio</span> <span class="attr">ref</span>=<span class="string">&#x27;audio&#x27;</span>  @<span class="attr">play</span>=<span class="string">&quot;play&quot;</span> @<span class="attr">pause</span>=<span class="string">&quot;pause&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;musicUrl&quot;</span>  <span class="attr">controls</span> <span class="attr">autoplay</span> <span class="attr">loop</span> <span class="attr">class</span>=<span class="string">&quot;myaudio&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;video_con&quot;</span> <span class="attr">v-show</span>=<span class="string">&quot;isShow&quot;</span>  <span class="attr">style</span>=<span class="string">&quot;display: none;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">video</span> <span class="attr">:src</span>=<span class="string">&quot;mvUrl&quot;</span> <span class="attr">controls</span>=<span class="string">&quot;controls&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mask&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;hide&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 开发环境版本，包含了有帮助的命令行警告 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 官网提供的 axios 在线地址 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 自己的js --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./js/main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;JavaScript基础知识&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ES6语法规范（结构赋值、模板字符串、箭头函数）&lt;/li&gt;
&lt;li&gt;ES6模块化（默认、分别、统一暴露）&lt;/li&gt;
&lt;li&gt;包管理器（npm、yarn）&lt;/li&gt;
&lt;li&gt;原型、原型链&lt;/li</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Vue" scheme="https://gentletk.gitee.io/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>Flutter使用</title>
    <link href="https://gentletk.gitee.io/Flutter%E4%BD%BF%E7%94%A8/"/>
    <id>https://gentletk.gitee.io/Flutter%E4%BD%BF%E7%94%A8/</id>
    <published>2021-08-12T08:54:28.000Z</published>
    <updated>2021-08-12T08:54:28.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>本文主要介绍Google的开源UI框架——Flutter的简单使用教程。</p></blockquote><h2 id="1-安装前提"><a href="#1-安装前提" class="headerlink" title="1 安装前提"></a>1 安装前提</h2><ul><li><a href="https://git-scm.com/download/win">Git for Windows</a></li><li><a href="https://developer.android.google.cn/studio?hl=zh-cn">Android Studio</a> </li></ul><h2 id="2-获取-Flutter-SDK"><a href="#2-获取-Flutter-SDK" class="headerlink" title="2 获取 Flutter SDK"></a>2 获取 Flutter SDK</h2><p><a href="https://storage.flutter-io.cn/flutter_infra/releases/stable/windows/flutter_windows_2.0.6-stable.zip">Flutter_Windows_2.0.6-stable.zip</a></p><p>解压后将 <code>flutter</code> 目录拷贝到D盘或其他路径。</p><h2 id="3-设置环境变量"><a href="#3-设置环境变量" class="headerlink" title="3 设置环境变量"></a>3 设置环境变量</h2><p>在高级系统设置中选择环境变量，在 <code>Path</code> 中添加Flutter SDK的路径，比如<code>D:\flutter\bin</code>。</p><h2 id="4-运行-flutter-doctor"><a href="#4-运行-flutter-doctor" class="headerlink" title="4 运行 flutter doctor"></a>4 运行 flutter doctor</h2><p>按照提示运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter doctor --android-licenses</span><br></pre></td></tr></table></figure><p>按照提示一直输入 <code>y</code> 即可，然后再次运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter doctor</span><br></pre></td></tr></table></figure><p>提示 <code>No issues found!</code> 说明环境配置正确了。</p><h2 id="5-安装依赖包"><a href="#5-安装依赖包" class="headerlink" title="5 安装依赖包"></a>5 安装依赖包</h2><p>如果工程使用了依赖包，可以运行以下命令来安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter packages get</span><br></pre></td></tr></table></figure><p>Flutter 启动调试工具报错，可能是调试工具没有安装并激活，可以运行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter pub global activate devtools</span><br></pre></td></tr></table></figure><p>当运行<code>flutter doctor</code>后出现<code>Android Studio not installed</code>时，需要指定<code>Android Studio</code>的安装路径，需要运行如下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter config --android-studio-dir <span class="string">&quot;YourAndroidStudioInstallPath&quot;</span></span><br></pre></td></tr></table></figure><p>再次运行<code>flutter doctor</code>。</p><h2 id="6-创建工程"><a href="#6-创建工程" class="headerlink" title="6 创建工程"></a>6 创建工程</h2><p>（1）<code>File</code>-&gt;<code>New Flutter Project</code>-&gt;<code>Flutter App</code>。</p><p>（2）选择Flutter SDK Path。</p><p>（3）填写工程名。</p><p>（4）填写工程路径。</p><h2 id="7-Android构建发布"><a href="#7-Android构建发布" class="headerlink" title="7 Android构建发布"></a>7 Android构建发布</h2><p>（1）检查APP Manifest</p><p>在<code>&lt;app_dir&gt;/android/app/src/main</code>路径下查看<code>AndroidManifest.xml</code>文件，验证这些值是否正确，特别是：</p><p>Application：应用名称</p><p>User-permission：使用权限，必须包含网络访问权限。</p><p>若没有加入网络权限，则在<code>&lt;application</code>上添加以下内容：</p><p><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</code></p><p>（2）查看构建配置</p><p>在<code>&lt;app_dir&gt;/android/app/</code>路径下查看<code>build.gradle</code>文件，验证这些值是否正确，特别是：</p><p>defaultConfig:</p><p>applicationId:指定始终唯一的appid</p><p>versionCode &amp; versionName:指定应用程序版本号和版本字符串</p><p>minSdkVersion &amp; targetSdkVersion:指定最低的API运行级别以及应用程序运行的API级别。 </p><p>（3）添加启动图标</p><p>在<code>&lt;app_dir&gt;/android/app/src/main/res/</code>路径下，将图标文件放入使用配置限定名命名的文件夹中，默认使用<code>mipmap</code>文件夹演示正确的命名约定。</p><p>在<code>AndroidManifest.xml</code>文件中，将<code>android:icon</code>属性更新为引用上一步中的图标，如<code>android:icon=”mipmap/ic_launcher”</code>。</p><p>（4）APP签名</p><p><strong>创建keystore</strong></p><p>在命令行窗口进入<code>&lt;app_dir&gt;</code>路径，输入以下指令，根据提示输入对应信息，生成密钥结构如下所示：</p><p><code>keytool -genkey -v -keystore ./key.jks -keyalg RSA -keysize 2048 -validity 10000 -alias key</code></p><p><img src="/Flutter%E4%BD%BF%E7%94%A8/image-20220725133511680.png" alt="image-20220725133511680"></p><p><strong>引用应用程序中的keystore</strong></p><p>在<code>&lt;app_dir&gt;/android/</code>在创建一个名为<code>key.properties</code>的文件，其中包含对密钥库的引用：</p><p>storePassword=密钥库口令</p><p>keyPassword=key的密钥口令</p><p>keyAlias=key</p><p>storeFile=<app_dir>/key.jks</p><p><strong>在gradle中配置签名</strong></p><p>在<code>&lt;app_dir&gt;/android/app/</code>路径下编辑<code>build.gradle</code>文件，</p><p>在<code>”android &#123;“</code>前加上如下内容：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def keystorePropertiesFile = rootProject.file(<span class="string">&quot;key.properties&quot;</span>)</span><br><span class="line"></span><br><span class="line">def keystoreProperties = new Properties()</span><br><span class="line"></span><br><span class="line">keystoreProperties.load(new FileInputStream(keystorePropertiesFile))</span><br></pre></td></tr></table></figure><p>将</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">buildTypes &#123;</span><br><span class="line"></span><br><span class="line">  release &#123;</span><br><span class="line"></span><br><span class="line">​    // TODO: Add your own signing config <span class="keyword">for</span> the release build.</span><br><span class="line"></span><br><span class="line">​    // Signing with the debug keys <span class="keyword">for</span> now, so `flutter run --release` works.</span><br><span class="line"></span><br><span class="line">​    signingConfig signingConfigs.debug</span><br><span class="line"></span><br><span class="line">  &#125;&#125;</span><br></pre></td></tr></table></figure><p>替换为：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">signingConfigs &#123;</span><br><span class="line"></span><br><span class="line">  release &#123;</span><br><span class="line"></span><br><span class="line">​    keyAlias keystoreProperties[<span class="string">&#x27;keyAlias&#x27;</span>]</span><br><span class="line"></span><br><span class="line">​    keyPassword keystoreProperties[<span class="string">&#x27;keyPassword&#x27;</span>]</span><br><span class="line"></span><br><span class="line">​    storeFile file(keystoreProperties[<span class="string">&#x27;storeFile&#x27;</span>])</span><br><span class="line"></span><br><span class="line">​    storePassword keystoreProperties[<span class="string">&#x27;storePassword&#x27;</span>]</span><br><span class="line"></span><br><span class="line">  &#125;&#125;buildTypes &#123;</span><br><span class="line"></span><br><span class="line">  release &#123;</span><br><span class="line"></span><br><span class="line">​    signingConfig signingConfigs.release</span><br><span class="line"></span><br><span class="line">  &#125;&#125;</span><br></pre></td></tr></table></figure><p>（5）开启混淆</p><p><strong>配置混淆</strong></p><p>在<code>&lt;app_dir&gt;/android/app/</code>路径下创建一个名为<code>proguard-rules.pro</code>的文件，并加入以下规则：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">\<span class="comment">#Flutter Wrapper</span></span><br><span class="line"></span><br><span class="line">-keep class io.flutter.app.** &#123; *; &#125;</span><br><span class="line"></span><br><span class="line">-keep class io.flutter.plugin.** &#123; *; &#125;</span><br><span class="line"></span><br><span class="line">-keep class io.flutter.util.** &#123; *; &#125;</span><br><span class="line"></span><br><span class="line">-keep class io.flutter.view.** &#123; *; &#125;</span><br><span class="line"></span><br><span class="line">-keep class io.flutter.** &#123; *; &#125;</span><br><span class="line"></span><br><span class="line">-keep class io.flutter.plugins.** &#123; *; &#125;</span><br></pre></td></tr></table></figure><p><strong>开启混淆压缩</strong></p><p>在<code>&lt;app_dir&gt;/app/build.gradle</code>文件中，定位到<code>buildTypes</code>块</p><p>在<code>release</code>配置中将<code>minifyEnabled</code>和<code>useProguard</code>设为<code>true</code>，并将混淆文件指向<code>proguard-rules.pro</code></p><p>修改后的<code>buildTypes</code>如下所示：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">buildTypes &#123;</span><br><span class="line">       release &#123;</span><br><span class="line">           signingConfig signingConfigs.release</span><br><span class="line">           minifyEnabled true</span><br><span class="line">           useProguard true</span><br><span class="line">           proguardFiles getDefaultProguardFile(&#x27;proguard-android.txt&#x27;), &#x27;proguard-rules.pro&#x27;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>（6）构建发布版apk</p><p>进入应用程序目录</p><p><code>cd &lt;app_dir&gt;</code></p><p>构建<code>apk</code>（构建好的<code>apk</code>位于<code>&lt;app_dir&gt;/build/app/outputs/apk/app-release.apk</code>）</p><p><code>flutter build apk</code></p><p>安装<code>apk</code></p><p><code>flutter install</code></p><p>构建<code>apk</code>结果如下所示：</p><p><img src="/Flutter%E4%BD%BF%E7%94%A8/image-20220725134059854.png" alt="image-20220725134059854"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;本文主要介绍Google的开源UI框架——Flutter的简单使用教程。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;1-安装前提&quot;&gt;&lt;a href=&quot;#1-安装前提&quot; class=&quot;headerlink&quot; title=&quot;1 安装前提&quot;&gt;&lt;</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Flutter" scheme="https://gentletk.gitee.io/tags/Flutter/"/>
    
  </entry>
  
  <entry>
    <title>uniCloud通讯录实战</title>
    <link href="https://gentletk.gitee.io/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/"/>
    <id>https://gentletk.gitee.io/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/</id>
    <published>2021-07-23T06:57:27.000Z</published>
    <updated>2021-07-23T06:57:27.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-新建uni-app项目——通讯录"><a href="#1-新建uni-app项目——通讯录" class="headerlink" title="1 新建uni-app项目——通讯录"></a>1 新建uni-app项目——通讯录</h3><p>在 <code>HBuilder</code> 选择文件，新建（如果提示需要安装插件，按照提示安装即可，稍后会要求登陆，如果没有HBuilder账户，可以根据提示去注册）：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723150057300.png" alt="image-20210723150057300"></p><h3 id="2-创建云服务空间并关联项目"><a href="#2-创建云服务空间并关联项目" class="headerlink" title="2 创建云服务空间并关联项目"></a>2 创建云服务空间并关联项目</h3><p>在 <code>uniCloud</code> 目录上单击右键，选择打开 <code>uniCloud Web 控制台</code>，根据提示创建云服务空间：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723150241790.png" alt="image-20210723150241790"></p><p>在 <code>uniCloud</code> 目录上单击右键，选择 <code>关联云服务空间或项目</code>，选择刚刚创建好的云服务空间：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723150453854.png" alt="image-20210723150453854"></p><h3 id="3-创建数据表"><a href="#3-创建数据表" class="headerlink" title="3 创建数据表"></a>3 创建数据表</h3><p>在Web控制台的云数据库下点击<kbd>创建数据表</kbd>：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723150749770.png" alt="image-20210723150749770"></p><p>点击表结构，编辑 <code>read</code> 属性值为 <code>true</code>：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723150946596.png" alt="image-20210723150946596"></p><h3 id="4-录入数据"><a href="#4-录入数据" class="headerlink" title="4 录入数据"></a>4 录入数据</h3><p>点击 <kbd>添加记录</kbd>：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723151345693.png" alt="image-20210723151345693"></p><p>添加记录后的数据列表：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723151613854.png" alt="image-20210723151613854"></p><h3 id="5-前端创建组件，读取数据表"><a href="#5-前端创建组件，读取数据表" class="headerlink" title="5 前端创建组件，读取数据表"></a>5 前端创建组件，读取数据表</h3><p>在 <code>pages</code> 目录上单击右键，点击<kbd>新建页面</kbd>，新建 <code>list</code> 页面：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723151857950.png" alt="image-20210723151857950"></p><p>点击预览，运行当前项目，然后修改 <code>list.vue</code> 如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;view&gt;</span><br><span class="line">&lt;unicloud-db v-slot:default=&quot;&#123;data, loading, error, options&#125;&quot; collection=&quot;contacts&quot;&gt;</span><br><span class="line">&lt;view v-if=&quot;error&quot;&gt;&#123;&#123;error.message&#125;&#125;&lt;/view&gt;</span><br><span class="line">&lt;view v-else&gt;</span><br><span class="line">&#123;&#123;data&#125;&#125;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/unicloud-db&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">data() &#123;</span><br><span class="line">return &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>运行出现如下错误：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/QQ%E5%9B%BE%E7%89%8720210723153401.png" alt="QQ图片20210723153401"></p><p>在 <code>database</code> 目录上单击右键，点击<kbd>下载所有DB schema及扩展校验函数</kbd>，刷新后即可看到查询到的数据：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723153725630.png" alt="image-20210723153725630"></p><p>在 <a href="https://ext.dcloud.net.cn/">DCloud 插件市场</a>中搜索 <code>uni-ui</code> ，点击<kbd>使用HBuilderX 导入插件</kbd>：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723154745197.png" alt="image-20210723154745197"></p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723154926104.png" alt="image-20210723154926104"></p><p>修改 <code>list.vue</code> 如下，实现通讯录列表：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;view&gt;</span><br><span class="line">&lt;unicloud-db v-slot:default=&quot;&#123;data, loading, error, options&#125;&quot; collection=&quot;contacts&quot;&gt;</span><br><span class="line">&lt;view v-if=&quot;error&quot;&gt;&#123;&#123;error.message&#125;&#125;&lt;/view&gt;</span><br><span class="line">&lt;view v-else&gt;</span><br><span class="line">&lt;uni-list&gt;</span><br><span class="line">&lt;uni-list-item v-for=&quot;item in data&quot; :key=&quot;item._id&quot; :title=&quot;item.name&quot; :note=&quot;item.phone&quot; link&gt;&lt;/uni-list-item&gt;</span><br><span class="line">&lt;/uni-list&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/unicloud-db&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">data() &#123;</span><br><span class="line">return &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>点击预览，出现scss/sass编译插件未安装的错误，按照提示去安装即可：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723155633815.png" alt="image-20210723155633815"></p><p>修改 <code>list.vue</code> 如下，实现长按删除记录：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;view&gt;</span><br><span class="line">&lt;unicloud-db ref=&quot;udb&quot; v-slot:default=&quot;&#123;data, loading, error, options&#125;&quot; collection=&quot;contacts&quot;&gt;</span><br><span class="line">&lt;view v-if=&quot;error&quot;&gt;&#123;&#123;error.message&#125;&#125;&lt;/view&gt;</span><br><span class="line">&lt;view v-else&gt;</span><br><span class="line">&lt;uni-list&gt;</span><br><span class="line">&lt;uni-list-item v-for=&quot;item in data&quot; @longpress.native=&quot;rmItem(item._id)&quot; :key=&quot;item._id&quot; :title=&quot;item.name&quot; :note=&quot;item.phone&quot; link&gt;&lt;/uni-list-item&gt;</span><br><span class="line">&lt;/uni-list&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/unicloud-db&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">data() &#123;</span><br><span class="line">return &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">rmItem(id) &#123;</span><br><span class="line">this.$refs.udb.remove(id)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>长按后效果如下：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723160718919.png" alt="image-20210723160718919"></p><p>点击确定会提示权限校验未通过：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723160753134.png" alt="image-20210723160753134"></p><p>可以修改 <code>database/contacts.schema.json</code> 文件的 <code>delete</code> 字段值为 <code>true</code>，然后在 <code>contacts.schema.json</code> 上单击右键，点击<kbd>上传DB Schema</kbd>，然后再点击确定就可以删除，删除后如下所示：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723161036613.png" alt="image-20210723161036613"></p><p>在 <code>pages</code> 目录上单击右键，点击<kbd>新建页面</kbd>，新建 <code>add</code> 页面，修改 <code>add.vue</code> 如下，实现新增记录功能：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;view&gt;</span><br><span class="line">&lt;uni-easyinput  v-model=&quot;item.name&quot; placeholder=&quot;姓名&quot; /&gt;</span><br><span class="line">&lt;uni-easyinput  v-model=&quot;item.phone&quot; placeholder=&quot;电话&quot; /&gt;</span><br><span class="line">&lt;button type=&quot;default&quot; @click=&quot;submit&quot;&gt;提交&lt;/button&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">data() &#123;</span><br><span class="line">return &#123;</span><br><span class="line">item:&#123;</span><br><span class="line">&quot;name&quot;:&quot;&quot;,</span><br><span class="line">&quot;phone&quot;:&quot;&quot;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">submit() &#123;</span><br><span class="line">const db = uniCloud.database();</span><br><span class="line">db.collection(&#x27;contacts&#x27;).add(this.item).then(e=&gt;&#123;</span><br><span class="line">console.log(e)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>运行效果如下：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723163530115.png" alt="image-20210723163530115"></p><p>出现权限校验未通过，只需修改 <code>database/contacts.schema.json</code> 文件的 <code>create</code> 字段值为 <code>true</code>，然后在 <code>contacts.schema.json</code> 上单击右键，点击<kbd>上传DB Schema</kbd>，然后再点击确定就可以添加，添加后出现错误：数据库验证失败：提交的字段[&quot;name&quot;,&quot;phone&quot;]在本地数据表的schema文件中不存在”。</p><p>修改 <code>database/contacts.schema.json</code> 文件如下所示：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;bsonType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;object&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;required&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;permission&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;read&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;create&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;update&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;delete&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ID，系统自动生成&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;phone&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>然后在 <code>contacts.schema.json</code> 上单击右键，点击<kbd>上传DB Schema</kbd>，再次提交后效果如下所示：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723164158113.png" alt="image-20210723164158113"></p><p>回到列表页，发现已经添加成功了：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723164248820.png" alt="image-20210723164248820"></p><p>在 <code>pages</code> 目录上单击右键，点击<kbd>新建页面</kbd>，新建 <code>update</code> 页面，修改 <code>update.vue</code> 如下，实现更新记录功能：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;view&gt;</span><br><span class="line">&lt;uni-easyinput  v-model=&quot;item.name&quot; placeholder=&quot;姓名&quot; /&gt;</span><br><span class="line">&lt;uni-easyinput  v-model=&quot;item.phone&quot; placeholder=&quot;电话&quot; /&gt;</span><br><span class="line">&lt;button type=&quot;default&quot; @click=&quot;submit&quot;&gt;更新&lt;/button&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">data() &#123;</span><br><span class="line">return &#123;</span><br><span class="line">item:&#123;</span><br><span class="line">&quot;_id&quot;:&quot;&quot;,</span><br><span class="line">&quot;name&quot;:&quot;&quot;,</span><br><span class="line">&quot;phone&quot;:&quot;&quot;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">onLoad(&#123;item&#125;) &#123;</span><br><span class="line">this.item = JSON.parse(item)</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">submit() &#123;</span><br><span class="line">const db = uniCloud.database();</span><br><span class="line">let item = &#123;...this.item&#125;</span><br><span class="line">delete item._id</span><br><span class="line">db.collection(&#x27;contacts&#x27;).doc(this.item._id).update(item).then(e=&gt;&#123;</span><br><span class="line">console.log(e)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>修改 <code>list.vue</code> 如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;view&gt;</span><br><span class="line">&lt;unicloud-db ref=&quot;udb&quot; v-slot:default=&quot;&#123;data, loading, error, options&#125;&quot; collection=&quot;contacts&quot;&gt;</span><br><span class="line">&lt;view v-if=&quot;error&quot;&gt;&#123;&#123;error.message&#125;&#125;&lt;/view&gt;</span><br><span class="line">&lt;view v-else&gt;</span><br><span class="line">&lt;uni-list&gt;</span><br><span class="line">&lt;uni-list-item v-for=&quot;item in data&quot; @click.native=&quot;updateFn(item)&quot; @longpress.native=&quot;rmItem(item._id)&quot; :key=&quot;item._id&quot; :title=&quot;item.name&quot; :note=&quot;item.phone&quot; link&gt;&lt;/uni-list-item&gt;</span><br><span class="line">&lt;/uni-list&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/unicloud-db&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">data() &#123;</span><br><span class="line">return &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">updateFn(item)&#123;</span><br><span class="line">uni.navigateTo(&#123;</span><br><span class="line">url: &#x27;../update/update?item=&#x27;+JSON.stringify(item),</span><br><span class="line">success: res =&gt; &#123;&#125;,</span><br><span class="line">fail: () =&gt; &#123;&#125;,</span><br><span class="line">complete: () =&gt; &#123;&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;,</span><br><span class="line">rmItem(id) &#123;</span><br><span class="line">this.$refs.udb.remove(id)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>修改 <code>database/contacts.schema.json</code> 文件如下所示：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;bsonType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;object&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;required&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;permission&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;read&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;create&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;update&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;delete&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;properties&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ID，系统自动生成&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;phone&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>然后在 <code>contacts.schema.json</code> 上单击右键，点击<kbd>上传DB Schema</kbd>，预览运行后，在list页面单击联系人即可进入修改页面：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723170745238.png" alt="image-20210723170745238"></p><p>点击更新后，回到list页面刷新后：</p><p><img src="/uniCloud%E9%80%9A%E8%AE%AF%E5%BD%95%E5%AE%9E%E6%88%98/image-20210723170827335.png" alt="image-20210723170827335"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;1-新建uni-app项目——通讯录&quot;&gt;&lt;a href=&quot;#1-新建uni-app项目——通讯录&quot; class=&quot;headerlink&quot; title=&quot;1 新建uni-app项目——通讯录&quot;&gt;&lt;/a&gt;1 新建uni-app项目——通讯录&lt;/h3&gt;&lt;p&gt;在 &lt;cod</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="uni-app" scheme="https://gentletk.gitee.io/tags/uni-app/"/>
    
  </entry>
  
  <entry>
    <title>uniCloud使用</title>
    <link href="https://gentletk.gitee.io/uniCloud%E4%BD%BF%E7%94%A8/"/>
    <id>https://gentletk.gitee.io/uniCloud%E4%BD%BF%E7%94%A8/</id>
    <published>2021-07-22T06:12:02.000Z</published>
    <updated>2021-07-22T06:12:02.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><code>uni-app</code> 是是一个使用 <a href="https://vuejs.org/">Vue.js</a> 开发所有前端应用的框架，开发者编写一套代码，可发布到iOS、Android、Web（响应式）、以及各种小程序（微信/支付宝/百度/头条/QQ/钉钉/淘宝）、快应用等多个平台。</p></blockquote><h2 id="1-创建uni-app项目"><a href="#1-创建uni-app项目" class="headerlink" title="1 创建uni-app项目"></a>1 创建uni-app项目</h2><p>在 <code>HBuilder</code> 选择文件，新建（如果提示需要安装插件，按照提示安装即可，稍后会要求登陆，如果没有 <code>HBuilder</code> 账户，可以根据提示去注册）：</p><p><img src="/uniCloud%E4%BD%BF%E7%94%A8/image-20210722141823663.png" alt="image-20210722141823663"></p><p><img src="/uniCloud%E4%BD%BF%E7%94%A8/image-20210722142059284.png" alt="image-20210722142059284"></p><h2 id="2-创建云服务空间"><a href="#2-创建云服务空间" class="headerlink" title="2 创建云服务空间"></a>2 创建云服务空间</h2><p>在 <code>uniCloud</code> 目录上单击右键，选择打开 <code>uniCloud Web 控制台</code>，根据提示创建云服务空间：</p><p><img src="/uniCloud%E4%BD%BF%E7%94%A8/image-20210722142538030.png" alt="image-20210722142538030"></p><h2 id="3-关联云服务空间"><a href="#3-关联云服务空间" class="headerlink" title="3 关联云服务空间"></a>3 关联云服务空间</h2><p>在 <code>uniCloud</code> 目录上单击右键，选择 <code>关联云服务空间或项目</code>，选择刚刚创建好的云服务空间：</p><p><img src="/uniCloud%E4%BD%BF%E7%94%A8/image-20210722142752925.png" alt="image-20210722142752925"></p><h2 id="4-新建云函数"><a href="#4-新建云函数" class="headerlink" title="4 新建云函数"></a>4 新建云函数</h2><p>在 <code>uniCloud/cloudfunctions</code> 目录上单击右键，选择新建云函数：</p><p><img src="/uniCloud%E4%BD%BF%E7%94%A8/image-20210722142947924.png" alt="image-20210722142947924"></p><p>编辑云函数内容如下：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"><span class="built_in">exports</span>.<span class="property">main</span> = <span class="keyword">async</span> (event, context) =&gt; &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;hello uni-app!&quot;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="5-本地运行云函数"><a href="#5-本地运行云函数" class="headerlink" title="5 本地运行云函数"></a>5 本地运行云函数</h2><p><kbd>CTRL</kbd>+<kbd>R</kbd>，选择 <code>本地运行云函数</code>（如果提示要安装插件，根据提示要求安装即可，如果提示参数不正确，可以点击manifest.json，看是否有appid，如果没有，那就重新获取下appid）：</p><p><img src="/uniCloud%E4%BD%BF%E7%94%A8/image-20210723110217961.png" alt="image-20210723110217961"></p><h2 id="6-上传至云端并运行"><a href="#6-上传至云端并运行" class="headerlink" title="6 上传至云端并运行"></a>6 上传至云端并运行</h2><p>在 <code>uniCloud/cloudfunctions/test</code> 目录上单击右键，选择上传并运行：</p><p><img src="/uniCloud%E4%BD%BF%E7%94%A8/image-20210723144113032.png" alt="image-20210723144113032"></p><p>可以在web控制台查看上传的云函数：</p><p><img src="/uniCloud%E4%BD%BF%E7%94%A8/image-20210723144319826.png" alt="image-20210723144319826"></p><p>修改 <code>pages/index/index.vue</code> ：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;view class=&quot;content&quot;&gt;</span><br><span class="line">&lt;image class=&quot;logo&quot; src=&quot;/static/logo.png&quot;&gt;&lt;/image&gt;</span><br><span class="line">&lt;view class=&quot;text-area&quot;&gt;</span><br><span class="line">&lt;text class=&quot;title&quot;&gt;&#123;&#123;title&#125;&#125;&lt;/text&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/view&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">data() &#123;</span><br><span class="line">return &#123;</span><br><span class="line">title: &#x27;Hello&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">onLoad() &#123;</span><br><span class="line">uniCloud.callFunction(&#123;</span><br><span class="line">name:&quot;test&quot;,</span><br><span class="line">success: (e) =&gt; &#123;</span><br><span class="line">this.title = e</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.content &#123;</span><br><span class="line">display: flex;</span><br><span class="line">flex-direction: column;</span><br><span class="line">align-items: center;</span><br><span class="line">justify-content: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.logo &#123;</span><br><span class="line">height: 200rpx;</span><br><span class="line">width: 200rpx;</span><br><span class="line">margin-top: 200rpx;</span><br><span class="line">margin-left: auto;</span><br><span class="line">margin-right: auto;</span><br><span class="line">margin-bottom: 50rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.text-area &#123;</span><br><span class="line">display: flex;</span><br><span class="line">justify-content: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.title &#123;</span><br><span class="line">font-size: 36rpx;</span><br><span class="line">color: #8f8f94;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>运行到内置浏览器（如果提示要安装插件，按照提示安装即可）：</p><p><img src="/uniCloud%E4%BD%BF%E7%94%A8/image-20210723145059296.png" alt="image-20210723145059296"></p><p><code>uni.callFunction</code> 的好处：</p><ul><li>更安全，黑客攻击都找不到URL入口。</li><li>无需URL，即无需域名，如果是只做APP和小程序，也就无需购买和备案域名。</li><li>自带 <code>uni-id</code> 的token。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;uni-app&lt;/code&gt; 是是一个使用 &lt;a href=&quot;https://vuejs.org/&quot;&gt;Vue.js&lt;/a&gt; 开发所有前端应用的框架，开发者编写一套代码，可发布到iOS、Android、Web（响应式）、以及各种小程序（微</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="uni-app" scheme="https://gentletk.gitee.io/tags/uni-app/"/>
    
  </entry>
  
  <entry>
    <title>OneNET Studio与IoT Studio对比分析</title>
    <link href="https://gentletk.gitee.io/OneNET%20Studio%E4%B8%8EIoT%20Studio%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/"/>
    <id>https://gentletk.gitee.io/OneNET%20Studio%E4%B8%8EIoT%20Studio%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/</id>
    <published>2021-07-09T01:37:19.000Z</published>
    <updated>2021-07-09T01:37:19.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-OneNET-Studio"><a href="#1-OneNET-Studio" class="headerlink" title="1 OneNET Studio"></a>1 OneNET Studio</h2><h3 id="1-1-平台架构"><a href="#1-1-平台架构" class="headerlink" title="1.1 平台架构"></a>1.1 平台架构</h3><p><img src="/OneNETStudio%E4%B8%8EIoTStudio%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/OneNET%20Studio%20%E6%9E%B6%E6%9E%84%E5%9B%BE.png" alt="OneNET Studio 架构图"></p><h3 id="1-2-平台功能"><a href="#1-2-平台功能" class="headerlink" title="1.2 平台功能"></a>1.2 平台功能</h3><h4 id="1-2-1-设备接入与管理"><a href="#1-2-1-设备接入与管理" class="headerlink" title="1.2.1 设备接入与管理"></a>1.2.1 设备接入与管理</h4><ol><li><p><strong>设备接入流程</strong><br><img src="/OneNETStudio%E4%B8%8EIoTStudio%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/OneNET%20Studio%20%E8%AE%BE%E5%A4%87%E6%8E%A5%E5%85%A5%E6%B5%81%E7%A8%8B.png" alt="OneNET Studio 设备接入流程"></p></li><li><p><strong>创建产品</strong><br>产品是一组具有相同功能定义的设备集合，创建产品是使用平台的第一步，快速创建产品后可定义产品物模型、添加对应设备。产品列表用于自建产品及第三方授权产品的管理。</p></li><li><p><strong>开发产品物模型</strong><br><strong>基础功能</strong></p><table><thead><tr><th>功能类型</th><th>说明</th></tr></thead><tbody><tr><td>属性</td><td>用于描述设备的动态特征，包括运行时的状态，应用可发起对属性的读取和设置请求。</td></tr><tr><td>服务</td><td>用于描述终端设备可被外部调用的能力，可设置输入参数和输出参数。服务可实现复杂的业务逻辑，例如执行某项特定的任务；支持同步或异步返回结果。</td></tr><tr><td>事件</td><td>设备运行时可以被触发的上行消息，如设备运行的记录信息，设备异常时发出的告警、故障信息等；可包含多个输出参数。</td></tr></tbody></table><p><strong>功能类别</strong></p><table><thead><tr><th>功能类别</th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>系统功能点</td><td>此类功能点多数与平台提供的服务有关，如LBS定位服务、OneNET设备认证服务等</td></tr><tr><td>标准功能点</td><td>此类功能点多数与产品行业类别相关，为标准行业产品抽象出的一套标准的功能点</td></tr><tr><td>自定义功能点</td><td>此类功能点为用户自定义，产品非标准设备，用户按设备实际情况添加设备功能点，自由度较大。</td></tr></tbody></table></li><li><p><strong>创建设备</strong><br>物理设备要连接到平台，需要先在平台创建设备（支持单个或批量导入创建），并获取连接到平台的鉴权信息。设备列表包含自主创建的设备和他人转移的设备，同时支持灵活的搜索和列表导出。</p></li><li><p><strong>转移设备</strong><br>OneNET Studio 支持跨用户的设备转移（转移双方需实名认证）。用户可通过选择指定设备和导入设备列表两种方式进行设备转移。在向他人转移设备时，需要正确获取目标用户在实名认证时输入的手机号（具体查看方式为：平台右上角头像-账号信息-用户手机）。</p></li></ol><p><img src="/OneNETStudio%E4%B8%8EIoTStudio%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/OneNET%20Studio%20%E8%AE%BE%E5%A4%87%E8%BD%AC%E7%A7%BB%E6%B5%81%E7%A8%8B%E5%9B%BE.png" alt="OneNET Studio 设备转移流程图"></p><ol start="7"><li><p><strong>文件管理</strong><br>平台提供文件管理功能，支持设备或应用通过HTTP方式，将文件上传至平台服务器存储。用户可对上传文件进行查看、下载等管理操作，同时也可基于存储的图片、文档等信息，进行灵活的业务开发。文件管理两种使用场景:</p><ul><li><p><strong>本地文件存储</strong>：设备端通过南向API接口将本地文件上传至平台，平台进行存储，应用对设备上传文件进行管理。</p></li><li><p><strong>远程文件获取</strong></p><p> （1）第三发应用通过控制台页面或云端API将文件上传至平台</p><p> （2）第三方应用通过云端API调用物模型服务（结合系统功能点-文件管理类，可用同步或者异步方式，推荐大文件采用异步方式，文件下载结果可通过服务调用记录API查询执行情况），将文件基础信息下发给设备</p><p> （3）设备根据平台下发数据，向平台发起http请求，下载文件。</p><p> （4）文件下载完成之后，向平台回复第二步调用物模型服务的执行状况（命令响应）<br><strong>文件限制</strong></p><table><thead><tr><th>限制</th><th>描述</th></tr></thead><tbody><tr><td>文件大小</td><td>单个文件不超过20M，一个账号用户文件不超过1G，滚动式覆盖</td></tr><tr><td>文件格式</td><td>目前仅支持图片和文本。格式：jpg、jpeg、png、bmp、gif、webp、tiff、txt。</td></tr><tr><td>文件保存时间</td><td>单个文件保存最长时间为3个月</td></tr><tr><td>文件数量</td><td>单个设备最多保存1000个文件，滚动式覆盖</td></tr></tbody></table></li></ul></li><li><p><strong>标准协议接入</strong><br><strong>(1) 接入协议概述</strong><br>物联网平台支持标准MQTT协议和CoAP协议接入，是物联网的重要组成部分。MQTT是一种基于TCP构建的轻量级发布、订阅传输协议，适用于网络带宽有限的场景，同时其可以保持长连接，具有一定的实效性。CoAP是一个满足受限环境下M2M需求的应用层协议，运行在UDP之上，适合数据采集等场景，广泛应用于对电量需求低、覆盖深度广、终端设备海量连接以及设备成本敏感的环境。典型应用场景为：智能停车、智能抄表、智能井盖、智能路灯等应用场景。<br><strong>(2) MQTT 协议规范</strong><br>平台支持标准 MQTT <strong>3.1.1</strong>版本。<br><strong>(3) CoAP 协议规范</strong><br>平台支持 RFC 7252 Constrained Application Protocol 协议。</p></li><li><p><strong>泛协议接入</strong><br>OneNET Studio目前支持MQTT和CoAP协议，对于其他协议类型，如消防协议GB/T 26875.3-2011则暂未提供接入支持。在智能家居场景中，存在基于ZIGBEE或蓝牙的近距离通信设备，这些设备当前是无法直接接入OneNET平台的。此时，通过泛协议接入服务则能快速实现(无法直接接入平台)设备的接入工作，搭建设备与OneNET平台的双向数据通道。 泛协议接入服务提供了用户自定义协议设备接入平台的能力，提供设备与平台的双向通信能力。</p></li></ol><h4 id="1-2-2-应用开发"><a href="#1-2-2-应用开发" class="headerlink" title="1.2.2 应用开发"></a>1.2.2 应用开发</h4><ol><li><strong>应用开发流程</strong><br><img src="/OneNETStudio%E4%B8%8EIoTStudio%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/OneNET%20Studio%20%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B%E5%9B%BE.png" alt="OneNET Studio 应用开发流程图"></li><li><strong>新建项目</strong><br>项目是应用开发的基础，是应用资源管理的最小单位，相当于设备接入管理中的创建产品。</li><li><strong>添加设备</strong><br>项目实现跨用户跨产品的设备资源整合，用户可将当前账号下的不同类型设备（自主创建和他人转移）添加至项目中，进行统一管理及应用开发。目前每个设备只能归属于一个项目。</li><li><strong>设备分组</strong><br>项目提供设备分组功能，用于在单个项目下实现自定义的设备资源组合及分组权限控制。例如某个市级智慧工地项目包含100个工地，每个工地可作为一个分组，通过分组的资源管理及权限控制，满足该项目的不同业务权限管理及区域监管功能。</li><li><strong>场景联动</strong><br>场景联动是一种开发自动化业务逻辑的编程方式，支持以设备数据、时间周期、第三方平台数据作为触发条件，当项目数据满足预设条件时，由系统自动执行预定义的业务逻辑，实现对设备的联动控制。</li></ol><h4 id="1-2-3-运维监控"><a href="#1-2-3-运维监控" class="headerlink" title="1.2.3 运维监控"></a>1.2.3 运维监控</h4><ol><li><p><strong>设备调试</strong><br>平台提供设备调试功能，解耦设备及应用开发工作。设备调试包括设备模拟器与应用模拟器两种类型，设备模拟器由平台在云端创建虚拟设备，按照真实设备接入流程进行上下行数据模拟，让应用在未获取真实设备的情况下即可进行开发，提升开发效率。应用模拟器则通过模拟应用调用云端API，完成对真实设备的下行功能测试。整体交互流程如图所示：</p><p><img src="/OneNETStudio%E4%B8%8EIoTStudio%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/OneNET%20Studio%20%E8%AE%BE%E5%A4%87%E8%B0%83%E8%AF%95%E6%B5%81%E7%A8%8B%E5%9B%BE.png" alt="OneNET Studio 设备调试流程图"></p></li><li><p><strong>API调试</strong><br>平台提供API调试功能，可快速检索和调用API。系统根据输入参数同步生成SDK的Demo代码，在调用结果页签下，可实时查看API请求和响应结果，同时支持历史执行记录查询及API调用地址、参数自动填充功能。</p></li><li><p><strong>日志服务</strong><br>设备日志是在设备行为（设备上下线）、上行消息(设备通过Topic上报数据(属性、事件)到云端、设备侧属性期望操作)、下行消息 (通过开放API、控制台给设备下发消息、更新期望等)以及各云后业务处理（物模型调用、存储、规则引擎、HTTP推送、MQ推送）等业务过程中的全链路业务处理记录，通过设备日志功能，用户可以非常方便、迅速地监控业务运行状态和排查运行时问题。</p></li><li><p><strong>告警中心</strong><br>平台提供监控告警功能，用户可以针对自己关心的业务指标，在告警中心配置告警规则，当监控指标满足条件触发后，支持以告警列表、邮件等方式通知用户，帮助用户快速处理故障，避免业务损失。</p></li><li><p><strong>远程升级</strong><br>平台提供远程升级功能，用户可以通过平台管理升级包，添加设备升级任务，查看设备升级状态等，方便用户对设备进行升级等操作，升级流程如下：<br><img src="/OneNETStudio%E4%B8%8EIoTStudio%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/OneNET%20Studio%20%E8%BF%9C%E7%A8%8B%E5%8D%87%E7%BA%A7%E6%B5%81%E7%A8%8B%E5%9B%BE.jpg" alt="OneNET Studio 远程升级流程图"></p></li></ol><h4 id="1-2-4-数据可视化"><a href="#1-2-4-数据可视化" class="headerlink" title="1.2.4 数据可视化"></a>1.2.4 数据可视化</h4><p>OneNETView3.0全新上线，支持创建3D项目，免编程、可视化拖拽配置，集成汇总、转换能力的数据层，支持多种数据源接入，功能强大的数据过滤器可对杂乱数据进行多种逻辑加工，灵活的嵌入搭建，让2D/3D结合成为可能。</p><p><a href="https://open.iot.10086.cn/view/main/#/share2d?id=5dc3c5fdf03f1e16d7b8975d&shareCode=1234">OneNET行业应用经典案例</a></p><p><img src="/OneNETStudio%E4%B8%8EIoTStudio%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/image-20210709140712626.png" alt="image-20210709140712626"></p><p><img src="https://gentletk.oss-cn-shenzhen.aliyuncs.com/%E7%88%B1%E6%9F%AF%E8%BF%AA5G%E6%99%BA%E6%85%A7%E5%B7%A5%E5%8E%82.png" alt="爱柯迪5G智慧工厂"></p><h4 id="1-2-5-边缘计算"><a href="#1-2-5-边缘计算" class="headerlink" title="1.2.5 边缘计算"></a>1.2.5 边缘计算</h4><p>OneNET边缘IoT管理旨在打造多场景的边缘计算基础设施，实现将OneNET云端服务延伸至包括5G MEC在内的多种边缘场景。它支持运行在小到嵌入式终端大到边缘云计算基础设施中，并且可以在边缘端提供人工智能、大数据、物联网设备管理、工业终端协议适配、视频接入，海量时序数据存储等功能。</p><h4 id="1-2-6-人工智能-AI"><a href="#1-2-6-人工智能-AI" class="headerlink" title="1.2.6 人工智能 AI"></a>1.2.6 人工智能 AI</h4><p>人工智能AI提供人脸识别、图像处理、图像识别、视频技术等全方位的人工智能创新服务，打造智能生态，丰富OneNET平台应用能力，为用户提供增值服务。</p><p>目前以API形式向用户提供人脸检测、人脸对比、人脸搜索、人脸属性分析、图像增强、图像去雾、图像内容测评、图像抄表、车牌识别、宠物识别、人体检测、火灾检测、运动检测、视频分析、视频浓缩、数据分析等10余项开箱即用的AI能力。</p><h4 id="1-2-7-位置定位"><a href="#1-2-7-位置定位" class="headerlink" title="1.2.7 位置定位"></a>1.2.7 位置定位</h4><p>OneNET LBS位置能力为用户提供高效、准确的定位服务，目前支持基站定位服务与WiFi定位服务，方便快捷的接入使用流程，超大的免费日配额，低成本的使用方式，让物联网企业可以更加灵活的对智能硬件进行位置管理，从而降低企业研发、运营和运维成本。<br>OneNET Studio位置能力和OneNET 4.0位置能力对比如下：</p><table><thead><tr><th>对比项</th><th>OneNET Studio 位置能力</th><th><strong>OneNET 4.0 位置能力</strong></th></tr></thead><tbody><tr><td>数据上报</td><td>物模型系统功能点“基站定位”<br/>物模型系统功能点“WiFi定位”</td><td>基站定位数据流$OneNET_LBS<br/>WiFi定位数据流$OneNET_LBS_WIFI</td></tr><tr><td>上报记录</td><td>可在控制台页面【设备管理】-【设备详情】中查看历史上报基站信息或WiFi信息</td><td>无法在页面查看上报的数据记录</td></tr><tr><td>位置API鉴权</td><td>安全鉴权：<br/>签名算法版本version：2020-05-29<br/>访问资源res：userid或userid/roleid</td><td>masterKey</td></tr><tr><td>数据推送</td><td>支持设备经纬度推送</td><td>不支持设备经纬度推送</td></tr></tbody></table><h4 id="1-2-8-语音通话"><a href="#1-2-8-语音通话" class="headerlink" title="1.2.8 语音通话"></a>1.2.8 语音通话</h4><p>语音通话 VCS 是 OneNET 平台全新推出的以云服务的方式提供语音通话能力，支持语音通知、语音验证码功能，具有高可用、高并发、高质量的特点。解决传统通知不及时、短信易忽略的问题。</p><h4 id="1-2-9-权限管理"><a href="#1-2-9-权限管理" class="headerlink" title="1.2.9 权限管理"></a>1.2.9 权限管理</h4><p>用户权限管理是OneNET提供的管理用户身份与资源访问权限的服务,用户通过设置角色权限并邀请其他用户加入角色的方式 ，与协作者分享账户下的服务资源，进行多用户协同操作，从而实现不同用户拥有不同资源操作权限的目的。</p><table><thead><tr><th>术语</th><th>解释</th></tr></thead><tbody><tr><td>OneNET账号（主账号）</td><td>开始使用OneNET服务前，首先需要注册一个OneNET账号。OneNET账号是OneNET资源归属、资源使用计量计费的基本主体。OneNET账号为其名下所拥有的资源付费，并对其名下所有资源拥有完全控制权限。 默认情况下，资源只能被OneNET账号所访问，任何其他用户访问都需要获得该OneNET账号的授权，也即主账号的授权。</td></tr><tr><td>角色</td><td>具有相同的一项或多项操作权限的用户组。</td></tr><tr><td>别名</td><td>主账号为邀请协作的账户制定的便于主账号记忆/管理的用户名称。</td></tr><tr><td>用户Accesskey</td><td>主账号用于操作用户自己的所有资源，并拥有完全的权限，包括产品、设备、项目等。</td></tr><tr><td>共享Accesskey</td><td>当用户加入另一用户创建的角色后获得的key，每加入一个角色会产生一个key，该key可以操作用户所属角色的授权资源。 比如某角色的创建者创建了可以查看A产品，可以新增B产品的权限，那么加入该角色的用户则可以使用这个key进行A产品的查看以及B产品的新增操作。</td></tr></tbody></table><h2 id="2-IoT-Studio"><a href="#2-IoT-Studio" class="headerlink" title="2 IoT Studio"></a>2 IoT Studio</h2><h3 id="2-1-平台架构"><a href="#2-1-平台架构" class="headerlink" title="2.1 平台架构"></a>2.1 平台架构</h3><p><img src="/OneNETStudio%E4%B8%8EIoTStudio%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/IoT%20Studio%20%E6%9E%B6%E6%9E%84%E5%9B%BE.png" alt="IoT Studio 架构图"></p><h3 id="2-2-平台功能"><a href="#2-2-平台功能" class="headerlink" title="2.2 平台功能"></a>2.2 平台功能</h3><h4 id="2-2-1-权限管理"><a href="#2-2-1-权限管理" class="headerlink" title="2.2.1 权限管理"></a>2.2.1 权限管理</h4><p>阿里云可通过创建RAM子用户的方式来访问物联网平台资源，RAM 的主要作用是控制账号系统的权限。通过使用 RAM，创建、管理子账号，并通过给子账号授予不同的权限，控制子账号对资源的操作权限。</p><p>主要功能：</p><ol><li><strong>主账号可以分配RAM子用户</strong></li><li><strong>RAM子用户与主账号共享资源</strong></li><li><strong>主账号可为RAM子用户分配读写权限</strong></li></ol><h4 id="2-2-2-Web可视化开发"><a href="#2-2-2-Web可视化开发" class="headerlink" title="2.2.2 Web可视化开发"></a>2.2.2 Web可视化开发</h4><p>Web可视化开发工作台是物联网应用开发（IoT Studio）中的工具。无需写代码，只需在编辑器中，拖拽组件到画布上，再配置组件的显示样式、数据源及交互动作，以可视化的方式进行Web应用开发。适用于开发状态监控面板、设备管理后台、设备数据分析报表等，支持绑定域名发布。</p><p><img src="/OneNETStudio%E4%B8%8EIoTStudio%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/image-20210709134651001.png" alt="image-20210709134651001"></p><h4 id="2-2-3-业务逻辑开发"><a href="#2-2-3-业务逻辑开发" class="headerlink" title="2.2.3 业务逻辑开发"></a>2.2.3 业务逻辑开发</h4><p>物联网应用开发（IoT Studio）提供了物联网业务逻辑的开发工具，支持通过编排服务节点的方式快速完成简单的物联网业务逻辑的设计，主要用于设备联动、数据处理、API的生成以及生成APP的后端服务。</p><p><img src="/OneNETStudio%E4%B8%8EIoTStudio%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/image-20210709135618864.png" alt="image-20210709135618864"></p><h4 id="2-2-4-移动可视化开发"><a href="#2-2-4-移动可视化开发" class="headerlink" title="2.2.4 移动可视化开发"></a>2.2.4 移动可视化开发</h4><p>移动可视化开发是物联网应用开发（IoT Studio）提供的开发工具。无需写代码，只需在编辑器中，拖拽组件到画布上，再配置组件显示样式、数据源和动作。目前支持生成HTML5应用，并绑定域名发布。适用于开发设备控制App、工业监测App等，支持扫码访问。</p><p><img src="/OneNETStudio%E4%B8%8EIoTStudio%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/image-20210709134720697.png" alt="image-20210709134720697"></p><h4 id="2-2-5-组件开发"><a href="#2-2-5-组件开发" class="headerlink" title="2.2.5 组件开发"></a>2.2.5 组件开发</h4><p>IoT Studio提供了组件开发功能，便于开发者开发、发布和管理自己研发的组件，并将其发布到可视化工作台中用于可视化页面搭建。从而满足开发者的需求，提升组件丰富性，为可视化搭建提供无限可能。</p><h2 id="3-对比分析"><a href="#3-对比分析" class="headerlink" title="3 对比分析"></a>3 对比分析</h2><h3 id="3-1-从权限管理方面来看"><a href="#3-1-从权限管理方面来看" class="headerlink" title="3.1 从权限管理方面来看"></a>3.1 从权限管理方面来看</h3><p>阿里云与中移动都采用的是“一主多副”的形式，开发者拥有一个主账号，可以为其他用户分配子账号，并为子账号授予需要的权限，主账号与子账号的资源是共享的。</p><h3 id="3-2-从应用开发方面来看"><a href="#3-2-从应用开发方面来看" class="headerlink" title="3.2 从应用开发方面来看"></a>3.2 从应用开发方面来看</h3><p>阿里云的 IoT Studio 集成了Web可视化、移动可视化、业务逻辑(提供APP应用后端服务)，Web应用支持绑定域名发布，APP可通过扫码访问。</p><p>中移动的 OneNET Studio 提供的应用开发指的是业务逻辑开发(由平台提供项目、设备、服务，数据流转能力以及流转规则，将数据推送到指定服务器)，而OneNET View3.0相当于阿里云的Web可视化开发，同样支持拖拽式编辑。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-OneNET-Studio&quot;&gt;&lt;a href=&quot;#1-OneNET-Studio&quot; class=&quot;headerlink&quot; title=&quot;1 OneNET Studio&quot;&gt;&lt;/a&gt;1 OneNET Studio&lt;/h2&gt;&lt;h3 id=&quot;1-1-平台架构&quot;&gt;&lt;a </summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="IoT" scheme="https://gentletk.gitee.io/tags/IoT/"/>
    
    <category term="OneNET" scheme="https://gentletk.gitee.io/tags/OneNET/"/>
    
  </entry>
  
  <entry>
    <title>Xilinx静态库制作与使用</title>
    <link href="https://gentletk.gitee.io/Xilinx%E9%9D%99%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C%E4%B8%8E%E4%BD%BF%E7%94%A8/"/>
    <id>https://gentletk.gitee.io/Xilinx%E9%9D%99%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C%E4%B8%8E%E4%BD%BF%E7%94%A8/</id>
    <published>2021-07-08T08:36:20.000Z</published>
    <updated>2021-07-08T08:36:20.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-新建静态库工程"><a href="#1-新建静态库工程" class="headerlink" title="1 新建静态库工程"></a>1 新建静态库工程</h3><p><img src="/Xilinx%E9%9D%99%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C%E4%B8%8E%E4%BD%BF%E7%94%A8/1.%E6%96%B0%E5%BB%BA%E5%B7%A5%E7%A8%8B.png" alt="1.新建工程"></p><h3 id="2-新建源码目录"><a href="#2-新建源码目录" class="headerlink" title="2 新建源码目录"></a>2 新建源码目录</h3><p><img src="/Xilinx%E9%9D%99%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C%E4%B8%8E%E4%BD%BF%E7%94%A8/image-20210708163746945.png" alt="image-20210708163746945"></p><h3 id="3-设置工程属性"><a href="#3-设置工程属性" class="headerlink" title="3 设置工程属性"></a>3 设置工程属性</h3><p><img src="/Xilinx%E9%9D%99%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C%E4%B8%8E%E4%BD%BF%E7%94%A8/image-20210708164029278.png" alt="image-20210708164029278"></p><h3 id="4-生成静态库"><a href="#4-生成静态库" class="headerlink" title="4 生成静态库"></a>4 生成静态库</h3><p><img src="/Xilinx%E9%9D%99%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C%E4%B8%8E%E4%BD%BF%E7%94%A8/image-20210708164328218.png" alt="image-20210708164328218"></p><h3 id="5-新建测试工程"><a href="#5-新建测试工程" class="headerlink" title="5 新建测试工程"></a>5 新建测试工程</h3><p><img src="/Xilinx%E9%9D%99%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C%E4%B8%8E%E4%BD%BF%E7%94%A8/image-20210708165413594.png" alt="image-20210708165413594"></p><h3 id="6-设置测试工程属性"><a href="#6-设置测试工程属性" class="headerlink" title="6 设置测试工程属性"></a>6 设置测试工程属性</h3><p><img src="/Xilinx%E9%9D%99%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C%E4%B8%8E%E4%BD%BF%E7%94%A8/image-20210708165553501.png" alt="image-20210708165553501"></p><p><img src="/Xilinx%E9%9D%99%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C%E4%B8%8E%E4%BD%BF%E7%94%A8/image-20210708165756141.png" alt="image-20210708165756141"></p><p><img src="/Xilinx%E9%9D%99%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C%E4%B8%8E%E4%BD%BF%E7%94%A8/image-20210708165825669.png" alt="image-20210708165825669"></p><h3 id="7-生成可执行文件并运行"><a href="#7-生成可执行文件并运行" class="headerlink" title="7 生成可执行文件并运行"></a>7 生成可执行文件并运行</h3><p><img src="/Xilinx%E9%9D%99%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C%E4%B8%8E%E4%BD%BF%E7%94%A8/image-20210708165934672.png" alt="image-20210708165934672"></p><p><img src="/Xilinx%E9%9D%99%E6%80%81%E5%BA%93%E5%88%B6%E4%BD%9C%E4%B8%8E%E4%BD%BF%E7%94%A8/image-20210708170136647.png" alt="image-20210708170136647"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;1-新建静态库工程&quot;&gt;&lt;a href=&quot;#1-新建静态库工程&quot; class=&quot;headerlink&quot; title=&quot;1 新建静态库工程&quot;&gt;&lt;/a&gt;1 新建静态库工程&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;/Xilinx%E9%9D%99%E6%80%81%E5%BA%</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Xilinx" scheme="https://gentletk.gitee.io/tags/Xilinx/"/>
    
  </entry>
  
  <entry>
    <title>使用批处理脚本修改hosts文件</title>
    <link href="https://gentletk.gitee.io/%E4%BD%BF%E7%94%A8%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%BF%AE%E6%94%B9hosts%E6%96%87%E4%BB%B6/"/>
    <id>https://gentletk.gitee.io/%E4%BD%BF%E7%94%A8%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%BF%AE%E6%94%B9hosts%E6%96%87%E4%BB%B6/</id>
    <published>2021-07-07T02:42:19.000Z</published>
    <updated>2021-07-07T03:17:46.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>最近公司有个项目需要对本地hosts文件进行修改，添加一条本地域名解析记录，如果让客户去操作，很容易破坏掉原先的hosts文件，最好是能封装成一个批处理脚本，用户只需要以管理员权限运行，然后根据菜单选择需要执行的功能即可。</p></blockquote><h3 id="1-批处理脚本"><a href="#1-批处理脚本" class="headerlink" title="1 批处理脚本"></a>1 批处理脚本</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">:: 关闭命令的回显</span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">:: 设置hosts文件路径</span><br><span class="line"><span class="built_in">set</span> HOSTS=C:\Windows\System32\drivers\etc\hosts</span><br><span class="line">:: 判断当前路径是否存在 hosts.init 文件, 不存在则备份</span><br><span class="line"><span class="keyword">if</span> not exist %HOSTS%.init (</span><br><span class="line">    copy /y %HOSTS% %HOSTS%.init &amp;&amp; <span class="built_in">echo</span> 系统hosts文件备份完成!</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">:: %<span class="built_in">date</span>%=2021年07月07日</span><br><span class="line">:: %time%= 9:12:38:96</span><br><span class="line">:: 年 yyyy = %<span class="built_in">date</span>:~0,4% 表示指针从左到右偏移 0 位, 然后提取 4 字符</span><br><span class="line">:: 月 mm   = %<span class="built_in">date</span>:~5,2% 表示指针从左到右偏移 5 位, 然后提取 2 字符</span><br><span class="line">:: 日 <span class="built_in">dd</span>   = %<span class="built_in">date</span>:~8,2% 表示指针从左到右偏移 8 位, 然后提取 2 字符</span><br><span class="line"><span class="built_in">set</span> yyyymmdd=%<span class="built_in">date</span>:~0,4%-%<span class="built_in">date</span>:~5,2%-%<span class="built_in">date</span>:~8,2%</span><br><span class="line">:: 时 hh   = %time:~0,2% 表示指针从左到右偏移 0 位, 然后提取 2 字符</span><br><span class="line">:: 分 mm   = %time:~3,2% 表示指针从左到右偏移 3 位, 然后提取 2 字符</span><br><span class="line">:: 秒 ss   = %time:~6,2% 表示指针从左到右偏移 6 位, 然后提取 2 字符</span><br><span class="line"><span class="built_in">set</span> hh=%time:~0,2%</span><br><span class="line"><span class="built_in">set</span> mm=%time:~3,2%</span><br><span class="line"><span class="built_in">set</span> ss=%time:~6,2%</span><br><span class="line">:: 当 hh 小于等于 9 时, 在前面补 0</span><br><span class="line"><span class="keyword">if</span> %hh% leq 9 (<span class="built_in">set</span> hh=0%hh:~1,1%)</span><br><span class="line"></span><br><span class="line">GOTO MENU</span><br><span class="line">:MENU</span><br><span class="line">ECHO.</span><br><span class="line">ECHO.<span class="comment">############################## 修改系统hosts解析文件 ##############################</span></span><br><span class="line">ECHO.<span class="comment">#</span></span><br><span class="line">ECHO.<span class="comment"># 1.添加域名解析</span></span><br><span class="line">ECHO.<span class="comment">#</span></span><br><span class="line">ECHO.<span class="comment"># 2.编辑hosts文件</span></span><br><span class="line">ECHO.<span class="comment">#</span></span><br><span class="line">ECHO.<span class="comment"># 3.备份hosts文件</span></span><br><span class="line">ECHO.<span class="comment">#</span></span><br><span class="line">ECHO.<span class="comment"># 4.还原hosts文件</span></span><br><span class="line">ECHO.<span class="comment">#</span></span><br><span class="line">ECHO.<span class="comment"># 5.刷新dns缓存并退出</span></span><br><span class="line">ECHO.<span class="comment">#</span></span><br><span class="line">ECHO.<span class="comment">############################### %yyyymmdd% %hh%:%mm%:%ss% ###############################</span></span><br><span class="line"><span class="built_in">set</span> /p=<span class="string">&quot;请输入您要操作的序号：&quot;</span>&lt;nul</span><br><span class="line">@<span class="built_in">set</span> /p  sel=</span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;%sel%&quot;</span>==<span class="string">&quot;1&quot;</span>  goto add_ipdomain</span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;%sel%&quot;</span>==<span class="string">&quot;2&quot;</span>  goto edit_hosts</span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;%sel%&quot;</span>==<span class="string">&quot;3&quot;</span>  goto backup_hosts</span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;%sel%&quot;</span>==<span class="string">&quot;4&quot;</span>  goto reset_hosts</span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;%sel%&quot;</span>==<span class="string">&quot;5&quot;</span>  goto refresh_dns</span><br><span class="line">PAUSE</span><br><span class="line">:add_ipdomain</span><br><span class="line"><span class="built_in">set</span> /p=<span class="string">&quot;请输入IP地址和域名（中间以空格分隔）:&quot;</span>&lt;nul</span><br><span class="line">@<span class="built_in">set</span> /p  ip_domain=</span><br><span class="line"><span class="built_in">type</span> %HOSTS% |findstr /v <span class="string">&quot;^#&quot;</span>| findstr /i <span class="string">&quot;%ip_domain%\&gt;&quot;</span></span><br><span class="line"><span class="keyword">if</span> %errorlevel% == 0 ( </span><br><span class="line">  <span class="built_in">echo</span> %ip_domain% 已存在,请重新添加！&amp;&amp; goto MENU </span><br><span class="line"> ) <span class="keyword">else</span> ( </span><br><span class="line">  <span class="built_in">echo</span>.%ip_domain% &gt;&gt; %HOSTS% &amp;&amp; <span class="built_in">echo</span> %ip_domain% 添加成功,请按任意键返回菜单！&amp;&amp; pause &gt;nul </span><br><span class="line"> ) </span><br><span class="line">goto MENU</span><br><span class="line">:edit_hosts</span><br><span class="line">title 编辑hosts本地域名解析文件</span><br><span class="line">notepad %HOSTS%</span><br><span class="line"><span class="built_in">echo</span> 按任意键返回菜单！</span><br><span class="line">pause &gt;nul</span><br><span class="line">goto MENU</span><br><span class="line">:backup_hosts</span><br><span class="line">title 备份hosts文件</span><br><span class="line"><span class="built_in">set</span> yyyymmdd=%<span class="built_in">date</span>:~0,4%%<span class="built_in">date</span>:~5,2%%<span class="built_in">date</span>:~8,2%</span><br><span class="line">copy /y %HOSTS% %HOSTS%.%yyyymmdd%%hh%%mm%</span><br><span class="line"><span class="built_in">echo</span> (<span class="string">&quot;%HOSTS%.%yyyymmdd%%hh%%mm%&quot;</span>) 备份完毕,按任意键返回菜单！</span><br><span class="line">pause &gt;nul</span><br><span class="line">goto MENU</span><br><span class="line">pause</span><br><span class="line">:reset_hosts</span><br><span class="line">title 还原hosts文件</span><br><span class="line">copy /y %HOSTS%.init %HOSTS%</span><br><span class="line"><span class="built_in">echo</span> hosts文件已还原至初始状态,按任意键返回菜单！</span><br><span class="line">pause &gt;nul</span><br><span class="line">goto MENU</span><br><span class="line">:refresh_dns</span><br><span class="line">title 刷新本地dns缓存并退出</span><br><span class="line"><span class="built_in">echo</span> 查看修改后的hosts文件内容,5秒后退出!</span><br><span class="line"><span class="built_in">type</span> <span class="string">&quot;%HOSTS%&quot;</span> |findstr /v <span class="string">&quot;^#&quot;</span>|findstr <span class="string">&quot;[0-9]&quot;</span></span><br><span class="line">ping -n 5 127.0.0.1&gt;nul</span><br><span class="line">ipconfig /flushdns</span><br><span class="line"><span class="built_in">echo</span> 刷新本地缓存成功，即将退出!</span><br><span class="line">ping -n 3 127.0.0.1&gt;nul</span><br><span class="line"><span class="built_in">echo</span>.</span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure><h3 id="2-使用方法"><a href="#2-使用方法" class="headerlink" title="2 使用方法"></a>2 使用方法</h3><h4 id="2-1-功能菜单"><a href="#2-1-功能菜单" class="headerlink" title="2.1 功能菜单"></a>2.1 功能菜单</h4><p>第一次以管理员权限运行脚本会备份一份<code>hosts.init</code>文件，作为<code>hosts</code>初始文件，方便以后还原。</p><p><img src="/%E4%BD%BF%E7%94%A8%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%BF%AE%E6%94%B9hosts%E6%96%87%E4%BB%B6/image-20210707110118620.png" alt="image-20210707110118620"></p><h4 id="2-2-添加域名解析"><a href="#2-2-添加域名解析" class="headerlink" title="2.2 添加域名解析"></a>2.2 添加域名解析</h4><p>添加域名解析这里采用的是手动输入 <code>IP</code> 地址 + 域名，并且会检索<code>hosts</code>文件里是否已经存在对应的 <code>IP</code> 地址和域名，如果存在，则提示用户重新添加。</p><p><img src="/%E4%BD%BF%E7%94%A8%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%BF%AE%E6%94%B9hosts%E6%96%87%E4%BB%B6/image-20210707110214077.png" alt="image-20210707110214077"></p><p><img src="/%E4%BD%BF%E7%94%A8%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%BF%AE%E6%94%B9hosts%E6%96%87%E4%BB%B6/image-20210707110319484.png" alt="image-20210707110319484"></p><h4 id="2-3-编辑-hosts-文件"><a href="#2-3-编辑-hosts-文件" class="headerlink" title="2.3 编辑 hosts 文件"></a>2.3 编辑 hosts 文件</h4><p>这里其实就是调用记事本来打开hosts文件。</p><p><img src="/%E4%BD%BF%E7%94%A8%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%BF%AE%E6%94%B9hosts%E6%96%87%E4%BB%B6/image-20210707110418796.png" alt="image-20210707110418796"></p><h4 id="2-4-备份-hosts文件"><a href="#2-4-备份-hosts文件" class="headerlink" title="2.4 备份 hosts文件"></a>2.4 备份 hosts文件</h4><p>这里的备份文件是以<code>hosts.日期时间</code>的文件名格式来备份的。</p><p><img src="/%E4%BD%BF%E7%94%A8%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%BF%AE%E6%94%B9hosts%E6%96%87%E4%BB%B6/image-20210707110456765.png" alt="image-20210707110456765"></p><h4 id="2-5-还原-hosts文件"><a href="#2-5-还原-hosts文件" class="headerlink" title="2.5 还原 hosts文件"></a>2.5 还原 hosts文件</h4><p>还原其实就是将 <code>hosts.init</code> 去掉后缀名，替换掉原先的 <code>hosts</code> 文件。</p><p><img src="/%E4%BD%BF%E7%94%A8%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%BF%AE%E6%94%B9hosts%E6%96%87%E4%BB%B6/image-20210707110540412.png" alt="image-20210707110540412"></p><h4 id="2-6-刷新-dns-缓存并退出"><a href="#2-6-刷新-dns-缓存并退出" class="headerlink" title="2.6 刷新 dns 缓存并退出"></a>2.6 刷新 dns 缓存并退出</h4><p>在刷新 <code>dns</code> 前，会先将 <code>hosts</code> 文件中的内容打印一下，然后执行刷新 <code>dns</code> 命令后退出脚本。</p><p><img src="/%E4%BD%BF%E7%94%A8%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC%E4%BF%AE%E6%94%B9hosts%E6%96%87%E4%BB%B6/image-20210707110618166.png" alt="image-20210707110618166"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;最近公司有个项目需要对本地hosts文件进行修改，添加一条本地域名解析记录，如果让客户去操作，很容易破坏掉原先的hosts文件，最好是能封装成一个批处理脚本，用户只需要以管理员权限运行，然后根据菜单选择需要执行的功能即可。&lt;/p&gt;
&lt;/blockq</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="批处理" scheme="https://gentletk.gitee.io/tags/%E6%89%B9%E5%A4%84%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>基于 Gitee + PicGo 的个人图床搭建</title>
    <link href="https://gentletk.gitee.io/%E5%9F%BA%E4%BA%8EGitee+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/"/>
    <id>https://gentletk.gitee.io/%E5%9F%BA%E4%BA%8EGitee+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/</id>
    <published>2021-06-25T06:19:01.000Z</published>
    <updated>2021-06-25T06:45:26.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>最近发现 <a href="https://sm.ms/">sm.ms</a> 的图床有点不太稳定，很多图片都莫名其妙加载失败了，无奈下只有用 Gitee + PicGo 自己搭一个图床了。</p></blockquote><h3 id="1-新建Gitee仓库"><a href="#1-新建Gitee仓库" class="headerlink" title="1 新建Gitee仓库"></a>1 新建Gitee仓库</h3><p><img src="/%E5%9F%BA%E4%BA%8EGitee+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/1.%E6%96%B0%E5%BB%BAGitee%E4%BB%93%E5%BA%93.png" alt="1.新建Gitee仓库"></p><p><img src="/%E5%9F%BA%E4%BA%8EGitee+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/2.%E5%A1%AB%E5%86%99%E4%BB%93%E5%BA%93%E4%BF%A1%E6%81%AF.png" alt="2.填写仓库信息"></p><h3 id="2-获取token"><a href="#2-获取token" class="headerlink" title="2 获取token"></a>2 获取token</h3><p>登录 Gitee 后点击头像，选择设置：</p><p><img src="/%E5%9F%BA%E4%BA%8EGitee+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/3.%E9%80%89%E6%8B%A9%E8%AE%BE%E7%BD%AE.png" alt="3.选择设置"></p><p><img src="/%E5%9F%BA%E4%BA%8EGitee+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/4.%E9%80%89%E6%8B%A9%E7%A7%81%E4%BA%BA%E4%BB%A4%E7%89%8C.png" alt="4.选择私人令牌"></p><p><img src="/%E5%9F%BA%E4%BA%8EGitee+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/5.%E7%82%B9%E5%87%BB%E7%94%9F%E6%88%90%E6%96%B0%E4%BB%A4%E7%89%8C.png" alt="5.点击生成新令牌"></p><p><img src="/%E5%9F%BA%E4%BA%8EGitee+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/6.%E5%8B%BE%E9%80%89projects.png" alt="6.勾选projects"></p><p>生成令牌后需复制并保存好。</p><h3 id="3-PicGo配置"><a href="#3-PicGo配置" class="headerlink" title="3 PicGo配置"></a>3 PicGo配置</h3><p><img src="/%E5%9F%BA%E4%BA%8EGitee+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/7.%E9%80%89%E6%8B%A9%E6%8F%92%E4%BB%B6%E8%AE%BE%E7%BD%AE.png" alt="7.选择插件设置"></p><p><img src="/%E5%9F%BA%E4%BA%8EGitee+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/8.%E5%AE%89%E8%A3%85gitee-uploader.png" alt="8.安装gitee-uploader"></p><p><img src="/%E5%9F%BA%E4%BA%8EGitee+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/9.%E5%A1%AB%E5%86%99Gitee%E5%9B%BE%E5%BA%8A%E9%85%8D%E7%BD%AE.png" alt="9.填写Gitee图床配置"></p><h3 id="4-上传结果"><a href="#4-上传结果" class="headerlink" title="4 上传结果"></a>4 上传结果</h3><p><img src="/%E5%9F%BA%E4%BA%8EGitee+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/p1.jpg" alt="p1"></p><p><img src="/%E5%9F%BA%E4%BA%8EGitee+PicGo%E7%9A%84%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/image-20210625141958297.png" alt="image-20210625141958297"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;最近发现 &lt;a href=&quot;https://sm.ms/&quot;&gt;sm.ms&lt;/a&gt; 的图床有点不太稳定，很多图片都莫名其妙加载失败了，无奈下只有用 Gitee + PicGo 自己搭一个图床了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;1-</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Gitee" scheme="https://gentletk.gitee.io/tags/Gitee/"/>
    
    <category term="PicGo" scheme="https://gentletk.gitee.io/tags/PicGo/"/>
    
  </entry>
  
  <entry>
    <title>阿里云华为云对比分析</title>
    <link href="https://gentletk.gitee.io/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/"/>
    <id>https://gentletk.gitee.io/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/</id>
    <published>2021-06-03T00:54:37.000Z</published>
    <updated>2021-06-03T00:54:37.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="阿里云"><a href="#阿里云" class="headerlink" title="阿里云"></a>阿里云</h1><h2 id="1-阿里云物联网平台"><a href="#1-阿里云物联网平台" class="headerlink" title="1 阿里云物联网平台"></a>1 阿里云物联网平台</h2><h3 id="1-1-阿里云物联网平台产品简介"><a href="#1-1-阿里云物联网平台产品简介" class="headerlink" title="1.1 阿里云物联网平台产品简介"></a>1.1 阿里云物联网平台产品简介</h3><p>物联网平台提供安全可靠的设备连接通信能力，支持设备数据采集上云，规则引擎流转数据和云端数据下发设备端。此外，也提供方便快捷的设备管理能力，支持物模型定义，数据结构化存储，和远程调试、监控、运维。 </p><h3 id="1-2-阿里云物联网平台产品功能"><a href="#1-2-阿里云物联网平台产品功能" class="headerlink" title="1.2 阿里云物联网平台产品功能"></a>1.2 阿里云物联网平台产品功能</h3><h4 id="1-2-1-设备接入"><a href="#1-2-1-设备接入" class="headerlink" title="1.2.1 设备接入"></a>1.2.1 设备接入</h4><p>物联网平台支持海量设备连接上云，设备与云端通过IoT Hub进行稳定可靠地双向通信。</p><ul><li><p><a href="https://help.aliyun.com/document_detail/42648.htm?spm=a2c4g.11186623.2.6.16306f98KPc0ZQ#concept-jlk-mjl-vdb">设备开发</a>：提供设备端SDK、驱动等，帮助不同设备、网关轻松接入阿里云。</p></li><li><p><a href="https://help.aliyun.com/document_detail/115438.htm?spm=a2c4g.11186623.2.7.16306f98KPc0ZQ#concept-2050364">设备接入引导</a>：提供蜂窝（2G、3G、4G、5G）、NB-IoT、LoRaWAN、Wi-Fi等不同网络设备接入方案，解决企业异构网络管理设备接入的痛点。</p></li><li><p>提供<a href="https://help.aliyun.com/document_detail/30540.htm?spm=a2c4g.11186623.2.8.16306f98KPc0ZQ#concept-jfq-vjw-vdb">MQTT</a>、<a href="https://help.aliyun.com/document_detail/57699.htm?spm=a2c4g.11186623.2.9.16306f98KPc0ZQ#concept-tcf-yq5-wdb">CoAP</a>、<a href="https://help.aliyun.com/document_detail/58036.htm?spm=a2c4g.11186623.2.10.16306f98KPc0ZQ#concept-l14-nt5-wdb">HTTP、HTTPS</a>等多种协议的设备端SDK，既满足长连接的实时性需求，也满足短连接的低功耗需求。</p></li><li><p><a href="https://help.aliyun.com/document_detail/100576.htm?spm=a2c4g.11186623.2.11.16306f98KPc0ZQ#concept-2050349">SDK不同语言或平台功能汇总</a>：开源多种平台设备端代码，提供跨平台移植指导，赋能企业基于多种平台做设备接入。</p></li></ul><h4 id="1-2-2-设备管理"><a href="#1-2-2-设备管理" class="headerlink" title="1.2.2 设备管理"></a>1.2.2 设备管理</h4><p>物联网平台提供完整的设备生命周期管理功能，支持<a href="https://help.aliyun.com/document_detail/73729.htm?spm=a2c4g.11186623.2.12.16306f98KPc0ZQ#task-yk1-rnl-vdb">设备注册</a>、<a href="https://help.aliyun.com/document_detail/88241.htm?spm=a2c4g.11186623.2.13.16306f98KPc0ZQ#task-qhm-d3j-w2b">功能定义</a>、<a href="https://help.aliyun.com/document_detail/68702.htm?spm=a2c4g.11186623.2.14.16306f98KPc0ZQ#concept-rhj-535-42b">数据解析</a>、<a href="https://help.aliyun.com/document_detail/99981.htm?spm=a2c4g.11186623.2.15.16306f98KPc0ZQ#task-wpk-dtg-cgb">在线调试</a>、<a href="https://help.aliyun.com/document_detail/84891.htm?spm=a2c4g.11186623.2.16.16306f98KPc0ZQ#concept-om1-tgs-c2b">远程配置</a>、<a href="https://help.aliyun.com/document_detail/58328.htm?spm=a2c4g.11186623.2.17.16306f98KPc0ZQ#task-prw-fzz-xdb">OTA升级</a>、<a href="https://help.aliyun.com/document_detail/141582.htm?spm=a2c4g.11186623.2.18.16306f98KPc0ZQ#concept-2321153">实时监控</a>、<a href="https://help.aliyun.com/document_detail/90386.htm?spm=a2c4g.11186623.2.19.16306f98KPc0ZQ#task-ejm-qp2-cfb">设备分组</a>、<a href="https://help.aliyun.com/document_detail/113275.htm?spm=a2c4g.11186623.2.20.16306f98KPc0ZQ#concept-h5h-q44-hhb">设备删除</a>等功能。 </p><p>功能特性如下：</p><ul><li>提供设备物模型，简化应用开发。</li><li>提供设备上下线变更通知服务，方便实时获取设备状态。</li><li>提供数据存储能力，方便用户海量设备数据的存储及实时访问。</li><li>支持OTA升级，赋能设备远程升级。</li><li>提供设备影子缓存机制，将设备与应用解耦，解决不稳定无线网络下的通信不可靠痛点。</li></ul><h4 id="1-2-3-安全能力"><a href="#1-2-3-安全能力" class="headerlink" title="1.2.3 安全能力"></a>1.2.3 安全能力</h4><p>物联网平台提供多重防护，有效保障设备和云端数据的安全。</p><ul><li><a href="https://help.aliyun.com/document_detail/42649.htm?spm=a2c4g.11186623.2.21.16306f98KPc0ZQ#concept-fqy-pjl-vdb">身份认证</a><ul><li>提供芯片级安全存储方案（ID²）及设备密钥安全管理机制，防止设备密钥被破解。安全级别很高。</li><li>提供一机一密的设备认证机制，降低设备被攻破的安全风险。适合有能力批量预分配设备证书（ProductKey、DeviceName和DeviceSecret），将设备证书信息烧录到每个设备的芯片。安全级别高。</li><li>提供一型一密的设备认证机制。设备预烧产品证书（ProductKey和ProductSecret），认证时动态获取设备证书（包括ProductKey、DeviceName和DeviceSecret）。适合批量生产时无法将设备证书烧录每个设备的情况。安全级别普通。</li><li>提供X.509证书的设备认证机制，支持基于MQTT协议直连的设备使用X.509证书进行认证。安全级别很高。</li></ul></li><li>通信安全<ul><li>支持TLS（<a href="https://help.aliyun.com/document_detail/30540.htm?spm=a2c4g.11186623.2.22.16306f98KPc0ZQ#concept-jfq-vjw-vdb">MQTT</a>、<a href="https://help.aliyun.com/document_detail/58036.htm?spm=a2c4g.11186623.2.23.16306f98KPc0ZQ#concept-l14-nt5-wdb">HTTPS</a>）、DTLS（<a href="https://help.aliyun.com/document_detail/57699.htm?spm=a2c4g.11186623.2.24.16306f98KPc0ZQ#concept-tcf-yq5-wdb">CoAP</a>）数据传输通道，保证数据的机密性和完整性，适用于硬件资源充足、对功耗不是很敏感的设备。安全级别高。</li><li>支持设备权限管理机制，保障设备与云端安全通信。</li><li>支持设备级别的通信资源（Topic等）隔离，防止设备越权等问题。</li></ul></li></ul><h4 id="1-2-4-规则引擎"><a href="#1-2-4-规则引擎" class="headerlink" title="1.2.4 规则引擎"></a>1.2.4 规则引擎</h4><p>物联网平台规则引擎包含以下功能：</p><ul><li><p><a href="https://help.aliyun.com/document_detail/89226.htm?spm=a2c4g.11186623.2.25.16306f98KPc0ZQ#concept-d2m-g2v-y2b">服务端订阅</a>：订阅某产品下所有设备的某个或多个类型消息，您的服务端可以通过AMQP客户端或消息服务（MNS）客户端获取订阅的消息。</p></li><li><p><a href="https://help.aliyun.com/document_detail/68677.htm?spm=a2c4g.11186623.2.26.16306f98KPc0ZQ#concept-g11-dcl-vdb">云产品流转</a>：物联网平台根据您配置的数据流转规则，将指定Topic消息的指定字段流转到目的地，进行存储和计算处理。</p><p>有关数据流转规则的应用场景和优势对比，请参见<a href="https://help.aliyun.com/document_detail/102335.htm?spm=a2c4g.11186623.2.27.16306f98KPc0ZQ#concept-abq-hf1-kgb">数据流转方案对比</a>。 </p></li></ul><table><thead><tr><th>功能项</th><th>说明</th></tr></thead><tbody><tr><td><a href="https://help.aliyun.com/document_detail/42734.htm?spm=a2c4g.11186623.2.28.16306f98KPc0ZQ#task-yvk-2c5-vdb">数据转发到另一Topic</a></td><td>实现设备与设备间的通信</td></tr><tr><td><a href="https://help.aliyun.com/document_detail/159315.htm?spm=a2c4g.11186623.2.29.16306f98KPc0ZQ#task-2454490">数据转发到实例内的时序数据存储</a></td><td>实现设备时序数据的高效写入（需要<a href="https://help.aliyun.com/document_detail/147356.htm?spm=a2c4g.11186623.2.30.16306f98KPc0ZQ#section-aym-l3q-mft">购买企业版实例</a>）</td></tr><tr><td><a href="https://help.aliyun.com/document_detail/128422.htm?spm=a2c4g.11186623.2.31.16306f98KPc0ZQ#task-1545804">数据转发到AMQP服务端订阅消费组</a></td><td>您的服务端通过AMQP客户端监听消费组获取消息。</td></tr><tr><td><a href="https://help.aliyun.com/document_detail/59000.htm?spm=a2c4g.11186623.2.32.16306f98KPc0ZQ#task-yvk-2c5-vdb">数据转发到消息队列RocketMQ</a></td><td>保障应用消费设备数据的稳定可靠性。</td></tr><tr><td><a href="https://help.aliyun.com/document_detail/44008.htm?spm=a2c4g.11186623.2.33.16306f98KPc0ZQ#task-1545804">数据转发到消息服务</a></td><td>保障应用消费设备数据的稳定可靠性。</td></tr><tr><td><a href="https://help.aliyun.com/document_detail/42735.htm?spm=a2c4g.11186623.2.34.16306f98KPc0ZQ#task-ay5-3x5-vdb">数据转发到表格存储</a></td><td>提供设备数据采集和结构化存储的联合方案。</td></tr><tr><td><a href="https://help.aliyun.com/document_detail/42743.htm?spm=a2c4g.11186623.2.35.16306f98KPc0ZQ#task-p4z-jyz-vdb">数据转发到DataHub</a></td><td>提供设备数据采集和大数据计算的联合方案。</td></tr><tr><td><a href="https://help.aliyun.com/document_detail/42736.htm?spm=a2c4g.11186623.2.36.16306f98KPc0ZQ#task-1545804">数据转发到云数据库RDS</a></td><td>提供设备数据采集和关系型数据库存储的联合方案。</td></tr><tr><td><a href="https://help.aliyun.com/document_detail/64143.htm?spm=a2c4g.11186623.2.37.16306f98KPc0ZQ#concept-fcz-znc-wdb">数据转发到时序数据库</a></td><td>提供设备数据采集和时序数据存储的联合方案。</td></tr><tr><td><a href="https://help.aliyun.com/document_detail/64234.htm?spm=a2c4g.11186623.2.38.16306f98KPc0ZQ#concept-a1m-ttj-wdb">数据转发到函数计算</a></td><td>提供设备数据采集和事件计算的联合方案。</td></tr></tbody></table><ul><li><a href="https://help.aliyun.com/document_detail/102240.htm?spm=a2c4g.11186623.2.39.16306f98KPc0ZQ#concept-mkd-k44-f2b">场景联动</a>:配置简单规则，即可将设备数据无缝流转至其他设备，实现设备联动。 </li></ul><h3 id="1-3-阿里云物联网平台产品架构"><a href="#1-3-阿里云物联网平台产品架构" class="headerlink" title="1.3 阿里云物联网平台产品架构"></a>1.3 阿里云物联网平台产品架构</h3><p>设备连接物联网平台，与物联网平台进行数据通信。物联网平台可将设备数据流转到其他阿里云产品中进行存储和处理。这是构建物联网应用的基础。</p><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/p202711.png" alt="阿里云物联网平台产品架构"></p><h4 id="1-3-1-IoT-SDK"><a href="#1-3-1-IoT-SDK" class="headerlink" title="1.3.1 IoT SDK"></a>1.3.1 IoT SDK</h4><p>物联网平台提供IoT SDK，设备集成SDK后，即可安全接入物联网平台，使用设备管理、数据流转等功能。</p><p>只有支持TCP/IP协议的设备可以集成IoT SDK。<br>具体操作，请参见<a href="https://help.aliyun.com/document_detail/42648.htm?spm=a2c4g.11186623.2.11.14edbebeiKurIc#concept-jlk-mjl-vdb">设备端SDK开发指南</a>。</p><h4 id="1-3-2-边缘计算"><a href="#1-3-2-边缘计算" class="headerlink" title="1.3.2 边缘计算"></a>1.3.2 边缘计算</h4><p>边缘计算能力允许您在最靠近设备的地方构建边缘计算节点，过滤清洗设备数据，并将处理后的数据上传至云平台。更多信息，请参见<a href="https://help.aliyun.com/document_detail/85155.htm?spm=a2c4g.11186623.2.12.14edbebeiKurIc#concept-egf-t13-d2b">物联网边缘计算</a>。 </p><h4 id="1-3-3-设备接入"><a href="#1-3-3-设备接入" class="headerlink" title="1.3.3 设备接入"></a>1.3.3 设备接入</h4><p>物联网平台提供各类<a href="https://help.aliyun.com/document_detail/42648.htm?spm=a2c4g.11186623.2.13.14edbebeiKurIc#concept-jlk-mjl-vdb">设备端SDK</a>、<a href="https://help.aliyun.com/document_detail/42649.htm?spm=a2c4g.11186623.2.14.14edbebeiKurIc#concept-fqy-pjl-vdb">设备认证方式</a>，支持<a href="https://help.aliyun.com/document_detail/30540.htm?spm=a2c4g.11186623.2.15.14edbebeiKurIc#concept-jfq-vjw-vdb">MQTT</a>、<a href="https://help.aliyun.com/document_detail/57699.htm?spm=a2c4g.11186623.2.16.14edbebeiKurIc#concept-tcf-yq5-wdb">CoAP</a>、<a href="https://help.aliyun.com/document_detail/58036.htm?spm=a2c4g.11186623.2.17.14edbebeiKurIc#concept-l14-nt5-wdb">HTTP</a>等多种协议，实现设备快速上云。</p><p>设备上云后与云端通过IoT Hub进行稳定可靠地双向通信。<br>IoT Hub具有下列特性：</p><ul><li>高性能扩展：支持线性动态扩展，可以支撑十亿设备同时连接。</li><li>全链路加密：整个通信链路以RSA、AES加密，保证数据传输的安全。</li><li>消息实时到达：当设备与IoT Hub成功建立数据通道后，两者间将保持长连接，以减少握手时间，保证消息实时到达。</li><li>支持数据透传： IoT Hub支持将数据以二进制透传的方式传到自己的服务器上，不保存设备数据，从而保证数据的安全可控性。</li><li>支持多种通信模式：IoT Hub支持RRPC和PUB/SUB两种通信模式，以满足您在不同场景下的需求。其中，PUB/SUB是基于Topic进行的消息路由。</li><li>支持多种设备接入协议：支持设备使用CoAP、MQTT、HTTPS协议接入物联网平台。</li></ul><h4 id="1-3-4-消息通信"><a href="#1-3-4-消息通信" class="headerlink" title="1.3.4 消息通信"></a>1.3.4 消息通信</h4><p>物联网平台支持通过<a href="https://help.aliyun.com/document_detail/89226.htm?spm=a2c4g.11186623.2.18.14edbebeiKurIc#concept-d2m-g2v-y2b">服务端订阅</a>、<a href="https://help.aliyun.com/document_detail/68677.htm?spm=a2c4g.11186623.2.19.14edbebeiKurIc#concept-g11-dcl-vdb">云产品流转</a>、<a href="https://help.aliyun.com/document_detail/102240.htm?spm=a2c4g.11186623.2.20.14edbebeiKurIc#concept-mkd-k44-f2b">场景联动</a>、<a href="https://help.aliyun.com/document_detail/155755.htm?spm=a2c4g.11186623.2.21.14edbebeiKurIc#task-2433926">广播通信</a>、<a href="https://help.aliyun.com/document_detail/90567.htm?spm=a2c4g.11186623.2.22.14edbebeiKurIc#concept-zlp-gsl-cfb">RRPC通信</a>等方式，通过配置规则，实现设备、服务器、物联网平台之间通信消息的同步、转化、过滤、存储等功能。</p><h4 id="1-3-5-设备管理"><a href="#1-3-5-设备管理" class="headerlink" title="1.3.5 设备管理"></a>1.3.5 设备管理</h4><p>物联网平台为您提供功能丰富的设备管理服务，包括：生命周期、<a href="https://help.aliyun.com/document_detail/143450.htm?spm=a2c4g.11186623.2.23.14edbebeiKurIc#task-2340090">设备分发</a>、<a href="https://help.aliyun.com/document_detail/90386.htm?spm=a2c4g.11186623.2.24.14edbebeiKurIc#task-ejm-qp2-cfb">设备分组</a>、<a href="https://help.aliyun.com/document_detail/53930.htm?spm=a2c4g.11186623.2.25.14edbebeiKurIc#concept-r4r-b1v-wdb">设备影子</a>、<a href="https://help.aliyun.com/document_detail/89082.htm?spm=a2c4g.11186623.2.26.14edbebeiKurIc#task-z1r-q1p-y2b">设备拓扑</a>、<a href="https://help.aliyun.com/document_detail/73727.htm?spm=a2c4g.11186623.2.27.14edbebeiKurIc#concept-okp-zlv-tdb">物模型</a>、<a href="https://help.aliyun.com/document_detail/68702.htm?spm=a2c4g.11186623.2.28.14edbebeiKurIc#concept-rhj-535-42b">数据解析</a>、<a href="https://help.aliyun.com/document_detail/96443.htm?spm=a2c4g.11186623.2.29.14edbebeiKurIc#task-j31-lmt-sfb">数据存储</a>等。</p><h4 id="1-3-6-监控运维"><a href="#1-3-6-监控运维" class="headerlink" title="1.3.6 监控运维"></a>1.3.6 监控运维</h4><p>物联网平台支持<a href="https://help.aliyun.com/document_detail/58328.htm?spm=a2c4g.11186623.2.30.14edbebeiKurIc#task-prw-fzz-xdb">OTA升级</a>、<a href="https://help.aliyun.com/document_detail/99981.htm?spm=a2c4g.11186623.2.31.14edbebeiKurIc#task-wpk-dtg-cgb">在线调试</a>、<a href="https://help.aliyun.com/document_detail/44542.htm?spm=a2c4g.11186623.2.32.14edbebeiKurIc#concept-a32-x4w-f2b">日志服务</a>、<a href="https://help.aliyun.com/document_detail/84891.htm?spm=a2c4g.11186623.2.33.14edbebeiKurIc#concept-om1-tgs-c2b">远程配置</a>、<a href="https://help.aliyun.com/document_detail/141582.htm?spm=a2c4g.11186623.2.34.14edbebeiKurIc#concept-2321153">实时监控</a>、远程维护]等功能。</p><h4 id="1-3-7-数据分析"><a href="#1-3-7-数据分析" class="headerlink" title="1.3.7 数据分析"></a>1.3.7 数据分析</h4><p>数据分析是阿里云为物联网开发者提供的数据智能分析服务，针对物联网数据特点，提供海量数据的存储备份、资产管理、报表分析和数据服务等能力，帮助企业用户更容易地挖掘物联网数据中的价值。</p><p>更多信息，请参见<a href="https://help.aliyun.com/document_detail/188646.htm?spm=a2c4g.11186623.2.35.14edbebeiKurIc#topic-1961048">物联网数据分析</a>。</p><h4 id="1-3-8-安全认证和权限策略"><a href="#1-3-8-安全认证和权限策略" class="headerlink" title="1.3.8 安全认证和权限策略"></a>1.3.8 安全认证和权限策略</h4><p>安全是IoT的重要话题。阿里云物联网平台提供多重防护，保障设备和云端数据的安全。</p><ul><li>物联网平台为每个设备颁发唯一证书，设备使用证书进行身份验证连接物联网平台。</li><li>针对不同安全等级和产线烧录的要求，物联网平台为开发者提供了多种设备认证方式。</li><li>授权粒度精确到设备级别，任何设备只能对自己的Topic发布、订阅消息。服务端凭借阿里云AccessKey对账号下所属的Topic进行操作。</li></ul><h3 id="1-4-阿里云物联网平台产品优势"><a href="#1-4-阿里云物联网平台产品优势" class="headerlink" title="1.4 阿里云物联网平台产品优势"></a>1.4 阿里云物联网平台产品优势</h3><p>企业基于物联网，通过运营设备数据实现效益提升已是行业趋势和业内共识。然而，企业在物联网系统的建设过程中往往存在各类阻碍。针对此类严重制约企业物联网发展的问题，阿里云物联网平台相比企业自建MQTT集群、MQTT服务器具有不可比拟的优势。</p><h4 id="1-4-1-更强大的能力"><a href="#1-4-1-更强大的能力" class="headerlink" title="1.4.1 更强大的能力"></a>1.4.1 更强大的能力</h4><p>自建MQTT集群与阿里云物联网平台的能力差异请参见下表。</p><table><thead><tr><th>项目</th><th>阿里云物联网平台</th><th>自建MQTT集群</th></tr></thead><tbody><tr><td>性价比</td><td>可选多种付费模式：按量付费、包年包月。随业务规模增长，可无感扩容。</td><td>预付费，需一次性投入购买IaaS资源。随着业务规模增长，需要不断扩容。</td></tr><tr><td>设备接入</td><td>提供设备端SDK，快速连接设备上云，效率高。<br>同时支持全球设备接入、异构网络设备接入、<br>多环境下设备接入和多协议设备接入。<br>亿级设备规模，自动扩展，保证连接稳定性，<br>设备消息到平台处理时长在50ms以内。</td><td>需要搭建基础设施，联合嵌入式开发人员与云端<br>开发人员共同开发。开发工作量大、效率低。<br>架构上难以支撑百万级的设备规模，设备并发连接<br>很多时难以保证平台稳定性，同时大量设备上<br>下线会导致平台雪崩。</td></tr><tr><td>并发性</td><td>百万并发能力，架构可水平扩展。核心消息处理<br>系统采用无状态架构，无单点依赖，消息发送失<br>败可自动重试。</td><td>架构上难以支持万级的消息规模，消息上下行并<br>发会给系统带来巨大的冲击。无法做到削峰填<br>谷，影响高峰时正常业务运行。</td></tr><tr><td>安全性</td><td>等保2.0版（三级等保），提供多重防护，保障设备数据安全。<br>接入层使用高防IP防止DDoS攻击。<br>设备认证保障设备安全与唯一性。<br>设备数据传输链路支持TLS加密，保障数据不被篡改。<br>核心密钥和数据加密存储防窃取。<br>云盾护航和权限校验保障云端安全。<br>平台安全由阿里云安全团队防护。<br></td><td>需要额外开发、部署各种安全措施，保障设备数<br>据安全是个极大挑战。<br>如果缺少安全专业人才，安全意识不强，出现安全问题无法第一时间解决，造成的影响比较大。</td></tr><tr><td>可用性</td><td>去中心化，无单点依赖。拥有多数据中心支持。<br>承诺服务可用性达到99.9%，未达到可按标准理<br>赔。故障处理1分钟发现、5分钟定位、20分钟解决。</td><td>如果迁移过程中出现死机，需自行发现并解决，<br>再完成迁移，迁移时服务会中断。可用性无法保障。<br>可用性没有明确的量化标准，发生问题需要技术<br>和运维团队介入排查，时间不能保证，损失自行承担。</td></tr><tr><td>易用性</td><td>开通即用，提供控制台、设备SDK、云端SDK配合使用。<br>一站式设备管理、实时监控设备场景、无缝连接<br>阿里云产品。可灵活简便地搭建复杂物联网应用。<br>支持物模型，无需自定义数据格式，解决数据结构<br>化的问题，便于做数据分析和可视化。<br>完善的监控和告警配置，可及时感知到平台和业务<br>的异常状况。<br>数据开放、API开放，打通设备到平台到业务服务器的数据链路。</td><td>需要购买服务器搭建负载均衡分布式架构，花费<br>大量人力物力开发”接入+计算+存储”一整套物联网系统。<br>无控制台，前后端都需要自行搭建，设备连接状<br>态、生命周期管理以及远程运维的实现很复杂。</td></tr><tr><td>设备出海</td><td>全球8个地域，分布在亚洲、欧洲、北美洲。设备<br>可在全球范围内就近接入。<br>使用阿里云域名加速能力，减少设备跨海通信延时。<br>数据安全合规通过GDPR认证。</td><td>海外部署成本高，难以运维，设备访问延时高，<br>同时要考虑安全合规问题。</td></tr><tr><td>服务端同步调用</td><td>支持RRPC同步响应。</td><td>不支持</td></tr><tr><td>私有协议数据解析</td><td>支持云上脚本托管，实现自定义协议解析。</td><td>不支持，需要业务服务器处理。</td></tr><tr><td>数据流转</td><td>通过规则引擎配置，支持多种云产品流转。</td><td>不支持，需要研发编码实现。</td></tr><tr><td>设备影子</td><td>支持。</td><td>不支持，需要研发编码实现。</td></tr><tr><td>OTA升级</td><td>支持多维度设备OTA升级方式。</td><td>不支持，需要研发编码实现。</td></tr><tr><td>日志服务</td><td>支持日志查询，海量日志存储。</td><td>不支持，需要研发编码实现。</td></tr><tr><td>实时监控</td><td>支持实时监控运维图表展示，支持阈值报警、事件报警。</td><td>不支持，需要研发编码实现。</td></tr></tbody></table><h4 id="1-4-2-更低的费用"><a href="#1-4-2-更低的费用" class="headerlink" title="1.4.2 更低的费用"></a>1.4.2 更低的费用</h4><p>假设企业有1万台设备，每个设备每天在线16小时，平均每个设备5分钟1条消息，单消息报文大小512 B到1 KB之间，分别使用自建MQTT集群、阿里云物联网平台产生的费用如下表所示。</p><table><thead><tr><th>项目</th><th>阿里云物联网平台</th><th>自建MQTT集群（基于阿里云ECS）</th></tr></thead><tbody><tr><td>云资源费用</td><td>购买设备数为1万个、消息上下行TPS为100条/秒，规则引擎TPS为100条/秒、最小规格时序数据存储的实例即可。<br>总费用：6815元/年。<a href="https://common-buy.aliyun.com/?spm=a2c4g.11186623.2.4.2f8e373ckVPLA4&commodityCode=iot_instc_public_cn#/buy">物联网平台实例购买页</a></td><td>至少需要2台ECS实例做互备容灾：2台4核CPU、8 GB内存、40 GB存储空间的ECS实例费用为7915元/年。<br>关系型数据库RDS：最小规格，1核CPU、1 GB内存、20GB存储空间的RDS实例费用为1584元/年。<br>负载均衡SLB：最小规格，1 Mbps带宽的SLB实例费用为352元/年。<br>总费用：9851元/年。</td></tr><tr><td>人力费用</td><td>无</td><td>假设1个负责平台研发和运维工程师月薪8000元，占用该工程师20%的工作量，则人员成本为8000×12×20% = 19200元/年。不考虑奖金和五险一金成本。</td></tr><tr><td>总计</td><td>6815元/年</td><td>29051元/年</td></tr></tbody></table><h3 id="1-5-阿里云物联网平台应用场景"><a href="#1-5-阿里云物联网平台应用场景" class="headerlink" title="1.5 阿里云物联网平台应用场景"></a>1.5 阿里云物联网平台应用场景</h3><p>物联网平台支持海量设备稳定连接、实时在线，支持云端调用API低延时下发指令，提升各场景中用户体验。下文介绍物联网平台的典型应用场景。</p><h4 id="1-5-1-共享充电宝"><a href="#1-5-1-共享充电宝" class="headerlink" title="1.5.1 共享充电宝"></a>1.5.1 共享充电宝</h4><p>充电宝设备接入物联网平台后，会将其电量和借用状态等信息将上报到云端。充电宝用户扫码后，云端低延时向充电宝下发指令，使其弹出。同时，企业运营者能够实时获知充电宝的运行状况。</p><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/p203442.png" alt="共享充电宝场景"></p><h4 id="1-5-2-智能家居"><a href="#1-5-2-智能家居" class="headerlink" title="1.5.2 智能家居"></a>1.5.2 智能家居</h4><p>物联网平台广泛应用于智能家居电器，以智能插座为例，用户可远程查看插座使用情况，并控制其开关，避免因大功率电器过热，发生危险。</p><p>您可使用一机一密的方式稳定接入海量设备，防止黑客批量攻击。</p><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/p203531.png" alt="智能家居场景"></p><h4 id="1-5-3-农业设备"><a href="#1-5-3-农业设备" class="headerlink" title="1.5.3 农业设备"></a>1.5.3 农业设备</h4><p>使用各种传感器设备和通信网络，实时监控采集农业大棚中数据。传感器设备可通过RS485总线连接网关，再通过网关将其连接到物联网平台，实现在云端展示和管理数据。</p><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/p203564.png" alt="农业设备场景"></p><h3 id="1-6-阿里云物联网平台使用限制"><a href="#1-6-阿里云物联网平台使用限制" class="headerlink" title="1.6 阿里云物联网平台使用限制"></a>1.6 阿里云物联网平台使用限制</h3><p>使用物联网平台时，会受到以下功能和服务性能限制。</p><h4 id="1-6-1-产品与设备"><a href="#1-6-1-产品与设备" class="headerlink" title="1.6.1 产品与设备"></a>1.6.1 产品与设备</h4><table><thead><tr><th>限制项</th><th>描述</th><th>限制</th></tr></thead><tbody><tr><td>标签个数</td><td>单个产品、设备或分组最多可以添加的标签数。</td><td>100</td></tr><tr><td>产品数量</td><td>企业版实例：单实例下最多可以创建的产品数。</td><td>1,000</td></tr><tr><td>产品数量</td><td>公共实例：单账号下最多可以创建的产品数。</td><td>1,000</td></tr><tr><td>设备数量</td><td>单产品最多可以添加的设备数。<br>为了及时了解产品下的设备数情况，避免影响新设备接入，建议配置产品下已创建设备数阈值报警，具体操作请参见<a href="https://help.aliyun.com/document_detail/124076.htm?spm=a2c4g.11186623.2.10.31f16dbbKS2VMJ#section-wkn-qwb-bz8">创建阈值报警规则</a>。<br>如果设备数量超过此限制，请新建产品。</td><td>1,000,000</td></tr><tr><td>设备数量</td><td>单账号最多可以添加的设备数。若该限制数量不能满足您的业务需求，请<a href="https://selfservice.console.aliyun.com/ticket/createIndex?spm=a2c4g.11186623.2.11.31f16dbbKS2VMJ">提交工单</a>说明需求。</td><td>10,000,000</td></tr><tr><td>网关与子设备</td><td>单个网关下最多添加的子设备数。</td><td>1,500</td></tr><tr><td>物模型功能定义</td><td>单个产品最多可包含物模型模块（默认模块和自定义模块）总数。</td><td>10</td></tr><tr><td>物模型功能定义</td><td>单个物模型模块最多可添加的功能总数。</td><td>300</td></tr><tr><td>物模型功能定义</td><td>struct类的属性最多可添加的参数个数。</td><td>50</td></tr><tr><td>物模型功能定义</td><td>当功能的数据类型为enum时，枚举项的最多个数。</td><td>100</td></tr><tr><td>物模型功能定义</td><td>当功能的数据类型为text时，数据最大长度。</td><td>10,240个字符</td></tr><tr><td>物模型功能定义</td><td>当功能的数据类型为array时，数组内的元素最多个数。</td><td>512</td></tr><tr><td>物模型功能定义</td><td>所有服务和事件中最多可添加入参和出参的总数。</td><td>300</td></tr><tr><td>物模型功能定义</td><td>单个服务中最多可添加的入参个数。</td><td>100</td></tr><tr><td>物模型功能定义</td><td>单个服务中最多可添加的出参个数。</td><td>100</td></tr><tr><td>物模型功能定义</td><td>单个事件中最多可添加的出参个数。</td><td>100</td></tr><tr><td>物模型功能定义</td><td>最多可同时导入物模型模块文件的总数。</td><td>10</td></tr><tr><td>物模型功能定义</td><td>单个物模型最多保存最近版本的个数。</td><td>10</td></tr><tr><td>物模型功能定义</td><td>导入物模型时，单个JSON格式的物模型模块文件大小的上限。</td><td>256 KB</td></tr><tr><td>物模型功能定义</td><td>导入物模型时，多个JSON格式文件压缩的ZIP文件大小的上限。</td><td>2.5 MB</td></tr><tr><td>物模型功能定义</td><td>调用物模型相关API时，如果请求参数ThingModelJson中ARRAY和<br>STRUCT类型数据相互嵌套，最多支持递归嵌套的层级数。<br>例如ARRAY中只能使用STRUCT，此时该STRUCT中不能再有ARRAY或STRUCT类型数据。</td><td>2级（父和子）</td></tr><tr><td>设备分组</td><td>一个阿里云账号下最多可有父分组和子分组的总个数。</td><td>1,000</td></tr><tr><td>设备分组</td><td>单个分组内最多可添加设备的个数。</td><td>100,000</td></tr><tr><td>设备分组</td><td>一个设备最多可被添加到的分组个数。</td><td>10</td></tr><tr><td>数据解析</td><td>数据解析脚本文件大小的上限。</td><td>128 KB</td></tr><tr><td>远程配置</td><td>远程配置文件，仅支持JSON格式。文件大小的上限。</td><td>64 KB</td></tr><tr><td>数据存储时间</td><td>产品运行时，产生的属性、事件、服务数据存储时间为30天。超出30天<br>的数据不再保存。<br>若您有更长时间的数据存储或分析需要，可以使用<a href="https://help.aliyun.com/document_detail/108672.htm?spm=a2c4g.11186623.2.12.31f16dbbKS2VMJ#concept-krf-qpm-xgb">数据分析服务</a>。</td><td>30天</td></tr><tr><td>文件管理</td><td>一个阿里云账号可存储在物联网平台服务器的文件总大小的上限。</td><td>1 GB</td></tr><tr><td>文件管理</td><td>单个设备最多可存储的文件数量。</td><td>1,000</td></tr><tr><td>OTA升级</td><td>一个阿里云账号下最多可包含的升级包数量。</td><td>500</td></tr><tr><td>OTA升级</td><td>单个升级包文件大小限制。</td><td>1,000 MB</td></tr><tr><td>OTA升级</td><td>单次批量升级最多可升级的设备数量。</td><td>100,000</td></tr><tr><td>设备任务</td><td>一个阿里云账号下，单个地域最多可添加设备任务个数。</td><td>10,000</td></tr></tbody></table><h3 id="1-7-阿里云物联网平台产品定价"><a href="#1-7-阿里云物联网平台产品定价" class="headerlink" title="1.7 阿里云物联网平台产品定价"></a>1.7 阿里云物联网平台产品定价</h3><p>物联网平台企业版实例和公共实例计费方式不同。企业版实例使用包年包月的方式，公共实例使用按量计费和包（资源包、套餐包）购买量计费的方式。</p><p>阿里云物联网平台计费说明如下。</p><table><thead><tr><th>实例</th><th>计费方式</th><th>适用地域</th><th>说明</th><th>相关文档</th></tr></thead><tbody><tr><td>企业版实例</td><td>包年包月</td><td>华东2（上海）<br>华北2（北京）<br>华南1（深圳）</td><td>一种预付费模式。购买企业版实例后，<br>即可使用实例下包含的服务。</td><td><a href="https://help.aliyun.com/document_detail/188874.htm?spm=a2c4g.11186623.2.2.1f7043f7F3LBFd#concept-1994584">企业版实例（包年包月）</a></td></tr><tr><td>公共实例</td><td>按量计费/包购买量</td><td>中国地域：华东2（上海）<br>中国以外地域：新加坡<br>日本<br>德国（法兰克福）<br>美国（硅谷）<br>美国（弗吉尼亚）</td><td>一种后付费模式，即先使用再付费。<br>系统根据使用的付费资源，在每个结算周期生成账单并从账户中扣除相应费用，无最低费用。<br>支持购买资源包：购买后立即生效，优先抵用。</td><td><a href="https://help.aliyun.com/document_detail/91978.htm?spm=a2c4g.11186623.2.3.1f7043f7F3LBFd#concept-jrj-k2g-ffb">消息通信计费</a><br><a href="https://help.aliyun.com/document_detail/91979.htm?spm=a2c4g.11186623.2.4.1f7043f7F3LBFd#concept-msp-l2g-ffb">连接时长计费</a><br><a href="https://help.aliyun.com/document_detail/147051.htm?spm=a2c4g.11186623.2.5.1f7043f7F3LBFd#concept-2365214">OTA升级计费</a><br><a href="https://help.aliyun.com/document_detail/73701.htm?spm=a2c4g.11186623.2.6.1f7043f7F3LBFd#concept-tsk-xzv-tdb">计费示例</a><br>包购买量计费</td></tr></tbody></table><h2 id="2-阿里云物联网应用开发"><a href="#2-阿里云物联网应用开发" class="headerlink" title="2 阿里云物联网应用开发"></a>2 阿里云物联网应用开发</h2><h3 id="2-1-阿里云物联网应用开发产品简介"><a href="#2-1-阿里云物联网应用开发产品简介" class="headerlink" title="2.1 阿里云物联网应用开发产品简介"></a>2.1 阿里云物联网应用开发产品简介</h3><p>物联网应用开发（IoT Studio）是阿里云针对物联网场景提供的生产力工具，提供了Web可视化开发、业务逻辑开发与物联网数据分析等一系列便捷的物联网开发工具，可覆盖各个物联网行业核心应用场景，加速物联网SaaS(Software-as-a-Service， 软件即服务)构建。</p><p><strong>阿里云IoTStudio架构图</strong></p><p><img src="https://gentletk.oss-cn-shenzhen.aliyuncs.com/%E9%98%BF%E9%87%8C%E4%BA%91IoTStudio%E6%9E%B6%E6%9E%84%E5%9B%BE.png" alt="阿里IoTStudio架构图"></p><h3 id="2-2-IoT-Studio功能特点"><a href="#2-2-IoT-Studio功能特点" class="headerlink" title="2.2 IoT Studio功能特点"></a>2.2 IoT Studio功能特点</h3><ul><li><p><strong>可视化搭建</strong></p><p>  IoT Studio提供可视化搭建能力，您可以通过拖拽、配置操作，快速完成设备数据监控相关的Web应用、API服务的开发。您可以专注于核心业务，从传统开发的繁琐细节中脱身，有效提升开发效率。</p></li><li><p><strong>与设备管理无缝集成</strong></p><p>  设备相关的属性、服务、事件等数据均可从物联网平台设备接入和管理模块中直接获取，IoT Studio与物联网平台无缝打通，大大降低物联网开发工作量。</p></li><li><p><strong>丰富的开发资源</strong></p><p>  各开发平台均拥有数量众多的组件和丰富的API。随着产品迭代升级，组件库会愈加丰富，IoT Studio帮助您提升开发效率。</p></li><li><p><strong>组件开发</strong></p><p>  IoT Studio提供了组件开发能力，您可以开发、发布和管理自己研发的组件，并将其发布到Web可视化工作台中用于可视化页面搭建。大大满足开发者的需求，提升组件丰富性，为可视化搭建提供无限可能。</p></li><li><p><strong>无需部署</strong></p><p>  使用IoT Studio，应用服务开发完毕后，直接托管在云端，支持直接预览、使用。无需部署即可交付使用，免除您额外购买服务器等产品的烦恼。</p></li></ul><p><strong>使用限制</strong></p><p>IoT Studio目前处于公测期间，公测期间产品免费试用，产品使用的最终规格以未来商业化调整规格为准。</p><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/IoTStudio%E4%BD%BF%E7%94%A8%E9%99%90%E5%88%B6.png" alt="IoTStudio使用限制"></p><h3 id="2-3-IoTStudio场景应用案例——树莓派搭建机房监控应用"><a href="#2-3-IoTStudio场景应用案例——树莓派搭建机房监控应用" class="headerlink" title="2.3 IoTStudio场景应用案例——树莓派搭建机房监控应用"></a>2.3 IoTStudio场景应用案例——树莓派搭建机房监控应用</h3><p>通过使用树莓派（Raspberry Pi 4）、DHT11温湿度传感器设备和物联网应用开发（IoT Studio）平台，构建一个服务器机房的实时动态环境温湿度检测系统</p><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%90%AD%E5%BB%BA%E6%9C%BA%E6%88%BF%E7%9B%91%E6%8E%A7%E5%BA%94%E7%94%A8.png" alt="树莓派搭建机房监控应用"></p><h1 id="华为云"><a href="#华为云" class="headerlink" title="华为云"></a>华为云</h1><h2 id="1-华为云物联网云服务——设备接入IoTDA"><a href="#1-华为云物联网云服务——设备接入IoTDA" class="headerlink" title="1 华为云物联网云服务——设备接入IoTDA"></a>1 华为云物联网云服务——设备接入IoTDA</h2><h3 id="1-1-华为物联网平台产品简介"><a href="#1-1-华为物联网平台产品简介" class="headerlink" title="1.1 华为物联网平台产品简介"></a>1.1 华为物联网平台产品简介</h3><p>华为云物联网平台（IoT 设备接入云服务）提供海量设备的接入和管理能力，可以将您的IoT设备联接到华为云，支撑设备数据采集上云和云端下发命令给设备进行远程控制，配合华为云其他产品，帮助您快速构筑物联网解决方案。</p><h3 id="1-2-华为物联网平台产品功能"><a href="#1-2-华为物联网平台产品功能" class="headerlink" title="1.2 华为物联网平台产品功能"></a>1.2 华为物联网平台产品功能</h3><p>物联网平台支持终端设备直接接入，也可以通过工业网关或者家庭网关接入；支持多网络接入、多协议接入、系列化Agent接入，解决设备接入复杂多样化和碎片化难题；也提供了更丰富完备的设备管理能力，简化海量设备管理复杂性，节省人工操作，提升管理效率。IoT 设备接入云服务支持的功能特性如下：</p><h4 id="1-2-1-设备接入能力"><a href="#1-2-1-设备接入能力" class="headerlink" title="1.2.1 设备接入能力"></a>1.2.1 设备接入能力</h4><table><thead><tr><th>功能特性</th><th>功能说明</th></tr></thead><tbody><tr><td>原生协议接入</td><td>支持MQTT/CoAP/LwM2M/HTTP协议接入。</td></tr><tr><td>泛协议接入</td><td>提供开源SDK和技术框架，需用户自行部署云网关完成协议转换，或部署协议驱动到边缘网关。</td></tr><tr><td>系列化Device SDK</td><td>支持IoT Device SDK和IoT Device SDK Tiny ，覆盖的语言包括C、Java等。详情请参考<a href="https://support.huaweicloud.com/devg-iothub/iot_02_0178.html">IoT Device SDK介绍</a>。</td></tr><tr><td>行业协议接入</td><td>支持通过边缘网关接入Modbus、OPCUA（Q3）、可通过行业协议插件方式支持行业协议接入。</td></tr><tr><td>设备接入鉴权</td><td>支持一机一密，X.509证书等鉴权方式。</td></tr></tbody></table><h4 id="1-2-2-设备管理能力"><a href="#1-2-2-设备管理能力" class="headerlink" title="1.2.2 设备管理能力"></a>1.2.2 设备管理能力</h4><table><thead><tr><th>功能特性</th><th>功能说明</th></tr></thead><tbody><tr><td>设备生命周期管理</td><td>设备增删改查、设备状态管理、设备冻结/解冻、子设备管理等。</td></tr><tr><td>设备分组&amp;标签</td><td>支持对设备进行分组或打标签,详细请参见群组与标签。</td></tr><tr><td>设备物模型定义</td><td>对设备进行物模型定义（Profile）,详细请参见产品模型。</td></tr><tr><td>设备影子</td><td>支持影子数据查询和影子设置,详细请参见设备影子。</td></tr><tr><td>OTA升级</td><td>支持对设备软固件进行升级,详细请参考固件升级、软件升级。</td></tr><tr><td>设备文件上传</td><td>支持设备上传文件到OBS，设备可向云端请求文件,详细请参见文件上传。</td></tr><tr><td>设备批操作</td><td>支持对设备的批量操作，包括批量创建设备、批量软固件升级和批量命令下发。</td></tr></tbody></table><h4 id="1-2-3-消息通信"><a href="#1-2-3-消息通信" class="headerlink" title="1.2.3 消息通信"></a>1.2.3 消息通信</h4><table><thead><tr><th>功能特性</th><th>功能说明</th></tr></thead><tbody><tr><td>双向消息透传</td><td>支持设备消息HTTP/AMQP推送到应用服务器，支持应用侧向设备以异步方式下发消息。</td></tr><tr><td>物模型Topic通信</td><td>应用侧和设备侧基于物模型定义的属性、命令和事件进行解耦通信。</td></tr><tr><td>自定义Topic通信</td><td>支持用户自定义Topic进行双向消息通信。</td></tr><tr><td>数据解析转换</td><td>在线开发编解码插件，对设备数据进行数据解析和格式转换。</td></tr><tr><td>命令下发</td><td>支持以同步方式向在线设备下发命令，NB场景支持异步方式下发命令,详细请参见命令下发。</td></tr><tr><td>订阅推送</td><td>支持应用服务器通过HTTP或AMQP订阅设备上报数据。</td></tr></tbody></table><h4 id="1-2-4-规则引擎-1"><a href="#1-2-4-规则引擎-1" class="headerlink" title="1.2.4 规则引擎"></a>1.2.4 规则引擎</h4><table><thead><tr><th>功能特性</th><th>功能说明</th></tr></thead><tbody><tr><td>数据流转</td><td>支持数据流转到华为云Kafka/OBS/GaussDB/DIS/DMS/ROMA/IoT数据分析等服务,详细请参见<a href="https://support.huaweicloud.com/usermanual-iothub/iot_01_0022.html">规则引擎</a>。</td></tr><tr><td>规则联动</td><td>支持建立设备联动规则，实现联动控制,详细请参见<a href="https://support.huaweicloud.com/usermanual-iothub/iot_01_0022.html">规则引擎</a>。</td></tr></tbody></table><h4 id="1-2-5-监控运维"><a href="#1-2-5-监控运维" class="headerlink" title="1.2.5 监控运维"></a>1.2.5 监控运维</h4><table><thead><tr><th>功能特性</th><th>功能说明</th></tr></thead><tbody><tr><td>日志能力</td><td>控制台提供消息跟踪功能，对接LTS提供日志分析能力，对接CTS提供审计日志功能,详细请参见<a href="https://support.huaweicloud.com/usermanual-iothub/iot_01_0030.html">监控运维</a>。</td></tr><tr><td>告警能力</td><td>系统类告警（如阈值类告警）和设备规则触发告警对接AOM提供告警通知管理能力,详细请参见<a href="https://support.huaweicloud.com/usermanual-iothub/iot_01_0030_3.html">告警管理</a>。</td></tr><tr><td>指标监控</td><td>租户级业务指标（如设备状态、命令、订阅推送、消息流转等）对接AOM提供监控报表能力，详细请参见<a href="https://support.huaweicloud.com/usermanual-iothub/iot_01_0030_1.html">查看报表</a>。</td></tr></tbody></table><h4 id="1-2-6-设备发放"><a href="#1-2-6-设备发放" class="headerlink" title="1.2.6 设备发放"></a>1.2.6 设备发放</h4><table><thead><tr><th>功能特性</th><th>功能说明</th></tr></thead><tbody><tr><td>设备启动引导</td><td>通过Bootstrap流程，引导物联网设备在初次上电时获得正确的目标物联网平台地址，继而完成设备与平台的建链过程。</td></tr><tr><td>多种发放策略</td><td>支持多种智能发放策略，比如关键字模糊匹配，使用证书进行发放，自定义发放策略等。</td></tr><tr><td>设备迁移能力</td><td>设备迁移能力，根据业务迁移需要，帮助企业重置设备发放信息，实现更改对端物联网平台的目的。</td></tr></tbody></table><h4 id="1-2-7-安全-amp-数据保护"><a href="#1-2-7-安全-amp-数据保护" class="headerlink" title="1.2.7 安全&amp;数据保护"></a>1.2.7 安全&amp;数据保护</h4><p>物联网平台提供多种安全防护措施，确保设备安全、数据有效保护。</p><ul><li>设备安全：提供一机一密的设备安全认证机制，防止设备非法接入。</li><li>信息传输安全：基于TLS、DTLS、DTLS+加密协议，提供安全的传输通道。</li><li>数据保护：满足欧盟GDPR数据隐私保护要求。</li></ul><h4 id="1-2-8-IoT边缘"><a href="#1-2-8-IoT边缘" class="headerlink" title="1.2.8 IoT边缘"></a>1.2.8 IoT边缘</h4><p>IoT边缘作为物联网边缘“小脑”，在靠近物或数据源头的边缘侧，融合网络、计算、存储、应用核心能力的开放平台，就近提供计算和智能服务，满足行业在实时业务、应用智能、安全与隐私保护等方面的基本需求。</p><h4 id="1-2-9-数据分析"><a href="#1-2-9-数据分析" class="headerlink" title="1.2.9 数据分析"></a>1.2.9 数据分析</h4><p>物联网数据分析基于物联网资产模型，整合物联网数据集成，清洗，存储，分析，可视化，为开发者提供一站式服务，降低开发门槛，缩短开发周期，快速实现物联网数据价值变现，详情请参考<a href="https://support.huaweicloud.com/productdesc-iotanalytics/iota_01_0100.html">物联网数据分析</a>。</p><h4 id="1-2-10-全球SIM连接"><a href="#1-2-10-全球SIM连接" class="headerlink" title="1.2.10 全球SIM连接"></a>1.2.10 全球SIM连接</h4><p>可实现设备在全球范围，通过定量流量、空中写卡和远程设备发放技术，实现就近华为公有云站点可靠接入，并享受当地资费套餐，详情请参考<a href="https://support.huaweicloud.com/qs-ocgsl/oceanlink_03_0001.html">全球SIM联接</a>。</p><h3 id="1-3-华为物联网平台产品架构"><a href="#1-3-华为物联网平台产品架构" class="headerlink" title="1.3 华为物联网平台产品架构"></a>1.3 华为物联网平台产品架构</h3><p>使用物联网平台构建一个完整的物联网解决方案主要包括3部分：物联网平台、业务应用和设备。</p><ul><li>物联网平台作为连接业务应用和设备的中间层，屏蔽了各种复杂的设备接口，实现设备的快速接入；同时提供强大的开放能力，支撑行业用户快速构建各种物联网业务应用。</li><li>设备可以通过固网、2G/3G/4G/5G、NB-IoT、Wifi等多种网络接入物联网平台，并使用LWM2M/CoAP或MQTT协议将业务数据上报到平台，平台也可以将控制命令下发给设备。</li><li>业务应用通过调用物联网平台提供的API，实现设备数据采集、命令下发、设备管理等业务场景。</li></ul><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/zh-cn_image_0000001130147031.png" alt="华为物联网平台架构"></p><h3 id="1-4-华为物联网平台产品优势"><a href="#1-4-华为物联网平台产品优势" class="headerlink" title="1.4 华为物联网平台产品优势"></a>1.4 华为物联网平台产品优势</h3><p>物联网普及的速度在加快，很多企业在物联网转型过程中往往面临着接入碎片化、设备管理复杂、安全难保证、平台容量小等难题。针对以上物联网痛点，华为云物联网平台提供了一系列解决措施。</p><table><thead><tr><th>项目</th><th>传统平台</th><th>华为云物联网平台</th></tr></thead><tbody><tr><td>设备通信</td><td>需要跨地域采购物理SIM卡，生产地无法测试目的地网络状态。<br>全球拓展难：需与全球多家运营商谈判、对接，集成工作挑战大。<br>漫游资费高：企业迫切希望使用设备所在国的本地资费，降低成本。</td><td>通过全球SIM联接服务购买物联网卡，快速实现设备上云，<br>并实现全球设备的联接。目前华为全球SIM联接服务覆盖<br>全球200+国家和地区，全球合作运营商30+，并实现一个<br>国家内多运营商覆盖，提供最好的网络和最优的资费。</td></tr><tr><td>设备接入</td><td>硬件开发平台、接入协议、接入网络碎片化严重<br>多厂家多终端类型，上层应用伙伴集成兼容难度高</td><td>支持多网络、多协议、多语言SDK支持，<br>屏蔽物联网碎片化，实现设备快速接入。</td></tr><tr><td>安全和数据保护</td><td>需要额外开发、部署各种安全措施，<br>端到端保证设备、传输和数据安全难度大</td><td>提供多种安全防护措施，确保设备安全和信息传输安全；<br>满足欧盟GDPR数据隐私保护要求，确保数据得到有效保护。</td></tr><tr><td>性能和稳定性</td><td>自主实现架构，平台难以保证海量设备接入和并发数</td><td>微服务电信级架构，提供亿级海量连接和百万级并发的能力，<br>业务可靠性达到99.9%。</td></tr><tr><td>可扩展性</td><td>额外购买或开发存储、大数据分析、消息通知等产品，<br>投入的人力物力成本高</td><td>基于规则引擎与华为云其他产品对接，例如DIS、DMS、<br>OBS、MRS、SMN、ROMA Connect等，可以方便快捷的实现海量设备数据的存储、计算以及智能分析。</td></tr></tbody></table><h3 id="1-5-华为物联网平台应用场景"><a href="#1-5-华为物联网平台应用场景" class="headerlink" title="1.5 华为物联网平台应用场景"></a>1.5 华为物联网平台应用场景</h3><h4 id="1-5-1-智慧路灯"><a href="#1-5-1-智慧路灯" class="headerlink" title="1.5.1 智慧路灯"></a>1.5.1 智慧路灯</h4><p>场景简介：路灯管理系统通过接入物联网平台，监控路灯状态，控制路灯开关（集成了NB模组的智慧路灯）。</p><p>该场景主要描述的是设备可以通过LWM2M协议与物联网平台进行交互，应用侧可以到物联网平台订阅设备侧变化的通知，也可以给设备侧下发命令。</p><p>核心知识点：产品模型、编辑码插件、订阅推送、属性上报、命令下发。</p><p>最佳实践参考：<a href="https://support.huaweicloud.com/bestpractice-iothub/iot_bp_0007.html">基于小熊派开发智慧路灯</a>。</p><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/zh-cn_image_0288148690.png" alt="智慧路灯应用场景"></p><h4 id="1-5-2-自动售货机销量分析"><a href="#1-5-2-自动售货机销量分析" class="headerlink" title="1.5.2 自动售货机销量分析"></a>1.5.2 自动售货机销量分析</h4><p>场景简介：通过收集自动售货机系统的销售数据，EI数据分析售货销量状况。</p><p>该场景主要描述的是设备可以通过MQTT协议与物联网平台进行交互，应用侧可以到物联网平台订阅设备侧变化的通知，用户可以在控制台或通过应用侧接口创建数据转发规则，把设备上报的属性转发给其他华为云服务。</p><p>核心知识点：产品模型、编辑码插件、订阅推送、属性上报、MQTT协议、数据转发规则。</p><p>最佳实践参考：<a href="https://support.huaweicloud.com/bestpractice-iothub/iot_bp_0002.html">数据转发至大数据平台分析并呈现</a>。</p><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/zh-cn_image_0288149527.png" alt="自动售货机销量分析应用场景"></p><h4 id="1-5-3-智能网关"><a href="#1-5-3-智能网关" class="headerlink" title="1.5.3 智能网关"></a>1.5.3 智能网关</h4><p>场景简介：已对接存量设备的网关，不用迁移就可以实现对既有设备和新设备的兼容控制。</p><p>该场景主要描述的是设备可以通过MQTT协议与物联网平台进行交互，用户可以在控制台产品详情中自定义Topic，通过应用侧接口或控制台创建数据转发规则，把设备上报的消息转发给其他华为云服务，供应用侧用户主动去消费。</p><p>核心知识点：产品模型、消息上报、消息下发、MQTT协议、数据转发规则、自定义Topic。</p><p>最佳实践参考：<a href="https://support.huaweicloud.com/bestpractice-iothub/iot_bp_0019.html">使用自定义Topic进行通信</a>。</p><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/zh-cn_image_0288150053.png" alt="智能网关应用场景"></p><h3 id="1-6-华为物联网平台使用限制"><a href="#1-6-华为物联网平台使用限制" class="headerlink" title="1.6 华为物联网平台使用限制"></a>1.6 华为物联网平台使用限制</h3><p>应用侧、设备侧、平台侧在开发或使用时有以下技术规格限制，如果限制数量不能满足您的业务需求，请<a href="https://console.huaweicloud.com/ticket/?region=cn-north-4&locale=zh-cn#/ticketindex/createIndex">提交工单</a>说明您的需求。</p><h4 id="1-6-1-应用侧限制"><a href="#1-6-1-应用侧限制" class="headerlink" title="1.6.1 应用侧限制"></a>1.6.1 应用侧限制</h4><table><thead><tr><th>对象</th><th>描述</th><th>限制</th></tr></thead><tbody><tr><td>产品</td><td>单个账号最多可添加的产品数</td><td>200</td></tr><tr><td>产品</td><td>单个产品最多可添加的设备数</td><td>无限制</td></tr><tr><td>产品模型</td><td>产品模型文件包大小限制</td><td>4 MB</td></tr><tr><td>设备数量</td><td>单个账号最大注册设备数</td><td>1000万</td></tr><tr><td>设备数量</td><td>单个账号最多在线设备数</td><td>无限制</td></tr><tr><td>设备数量</td><td>单个网关设备下最多可添加的子设备数量</td><td>无限制</td></tr><tr><td>设备群组</td><td>单个账号最多可添加的群组数量</td><td>1000</td></tr><tr><td>设备群组</td><td>单个群组层次结构的最大深度</td><td>5</td></tr><tr><td>设备群组</td><td>单个群组内最多可添加的设备数</td><td>20000</td></tr><tr><td>设备群组</td><td>单个设备最多可以被添加的群组数</td><td>10</td></tr><tr><td>批量设备注册</td><td>单次批量注册最多的设备数量</td><td>30000</td></tr><tr><td>规则引擎</td><td>单个账号最多可创建的规则数量，包含数据转发规则和设备联动规则</td><td>5000</td></tr><tr><td>规则引擎</td><td>单个规则最多可添加条件数</td><td>10</td></tr><tr><td>规则引擎</td><td>单个规则最多可添加动作数</td><td>10</td></tr><tr><td>批量任务</td><td>单个账号最多同时处理的批量任务数</td><td>10</td></tr><tr><td>批量任务</td><td>单个批量任务最多可添加子任务数</td><td>30000</td></tr><tr><td>软固件升级</td><td>单个账号最多可添加软固件包数</td><td>10000</td></tr><tr><td>软固件升级</td><td>单个软件包大小限制</td><td>200MB</td></tr><tr><td>软固件升级</td><td>单个固件包大小限制</td><td>200MB</td></tr><tr><td>标签管理</td><td>单个资源最多可绑定标签数</td><td>10</td></tr><tr><td>订阅管理</td><td>单个账号最多可添加订阅数</td><td>500</td></tr><tr><td>应用侧API</td><td>单个账号调用API的每秒最大次数（最大下行的请求数）</td><td>100/s</td></tr><tr><td>应用侧API</td><td>单个账号调用单个API的每秒最大次数（最大下行的请求数）</td><td>具体API无特殊说明的，默认限制50/s</td></tr></tbody></table><h3 id="1-7-华为物联网平台产品定价"><a href="#1-7-华为物联网平台产品定价" class="headerlink" title="1.7 华为物联网平台产品定价"></a>1.7 华为物联网平台产品定价</h3><p>详细产品价格，请参考<a href="https://www.huaweicloud.com/pricing.html?tab=detail#/iothub">这里</a>。</p><table><thead><tr><th>实例类型</th><th>计费模式</th><th>计费项</th></tr></thead><tbody><tr><td>基础版</td><td>按需计费</td><td>按实际产生的消息数计费。具体产品价格，请参考<a href="https://www.huaweicloud.com/pricing.html?tab=detail#/iothub">这里</a>。</td></tr><tr><td>标准版</td><td>包周期</td><td>根据实例类型、规格、购买时长计费。标准版规格请参考<a href="https://support.huaweicloud.com/productdesc-iothub/iot_04_0014.html#ZH-CN_TOPIC_0240834840__section1021919416257">这里</a>。</td></tr><tr><td>企业版</td><td>包周期</td><td>根据实例类型、规格，购买时长计费。企业版版规格请参考<a href="https://support.huaweicloud.com/productdesc-iothub/iot_04_0014.html#ZH-CN_TOPIC_0240834840__section5226115916298">这里</a>。</td></tr></tbody></table><h2 id="2-华为云——IoT开发者服务"><a href="#2-华为云——IoT开发者服务" class="headerlink" title="2 华为云——IoT开发者服务"></a>2 华为云——IoT开发者服务</h2><h3 id="2-1-IoT开发者服务产品简介"><a href="#2-1-IoT开发者服务产品简介" class="headerlink" title="2.1 IoT开发者服务产品简介"></a>2.1 IoT开发者服务产品简介</h3><p>IoT开发者服务（IoT Studio，原OceanBooster），是华为物联网针对物联网应用提供的应用开发平台，可涵盖物联网行业的核心应用场景，集Web在线开发、微服务开发和第三方应用推荐等一系列的便利物联网开发工具于一体，是个人开发者的孵化器，行业客户的应用托管平台。</p><p><strong>架构图</strong></p><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E5%8D%8E%E4%B8%BAIoTStudio%E6%9E%B6%E6%9E%84%E5%9B%BE.png" alt="华为IoTStudio架构图"></p><h3 id="2-2-IoT开发者服务功能特点"><a href="#2-2-IoT开发者服务功能特点" class="headerlink" title="2.2 IoT开发者服务功能特点"></a>2.2 IoT开发者服务功能特点</h3><ul><li><p><strong>应用快速构建</strong></p><p>  通过拖拽、配置方式，快速简单完成WEB应用开发，大大降低物联网应用研发成本，满足企业应用快速上线要求 。</p></li><li><p><strong>灵活报表</strong></p><p>  可通过多数据源，多维度，多条件，多形态的数据灵活定义各类图表和报表，并提供支持亿级的数据预处理能力 。</p></li><li><p><strong>多样化发布方式</strong></p><p>  通过自动生成物联网通用组件代码，提供被嵌入能力，可无缝嵌入企业自有应用，开发者只需开发和维护业务逻辑部分代码，降低应用运维成本 。</p></li><li><p><strong>多级管理能力</strong></p><p>  提供分权分域能力，满足企业跨地域，多层级的管理诉求 。</p><h3 id="2-3-IoT开发者服务场景应用案例——电梯行业"><a href="#2-3-IoT开发者服务场景应用案例——电梯行业" class="headerlink" title="2.3 IoT开发者服务场景应用案例——电梯行业"></a>2.3 IoT开发者服务场景应用案例——电梯行业</h3></li></ul><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E5%8D%8E%E4%B8%BA%E4%BA%91%E7%94%B5%E6%A2%AF%E8%A1%8C%E4%B8%9A%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF.png" alt="华为云电梯行业应用场景"></p><h1 id="对比与分析"><a href="#对比与分析" class="headerlink" title="对比与分析"></a>对比与分析</h1><h2 id="1-国内各物联网平台对比"><a href="#1-国内各物联网平台对比" class="headerlink" title="1 国内各物联网平台对比"></a>1 国内各物联网平台对比</h2><table><thead><tr><th>组件项</th><th>阿里云</th><th>华为云</th><th>中移动</th></tr></thead><tbody><tr><td>小程序平台</td><td>支付宝、淘宝、天猫</td><td>快应用</td><td>无</td></tr><tr><td>物联网应用平台</td><td>IoT Studio<br>飞燕智能家庭<br>飞凤物联平台<br>飞象工业互联</td><td>IoT开发者服务(IoT Studio)</td><td>OneNET Studio</td></tr><tr><td>数据接入平台</td><td>物联网平台</td><td>设备接入IoTDA</td><td>OneNET物联网平台</td></tr><tr><td>嵌入式OS</td><td>AliOS Things</td><td>LiteOS</td><td>OneOS</td></tr><tr><td>边缘计算</td><td>边缘计算系统<br>边缘一体机</td><td>华为KubeEdge</td><td>OneEdge 5G边缘计算</td></tr><tr><td>芯片模组</td><td>平头哥系列</td><td>海思物联网芯片</td><td>各种通信模组</td></tr><tr><td>私有化部署</td><td>支持</td><td>支持</td><td>无</td></tr></tbody></table><h2 id="2-物模型对比"><a href="#2-物模型对比" class="headerlink" title="2 物模型对比"></a>2 物模型对比</h2><table><thead><tr><th>项目</th><th>阿里云</th><th>华为云</th><th>中移动</th></tr></thead><tbody><tr><td>物模型</td><td>物模型</td><td>产品模型+服务ID</td><td>物模型</td></tr><tr><td>产品</td><td>产品/产品密钥</td><td>产品/产品ID</td><td>产品/产品ID</td></tr><tr><td>设备</td><td>网关设备<br>直连设备<br>子设备</td><td>网关设备<br>直连设备<br>非直连设备</td><td>网关设备<br>直连设备<br>子设备</td></tr><tr><td>设备鉴权</td><td>三元组：<br>产品密钥<br>设备名称<br>设备密钥</td><td>二元组：<br>设备ID<br>设备密钥</td><td>三元组：<br>产品密钥<br>设备ID<br>设备密钥</td></tr><tr><td>属性</td><td>属性</td><td>属性</td><td>属性</td></tr><tr><td>事件</td><td>事件</td><td>无</td><td>事件</td></tr><tr><td>方法</td><td>服务</td><td>命令</td><td>服务</td></tr></tbody></table><h2 id="3-个人分析"><a href="#3-个人分析" class="headerlink" title="3 个人分析"></a>3 个人分析</h2><p>从功能和操作习惯来看，国内各物联网平台都很相似，而阿里云平台的功能相对来说是比较完善的，中移动OneNET的操作习惯也与阿里云平台非常一致。</p><p>从云计算和实践经验的角度来看，阿里云也具有很大的先天优势，早在2009年就成立了阿里云团队做云计算，而且阿里云的企业用户比较多，华为云的客户基本集中在党政市场，不管是用户体量，还是业务复杂程度，还是场景的多样性上，党政市场跟企业级市场都有很大的差距。而且阿里云具有双十一这样一年一度的复杂业务场景来打磨实战经验，这是华为云难以拥有的实践机会。但随着现在5G时代的到来，华为在“5G+云+AI”方面也被更多的人所认可，这也是华为云的一个优势所在。</p><p>从2020年第一到第三季度所占市场份额来看，阿里云几乎占了一半：</p><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/TrXqbLO9Q6dw4an4wnWljobA_BvgzT8A.png" alt="国内三大云服务商所占市场份额第一季度"></p><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/vSQ71Iluu8VMPlsb_VVjXmQov5ZmBYzx.png" alt="国内三大云服务商所占市场份额第二季度"></p><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/uH3s92Moac9aNbT1DS8g6OuVydj1r_u4.png" alt="国内三大云服务商所占市场份额第三季度"></p><p>下面看看2020上半年中国工业云(平台)解决方案厂商市场份额：</p><p><img src="/%E9%98%BF%E9%87%8C%E4%BA%91%E5%8D%8E%E4%B8%BA%E4%BA%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/1608004834-6374-jq57TaADackia3FCOh5V66tjSH6w.png" alt="2020上半年中国工业云(平台)解决方案厂商市场份额"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;阿里云&quot;&gt;&lt;a href=&quot;#阿里云&quot; class=&quot;headerlink&quot; title=&quot;阿里云&quot;&gt;&lt;/a&gt;阿里云&lt;/h1&gt;&lt;h2 id=&quot;1-阿里云物联网平台&quot;&gt;&lt;a href=&quot;#1-阿里云物联网平台&quot; class=&quot;headerlink&quot; title=&quot;1</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="IoT" scheme="https://gentletk.gitee.io/tags/IoT/"/>
    
  </entry>
  
  <entry>
    <title>Typora使用</title>
    <link href="https://gentletk.gitee.io/Typora%E4%BD%BF%E7%94%A8/"/>
    <id>https://gentletk.gitee.io/Typora%E4%BD%BF%E7%94%A8/</id>
    <published>2021-05-20T00:57:24.000Z</published>
    <updated>2021-05-20T00:57:24.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-常用快捷键"><a href="#1-常用快捷键" class="headerlink" title="1 常用快捷键"></a>1 常用快捷键</h2><table><thead><tr><th>功能</th><th>快捷键</th></tr></thead><tbody><tr><td>无序列表</td><td>输入<code>-</code>，<code>+</code>后空格</td></tr><tr><td>有序列表</td><td>输入数字再输入<code>.</code>后空格</td></tr><tr><td>任务列表</td><td>- [空格]空格 任务描述</td></tr><tr><td>标题</td><td><kbd>Ctrl</kbd> + 数字</td></tr><tr><td>表格</td><td><kbd>Ctrl</kbd> + <kbd>t</kbd></td></tr><tr><td>目录</td><td>输入[TOC]后回车</td></tr><tr><td>引用</td><td>输入&gt;后空格</td></tr><tr><td>加粗</td><td><kbd>Ctrl</kbd> + <kbd>b</kbd></td></tr><tr><td>倾斜</td><td><kbd>Ctrl</kbd> + <kbd>i</kbd></td></tr><tr><td>下划线</td><td><kbd>Ctrl</kbd> + <kbd>u</kbd></td></tr></tbody></table><h2 id="2-Pandoc使用"><a href="#2-Pandoc使用" class="headerlink" title="2 Pandoc使用"></a>2 Pandoc使用</h2><p><a href="https://github.com/jgm/pandoc/releases">下载Pandoc</a></p><h2 id="3-Windows右键新建md文件"><a href="#3-Windows右键新建md文件" class="headerlink" title="3 Windows右键新建md文件"></a>3 Windows右键新建md文件</h2><h3 id="3-1-打开注册表"><a href="#3-1-打开注册表" class="headerlink" title="3.1 打开注册表"></a>3.1 打开注册表</h3><p>按<kbd>Win</kbd>+<kbd>R</kbd>打开运行对话框，输入 <code>rededit</code> 打开注册表。</p><h3 id="3-2-修改注册表"><a href="#3-2-修改注册表" class="headerlink" title="3.2 修改注册表"></a>3.2 修改注册表</h3><p>在计算机下选中 <code>HKEY_CLASSES_ROOT</code>，右键选择查找，输入 <code>Typora</code>，取消勾选值和数据。</p><p><img src="/Typora%E4%BD%BF%E7%94%A8/GK5QkbaT6eV2Elg.png" alt="GK5QkbaT6eV2Elg"></p><h3 id="3-3-新建注册表文件"><a href="#3-3-新建注册表文件" class="headerlink" title="3.3 新建注册表文件"></a>3.3 新建注册表文件</h3><p>新建一个 <code>newmd.reg</code> 文件，内容如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line">[HKEY_CLASSES_ROOT\.md]</span><br><span class="line">@=<span class="string">&quot;Typora.exe&quot;</span></span><br><span class="line">[HKEY_CLASSES_ROOT\.md\ShellNew]</span><br><span class="line"><span class="string">&quot;NullFile&quot;</span>=<span class="string">&quot;&quot;</span></span><br><span class="line">[HKEY_CLASSES_ROOT\Typora.exe]</span><br><span class="line">@=<span class="string">&quot;Markdown&quot;</span></span><br></pre></td></tr></table></figure><p>双击运行 <code>newmd.reg</code> 即可。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-常用快捷键&quot;&gt;&lt;a href=&quot;#1-常用快捷键&quot; class=&quot;headerlink&quot; title=&quot;1 常用快捷键&quot;&gt;&lt;/a&gt;1 常用快捷键&lt;/h2&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;功能&lt;/th&gt;
&lt;th&gt;快捷键&lt;/th&gt;
&lt;/tr&gt;
&lt;</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="Markdown" scheme="https://gentletk.gitee.io/tags/Markdown/"/>
    
    <category term="Typora" scheme="https://gentletk.gitee.io/tags/Typora/"/>
    
  </entry>
  
  <entry>
    <title>出差电子流应用实战</title>
    <link href="https://gentletk.gitee.io/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/"/>
    <id>https://gentletk.gitee.io/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/</id>
    <published>2021-05-17T05:14:30.000Z</published>
    <updated>2021-05-17T05:14:30.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>登陆应用开发环境，选择实战演练——出差电子流。（最好使用<a href="https://developer.e.huawei.com/homepage">华为平台</a>开发）</p></blockquote><h2 id="1-Codelabs应用配置化开发"><a href="#1-Codelabs应用配置化开发" class="headerlink" title="1. Codelabs应用配置化开发"></a>1. Codelabs应用配置化开发</h2><h3 id="1-1-注册并登陆"><a href="#1-1-注册并登陆" class="headerlink" title="1.1 注册并登陆"></a>1.1 注册并登陆</h3><table><thead><tr><th align="left">用户名</th><th align="left">密码</th></tr></thead><tbody><tr><td align="left">liyunliang</td><td align="left">Adt123456*</td></tr></tbody></table><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/RELFn8Acj6MIKGw.png" alt="注册账号"></p><h3 id="1-2-创建业务子账户-请先实名认证"><a href="#1-2-创建业务子账户-请先实名认证" class="headerlink" title="1.2 创建业务子账户(请先实名认证)"></a>1.2 创建业务子账户(请先实名认证)</h3><p>登录后，点击用户名进入个人中心， 选择子账号管理</p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/biEtg2dX8kBeLC4.png" alt="选择子账号管理"></p><p>点击新增</p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/ATapI8Clo6hLDz1.png" alt="新增子账号"></p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/CyfmQITxnD9Vgl6.png" alt="子账号列表"></p><h3 id="1-3-进入开发者中心"><a href="#1-3-进入开发者中心" class="headerlink" title="1.3 进入开发者中心"></a>1.3 进入开发者中心</h3><p><a href="https://onenet.besclouds.com/studio/index.html#/projects/">进入开发者平台</a></p><h3 id="1-4-创建工作流各角色人员队列"><a href="#1-4-创建工作流各角色人员队列" class="headerlink" title="1.4 创建工作流各角色人员队列"></a>1.4 创建工作流各角色人员队列</h3><p>点击管理，用户管理，工作队列</p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/wLmqRUCfprX75e2.png" alt="点击管理"></p><p>点击新建，设置队列基本信息、队列成员并保存</p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/ghLWcyIdAqiZpEG.png" alt="创建队列"></p><h3 id="1-5-配置系统参数"><a href="#1-5-配置系统参数" class="headerlink" title="1.5 配置系统参数"></a>1.5 配置系统参数</h3><p>点击设置，系统参数，内置系统参数<br>华为平台就修改sys_portal_url的值为<a href="https://studio.e.huawei.com/">https://studio.e.huawei.com</a></p><p>OneNET平台就修改sys_portal_url的值为<a href="https://onenet.besclouds.com/">https://onenet.besclouds.com</a></p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/awqy8bcsTfzEBKh.png" alt="修改系统内置参数"></p><h2 id="2-创建APP"><a href="#2-创建APP" class="headerlink" title="2. 创建APP"></a>2. 创建APP</h2><h3 id="2-1-基于Model创建BPM"><a href="#2-1-基于Model创建BPM" class="headerlink" title="2.1 基于Model创建BPM"></a>2.1 基于Model创建BPM</h3><h4 id="2-1-1-创建BPM"><a href="#2-1-1-创建BPM" class="headerlink" title="2.1.1 创建BPM"></a>2.1.1 创建BPM</h4><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/UjxnAc1ZPfFVpJy.png" alt="创建BPM"></p><h4 id="2-1-2-选择基于模板"><a href="#2-1-2-选择基于模板" class="headerlink" title="2.1.2 选择基于模板"></a>2.1.2 选择基于模板</h4><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/LaQY4O259VdwqtA.png" alt="选择基于模板"></p><h4 id="2-1-3-选择出差申请模板"><a href="#2-1-3-选择出差申请模板" class="headerlink" title="2.1.3 选择出差申请模板"></a>2.1.3 选择出差申请模板</h4><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/nUmpOo3SDT5ijQd.png" alt="选择出差申请模板"></p><h4 id="2-1-4-BPM界面说明"><a href="#2-1-4-BPM界面说明" class="headerlink" title="2.1.4 BPM界面说明"></a>2.1.4 BPM界面说明</h4><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/BPM%E7%95%8C%E9%9D%A2%E8%AF%B4%E6%98%8E.png" alt="BPM界面说明"></p><table><thead><tr><th>分类</th><th>功能说明</th></tr></thead><tbody><tr><td>按钮</td><td>功能按钮区域，包括操作回退、保存、另存为新版本或者新实例、激活(或者去激活)、运行、切换版本、锁定、解锁以及启用流跟踪器的操作。</td></tr><tr><td>面板</td><td>BPM的组成元素。<br>活动：BPM的核心元素，可理解为节点或步骤一个活动可以是流程中一个基本处理单元（如用户需要做的任务、调用脚本任务），也可以是一个组合单元（如嵌套的BPM子流程）。<br>事件：事件用来表明BPM的生命周期中发生的事件。事件总是画成一个圆圈。<br>网关：网关用来控制流程的执行流向，可理解为决策、判断。</td></tr><tr><td>画布</td><td>BPM设计操作区域。在该区域可对BPM进行具体流程设计、组件放置。<br>选中图元或者泳道按“Delete”可进行删除操作。<br>每种颜色为一种角色处理的泳道</td></tr></tbody></table><h3 id="2-2-调整BPM，配置各泳道处理人"><a href="#2-2-调整BPM，配置各泳道处理人" class="headerlink" title="2.2 调整BPM，配置各泳道处理人"></a>2.2 调整BPM，配置各泳道处理人</h3><h4 id="2-2-1-获取锁并配置工作队列"><a href="#2-2-1-获取锁并配置工作队列" class="headerlink" title="2.2.1 获取锁并配置工作队列"></a>2.2.1 获取锁并配置工作队列</h4><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E8%8E%B7%E5%8F%96%E9%94%81.png" alt="获取锁"></p><p>点击泳道Process Owner，配置工作队列为employee</p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E9%85%8D%E7%BD%AE%E5%B7%A5%E4%BD%9C%E9%98%9F%E5%88%97.png" alt="配置工作队列"></p><p>点击泳道Reviewer，配置工作队列为manager</p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E9%85%8D%E7%BD%AEreview.png" alt="配置review"></p><p>点击泳道Process Owner上的重新填写请求，设置任务标题为重新提交</p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E9%87%8D%E6%96%B0%E6%8F%90%E4%BA%A4.png" alt="重新提交"></p><p>点击泳道Reviewer上的申请审批，设置任务标题为主管审批</p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E7%94%B3%E8%AF%B7%E5%AE%A1%E6%89%B9.png" alt="申请审批"></p><p>依次点击保存，启用</p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E4%BF%9D%E5%AD%98%E5%B9%B6%E5%90%AF%E7%94%A8.png" alt="保存并启用"></p><h3 id="2-2-配置应用访问页面"><a href="#2-2-配置应用访问页面" class="headerlink" title="2.2 配置应用访问页面"></a>2.2 配置应用访问页面</h3><p>点击配置</p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E7%82%B9%E5%87%BB%E9%85%8D%E7%BD%AE.png" alt="点击配置"></p><p>导航条修改菜单并添加页签</p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E5%AF%BC%E8%88%AA%E6%9D%A1%E4%BF%AE%E6%94%B9%E8%8F%9C%E5%8D%95.png" alt="导航条修改菜单"></p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E6%B7%BB%E5%8A%A0%E9%A1%B5%E7%AD%BE.png" alt="添加页签"></p><h2 id="3-应用测试"><a href="#3-应用测试" class="headerlink" title="3. 应用测试"></a>3. 应用测试</h2><p>点击预览</p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E7%82%B9%E5%87%BB%E9%A2%84%E8%A7%88.png" alt="点击预览"></p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E9%A2%84%E8%A7%88%E6%95%88%E6%9E%9C.png" alt="出差电子流预览效果"></p><h3 id="3-1-填写出差申请"><a href="#3-1-填写出差申请" class="headerlink" title="3.1 填写出差申请"></a>3.1 填写出差申请</h3><p>点击我要出差，填写相关信息后，点击提交</p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E5%A1%AB%E5%86%99%E5%87%BA%E5%B7%AE%E8%AF%A6%E6%83%85.png" alt="填写出差详情"></p><p>点击提交后，查看主页会发现多了一个待办</p><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E6%8F%90%E4%BA%A4%E5%87%BA%E5%B7%AE.png" alt="提交出差"></p><h3 id="3-2-主管审批出差申请"><a href="#3-2-主管审批出差申请" class="headerlink" title="3.2 主管审批出差申请"></a>3.2 主管审批出差申请</h3><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E4%B8%BB%E7%AE%A1%E5%AE%A1%E6%89%B9.png" alt="主管审批"></p><h3 id="3-3-审批通过"><a href="#3-3-审批通过" class="headerlink" title="3.3 审批通过"></a>3.3 审批通过</h3><p><img src="/%E5%87%BA%E5%B7%AE%E7%94%B5%E5%AD%90%E6%B5%81%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98/%E5%AE%A1%E6%89%B9%E9%80%9A%E8%BF%87.png" alt="审批通过"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;登陆应用开发环境，选择实战演练——出差电子流。（最好使用&lt;a href=&quot;https://developer.e.huawei.com/homepage&quot;&gt;华为平台&lt;/a&gt;开发）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;1-Codela</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="IoT" scheme="https://gentletk.gitee.io/tags/IoT/"/>
    
  </entry>
  
  <entry>
    <title>AnyCAD使用</title>
    <link href="https://gentletk.gitee.io/AnyCAD%E4%BD%BF%E7%94%A8/"/>
    <id>https://gentletk.gitee.io/AnyCAD%E4%BD%BF%E7%94%A8/</id>
    <published>2021-05-17T05:14:27.000Z</published>
    <updated>2021-05-17T05:14:27.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><code>C#</code> + <code>AnyCAD</code> 实现画点、线、圆及三维模型展示。</p></blockquote><h3 id="一-anycad-net-sdk-2020-09-30"><a href="#一-anycad-net-sdk-2020-09-30" class="headerlink" title="(一) anycad.net.sdk.2020.09.30"></a>(一) anycad.net.sdk.2020.09.30</h3><h4 id="1-1-准备引用"><a href="#1-1-准备引用" class="headerlink" title="1.1 准备引用"></a>1.1 准备引用</h4><p>去<a href="http://www.anycad.net/">AnyCAD官网</a>下载 <code>.net SDK</code>包，解压后复制所有bin文件夹下的dll文件到项目对应目录。</p><p>这里以 <code>x64CPU</code> 的 <code>Release</code> 版本为例。</p><p><img src="/AnyCAD%E4%BD%BF%E7%94%A8/dO5GFEov2P6AWIl.png" alt="dO5GFEov2P6AWIl"></p><h4 id="1-2-添加引用"><a href="#1-2-添加引用" class="headerlink" title="1.2 添加引用"></a>1.2 添加引用</h4><p>在解决方案资源管理器选中引用，单击右键添加引用，将 <code>AnyCAD.Exchange.Net</code>、<code>AnyCAD.Foundation.Net</code>、<code>AnyCAD.Presentation.Net</code> 这三个主要的添加进来。</p><p><img src="/AnyCAD%E4%BD%BF%E7%94%A8/oP3xtYrGmRXasKi.png" alt="oP3xtYrGmRXasKi"></p><h4 id="1-3-界面设计"><a href="#1-3-界面设计" class="headerlink" title="1.3 界面设计"></a>1.3 界面设计</h4><p>界面设计暂时包含一个菜单栏和一个 <code>3D</code> 显示面板，菜单栏提供 <code>STEP</code>、<code>STL</code> 等 <code>3D</code> 模型文件的加载，模型显示、画点、线、圆的测试以及图形清除功能：</p><p><img src="/AnyCAD%E4%BD%BF%E7%94%A8/vr8D3qEV9SHWmgZ.png" alt="vr8D3qEV9SHWmgZ"></p><h4 id="1-4-效果预览"><a href="#1-4-效果预览" class="headerlink" title="1.4 效果预览"></a>1.4 效果预览</h4><p>先看看运行效果预览：</p><p><img src="/AnyCAD%E4%BD%BF%E7%94%A8/13Zdf9zsgFhjcyi.png" alt="13Zdf9zsgFhjcyi"></p><p>尝试导入一个 <code>STEP</code> 文件：</p><p><img src="/AnyCAD%E4%BD%BF%E7%94%A8/AOj28CSxFZs9ywo.png" alt="AOj28CSxFZs9ywo"></p><h4 id="1-5-三轴刀具轨迹"><a href="#1-5-三轴刀具轨迹" class="headerlink" title="1.5 三轴刀具轨迹"></a>1.5 三轴刀具轨迹</h4><p><img src="/AnyCAD%E4%BD%BF%E7%94%A8/QualgLJE2OfKR4G.gif" alt="QualgLJE2OfKR4G"></p><h3 id="二-anycad-rapid-net-sample"><a href="#二-anycad-rapid-net-sample" class="headerlink" title="(二) anycad.rapid.net.sample"></a>(二) anycad.rapid.net.sample</h3><h4 id="2-1-下载vc-redist"><a href="#2-1-下载vc-redist" class="headerlink" title="2.1 下载vc_redist"></a>2.1 下载vc_redist</h4><p>在 <code>Windows</code>下，<code>AnyCAD Rapid</code> 使用基于 <code>VC++</code> 编译，运行时候依赖 <code>Vistual C++</code> 运行时库。因此，<code>64</code>位版本需要在客户机上安装<code>VC_Redist/x64/VC_redist.x64.exe</code>，<code>32</code> 位版本需要安装 <code>VC_Redist/x86/VC_redist.x86.exe</code>。</p><h4 id="2-2-使用nuget添加程序集引用"><a href="#2-2-使用nuget添加程序集引用" class="headerlink" title="2.2 使用nuget添加程序集引用"></a>2.2 使用nuget添加程序集引用</h4><p><a href="https://www.nuget.org/packages/AnyCAD.Rapid.Net/">官网下载最新nuget</a>（<code>AnyCAD.Rapid.Net.2020.10.27.nupkg</code>）。</p><p><code>Visual Studio 2013</code> 中点击工具 -&gt; <code>NuGet</code>程序包管理器 -&gt; 程序包管理器设置：</p><p><img src="/AnyCAD%E4%BD%BF%E7%94%A8/D9sxPKNbaZQneHv.png" alt="D9sxPKNbaZQneHv"></p><p>编辑程序包源</p><p>名称：<code>nuget</code><br>源：包含 <code>nupkg</code> 的本地路径</p><p>点击更新后，确定</p><p><code>Visual Studio 2013</code> 中点击工具 -&gt; <code>NuGet</code>程序包管理器 -&gt; 管理解决方案的<code>NuGet</code>程序包</p><p>在联机栏点击<code>nuget</code>，安装 <code>AnyCAD.Rapid.Net</code>，安装完成后如下图所示：</p><p><img src="/AnyCAD%E4%BD%BF%E7%94%A8/B7J1kIVKNaSUW8u.png" alt="B7J1kIVKNaSUW8u"></p><h4 id="2-3-设置工程项目属性"><a href="#2-3-设置工程项目属性" class="headerlink" title="2.3 设置工程项目属性"></a>2.3 设置工程项目属性</h4><p>为满足三维应用程序的高性能要求，建议设置项目首选 <code>64</code> 位环境，即禁用首选 <code>32</code> 位选项，如下图所示：</p><p><img src="/AnyCAD%E4%BD%BF%E7%94%A8/iH1mMKTjaoFXrCe.png" alt="iH1mMKTjaoFXrCe"></p><h4 id="2-4-SDK初始化"><a href="#2-4-SDK初始化" class="headerlink" title="2.4 SDK初始化"></a>2.4 SDK初始化</h4><p>在窗体设计中添加一个 <code>panel</code> 容器用来显示三维内容，只要在窗体的构造函数后添加几行代码就可以将三维控件添加到窗体容器中。</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">FormMain</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    InitializeComponent();</span><br><span class="line">    <span class="comment">// 初始化, 指定三维控件的容器</span></span><br><span class="line">    <span class="keyword">this</span>.renderView = <span class="keyword">new</span> RenderControl();</span><br><span class="line">    <span class="keyword">this</span>.renderView.TabIndex = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">this</span>.panel1.Controls.Add(<span class="keyword">this</span>.renderView);</span><br><span class="line">    <span class="keyword">this</span>.renderView.Dock = DockStyle.Fill;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>三维界面渲染效果：</p><p><img src="/AnyCAD%E4%BD%BF%E7%94%A8/5eW9blyVoKrcZx1.png" alt="5eW9blyVoKrcZx1"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;C#&lt;/code&gt; + &lt;code&gt;AnyCAD&lt;/code&gt; 实现画点、线、圆及三维模型展示。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;一-anycad-net-sdk-2020-09-30&quot;&gt;&lt;a href=&quot;#一-an</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="AnyCAD" scheme="https://gentletk.gitee.io/tags/AnyCAD/"/>
    
  </entry>
  
  <entry>
    <title>MQTT介绍</title>
    <link href="https://gentletk.gitee.io/MQTT%E4%BB%8B%E7%BB%8D/"/>
    <id>https://gentletk.gitee.io/MQTT%E4%BB%8B%E7%BB%8D/</id>
    <published>2021-04-01T09:35:36.000Z</published>
    <updated>2021-04-01T09:35:36.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-MQTT定义"><a href="#1-MQTT定义" class="headerlink" title="1 MQTT定义"></a>1 MQTT定义</h2><p>MQTT（Message Queuing Telemetry Transport，消息队列遥测传输协议），是一个基于<strong>发布/订阅式</strong>的通讯协议。它的固定头部只有2字节，开销很小，具有轻量、简单、开放和易于实现的特点，这些特点使得它应用广泛，它的最大优点是，只需占用极少的带宽即可为远程设备的连接提供可靠的实时消息服务，用户还可以使用预留标志位，按照自己的系统需求进行扩展。</p><p>下面是一个简单的MQTT系统模型：</p><p><img src="/MQTT%E4%BB%8B%E7%BB%8D/AUdtpuG5LBVJDFk.png" alt="AUdtpuG5LBVJDFk"></p><h2 id="2-MQTT原理"><a href="#2-MQTT原理" class="headerlink" title="2 MQTT原理"></a>2 MQTT原理</h2><h3 id="2-1-组成部分"><a href="#2-1-组成部分" class="headerlink" title="2.1 组成部分"></a>2.1 组成部分</h3><p>可以将MQTT拆分为服务端和客户端两部分来理解：</p><ol><li><p><strong>服务端</strong><br> 负责处理客户端的请求以及消息推送。</p></li><li><p><strong>客户端</strong><br> 在与服务器建立连接后，可以主动发布消息或订阅主题。</p></li></ol><h3 id="2-2-消息推送"><a href="#2-2-消息推送" class="headerlink" title="2.2 消息推送"></a>2.2 消息推送</h3><ol><li><strong>订阅主题</strong></li></ol><p>当客户端订阅了某个主题，且该主题有更新时，才会收到消息推送。</p><ol start="2"><li><strong>发布主题</strong></li></ol><p>当客户端发布了某个主题，所有订阅该主题的客户端，在该主题更新时，都会收到推送。</p><h3 id="2-3-服务质量"><a href="#2-3-服务质量" class="headerlink" title="2.3 服务质量"></a>2.3 服务质量</h3><p>MQTT有三种消息服务质量，可根据不同应用场景选择对应的服务质量，确保消息推送符合要求。</p><ul><li><strong>Qos0：最多一次</strong></li><li><strong>Qos1：最少一次</strong></li><li><strong>Qos2：只有一次</strong></li></ul><h2 id="3-MQTT协议格式"><a href="#3-MQTT协议格式" class="headerlink" title="3 MQTT协议格式"></a>3 MQTT协议格式</h2><p>MQTT数据包结构：固定头部+可变头部+有效载荷。</p><p>下面以<a href="https://open.iot.10086.cn/">OneNET</a>的MQTT协议接入为例说明：</p><h3 id="3-1-固定头部"><a href="#3-1-固定头部" class="headerlink" title="3.1 固定头部"></a>3.1 固定头部</h3><p>固定头部存在于所有MQTT数据包中，表示数据包类型。</p><p>固定头部格式如下所示：</p><table border="1" cellspacing="0" width="100%" cellpadding="2" style="text-align: center;">    <caption>MQTT固定头部格式</caption>    <thead>        <tr>            <th>Bit</th>            <th>7</th>            <th>6</th>            <th>5</th>            <th>4</th>            <th>3</th>            <th>2</th>            <th>1</th>            <th>0</th>        </tr>    </thead>    <tbody>        <tr>            <td>Byte 1</td>            <td colspan="4">MQTT Packet Type</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>0</td>            </tr>            <tr>            <td>Byte 2-5</td>            <td colspan="8">Remaining Length（该字段占用1~4字节）</td>        </tr>    </tbody></table><p>其中Remaining Length是 剩余长度 ，表示后面还剩多少字节的数据，而剩余长度最大可占用4字节(剩余长度采用的128进制，所以理论上MQTT能发送的最大报文为2<sup>28</sup>=256M，但云平台往往会限制MQTT单个发布消息的最大长度，比如阿里云超过256KB的消息会被拒绝)。</p><h3 id="3-2-可变头部"><a href="#3-2-可变头部" class="headerlink" title="3.2 可变头部"></a>3.2 可变头部</h3><p>可变头部只存在于部分MQTT数据包中，是否有可变头部由固定头部的数据包类型决定。</p><p>下面以MQTT连接消息数据包的可变头部为例：</p><table border="1" cellspacing="0" width="100%" cellpadding="2" style="text-align: center;">    <caption>MQTT可变头部格式</caption>    <thead>        <tr>            <th>Bytes\Bit</th>            <th>描述</th>            <th>7</th>            <th>6</th>            <th>5</th>            <th>4</th>            <th>3</th>            <th>2</th>            <th>1</th>            <th>0</th>        </tr>    </thead>    <tbody>        <tr>            <td rowspan="2">Byte 1-2</td>            <td rowspan="2">协议名<br>长度</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>0</td>        </tr>        <tr>            <td>0</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>1</td>            <td>0</td>            <td>0</td>        </tr>        <tr>            <td>Byte 3</td>            <td>'M'</td>            <td>0</td>            <td>1</td>            <td>0</td>            <td>0</td>            <td>1</td>            <td>1</td>            <td>0</td>            <td>1</td>        </tr>        <tr>            <td>Byte 4</td>            <td>'Q'</td>            <td>0</td>            <td>1</td>            <td>0</td>            <td>1</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>1</td>        </tr>        <tr>            <td>Byte 5</td>            <td>'T'</td>            <td>0</td>            <td>1</td>            <td>0</td>            <td>1</td>            <td>0</td>            <td>1</td>            <td>0</td>            <td>0</td>        </tr>        <tr>            <td>Byte 6</td>            <td>'T'</td>            <td>0</td>            <td>1</td>            <td>0</td>            <td>1</td>            <td>0</td>            <td>1</td>            <td>0</td>            <td>0</td>        </tr>        <tr>            <td>Byte 7</td>            <td>协议版本</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>1</td>            <td>0</td>            <td>0</td>        </tr>        <tr>            <td rowspan="2">Byte 8</td>            <td rowspan="2">连接标志</td>            <td>User</td>            <td>Password</td>            <td>Will<br>Retain</td>            <td colspan="2">WillQos</td>            <td>Will</td>            <td>Clean<br>Session</td>            <td>Reserve</td>        </tr>        <tr>            <td>1</td>            <td>1</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>1</td>            <td>0</td>            <td>0</td>        </tr>        <tr>            <td rowspan="2">Byte 9-10</td>            <td rowspan="2">保活时间<br>300s</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>0</td>            <td>1</td>        </tr>        <tr>            <td>0</td>            <td>0</td>            <td>1</td>            <td>0</td>            <td>1</td>            <td>1</td>            <td>0</td>            <td>0</td>        </tr>    </tbody></table><h3 id="3-3-有效载荷"><a href="#3-3-有效载荷" class="headerlink" title="3.3 有效载荷"></a>3.3 有效载荷</h3><p>有效载荷也叫消息体，存在于部分MQTT数据包中，是否存在由MQTT数据包类型决定。</p><p>下面以MQTT连接消息数据包的有效载荷为例：</p><table border="1" cellspacing="0" width="100%" cellpadding="2" style="text-align: center;">    <caption>MQTT有效载荷格式</caption>    <thead>        <tr>            <th>Bytes</th>            <th>描述</th>            <th>格式</th>        </tr>    </thead>    <tbody>        <tr>            <td>Byte 1</td>            <td>设备ID（ClientIdentifier）</td>            <td>2字节字符串长度<br>+字符串"ClientIdentifier"</td>        </tr>        <tr>            <td>Byte 2</td>            <td>产品ID（UserName）</td>            <td>2字节字符串长度<br>+字符串"UserName"</td>        </tr>        <tr>            <td>Byte 3</td>            <td>鉴权信息（UserPassword）</td>            <td>2字节字符串长度<br>+字符串"UserPassword"</td>        </tr>    </tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-MQTT定义&quot;&gt;&lt;a href=&quot;#1-MQTT定义&quot; class=&quot;headerlink&quot; title=&quot;1 MQTT定义&quot;&gt;&lt;/a&gt;1 MQTT定义&lt;/h2&gt;&lt;p&gt;MQTT（Message Queuing Telemetry Transport，消息队列遥</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="MQTT" scheme="https://gentletk.gitee.io/tags/MQTT/"/>
    
    <category term="IoT" scheme="https://gentletk.gitee.io/tags/IoT/"/>
    
  </entry>
  
  <entry>
    <title>博达工业云与阿里云对比</title>
    <link href="https://gentletk.gitee.io/%E5%8D%9A%E8%BE%BE%E5%B7%A5%E4%B8%9A%E4%BA%91%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E6%AF%94/"/>
    <id>https://gentletk.gitee.io/%E5%8D%9A%E8%BE%BE%E5%B7%A5%E4%B8%9A%E4%BA%91%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E6%AF%94/</id>
    <published>2021-03-31T08:37:24.000Z</published>
    <updated>2021-03-31T08:37:24.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-博达工业云"><a href="#1-博达工业云" class="headerlink" title="1. 博达工业云"></a>1. 博达工业云</h2><h3 id="1-1-平台概况"><a href="#1-1-平台概况" class="headerlink" title="1.1 平台概况"></a>1.1 平台概况</h3><p><img src="/%E5%8D%9A%E8%BE%BE%E5%B7%A5%E4%B8%9A%E4%BA%91%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E6%AF%94/%E5%B9%B3%E5%8F%B0%E6%A6%82%E5%86%B5.png" alt="平台概况"></p><h3 id="1-2-监控大屏"><a href="#1-2-监控大屏" class="headerlink" title="1.2 监控大屏"></a>1.2 监控大屏</h3><p><img src="/%E5%8D%9A%E8%BE%BE%E5%B7%A5%E4%B8%9A%E4%BA%91%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E6%AF%94/%E7%9B%91%E6%8E%A7%E5%A4%A7%E5%B1%8F.png" alt="监控大屏"></p><h3 id="1-3-云组态"><a href="#1-3-云组态" class="headerlink" title="1.3 云组态"></a>1.3 云组态</h3><p><img src="/%E5%8D%9A%E8%BE%BE%E5%B7%A5%E4%B8%9A%E4%BA%91%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E6%AF%94/%E4%BA%91%E7%BB%84%E6%80%81.png" alt="云组态"></p><h3 id="1-4-设备监测"><a href="#1-4-设备监测" class="headerlink" title="1.4  设备监测"></a>1.4  设备监测</h3><p><img src="https://gentletk.oss-cn-shenzhen.aliyuncs.com/image-20220730110123738.png" alt="image-20220730110123738"></p><h3 id="1-5-报警中心"><a href="#1-5-报警中心" class="headerlink" title="1.5 报警中心"></a>1.5 报警中心</h3><p><img src="/%E5%8D%9A%E8%BE%BE%E5%B7%A5%E4%B8%9A%E4%BA%91%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E6%AF%94/%E6%8A%A5%E8%AD%A6%E4%B8%AD%E5%BF%83.png" alt="报警中心"></p><h3 id="1-6-数据中心"><a href="#1-6-数据中心" class="headerlink" title="1.6 数据中心"></a>1.6 数据中心</h3><p><img src="/%E5%8D%9A%E8%BE%BE%E5%B7%A5%E4%B8%9A%E4%BA%91%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E6%AF%94/%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83.png" alt="数据中心"></p><h3 id="1-7-项目管理"><a href="#1-7-项目管理" class="headerlink" title="1.7 项目管理"></a>1.7 项目管理</h3><p><img src="/%E5%8D%9A%E8%BE%BE%E5%B7%A5%E4%B8%9A%E4%BA%91%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E6%AF%94/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86.png" alt="项目管理"></p><h3 id="1-8-设备管理"><a href="#1-8-设备管理" class="headerlink" title="1.8 设备管理"></a>1.8 设备管理</h3><p><img src="/%E5%8D%9A%E8%BE%BE%E5%B7%A5%E4%B8%9A%E4%BA%91%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E6%AF%94/%E8%AE%BE%E5%A4%87%E7%AE%A1%E7%90%86.png" alt="设备管理"></p><h3 id="1-9-OTA管理"><a href="#1-9-OTA管理" class="headerlink" title="1.9 OTA管理"></a>1.9 OTA管理</h3><p><img src="/%E5%8D%9A%E8%BE%BE%E5%B7%A5%E4%B8%9A%E4%BA%91%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E6%AF%94/OTA%E7%AE%A1%E7%90%86.png" alt="OTA管理"></p><h3 id="1-10-视频监控"><a href="#1-10-视频监控" class="headerlink" title="1.10 视频监控"></a>1.10 视频监控</h3><p><img src="/%E5%8D%9A%E8%BE%BE%E5%B7%A5%E4%B8%9A%E4%BA%91%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E6%AF%94/%E8%A7%86%E9%A2%91%E7%9B%91%E6%8E%A7.png" alt="视频监控"></p><h3 id="1-11-用户中心"><a href="#1-11-用户中心" class="headerlink" title="1.11 用户中心"></a>1.11 用户中心</h3><p><img src="/%E5%8D%9A%E8%BE%BE%E5%B7%A5%E4%B8%9A%E4%BA%91%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E6%AF%94/%E7%94%A8%E6%88%B7%E4%B8%AD%E5%BF%83.png" alt="用户中心"></p><h2 id="2-阿里云"><a href="#2-阿里云" class="headerlink" title="2. 阿里云"></a>2. 阿里云</h2><h3 id="2-1-温室监控大屏"><a href="#2-1-温室监控大屏" class="headerlink" title="2.1 温室监控大屏"></a>2.1 温室监控大屏</h3><p><img src="/%E5%8D%9A%E8%BE%BE%E5%B7%A5%E4%B8%9A%E4%BA%91%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E6%AF%94/%E6%B8%A9%E5%AE%A4%E7%9B%91%E6%8E%A7%E5%A4%A7%E5%B1%8F.png" alt="温室监控大屏"></p><h3 id="2-2-树莓派搭建机房监控应用"><a href="#2-2-树莓派搭建机房监控应用" class="headerlink" title="2.2 树莓派搭建机房监控应用"></a>2.2 树莓派搭建机房监控应用</h3><p><img src="/%E5%8D%9A%E8%BE%BE%E5%B7%A5%E4%B8%9A%E4%BA%91%E4%B8%8E%E9%98%BF%E9%87%8C%E4%BA%91%E5%AF%B9%E6%AF%94/%E6%A0%91%E8%8E%93%E6%B4%BE%E6%90%AD%E5%BB%BA%E6%9C%BA%E6%88%BF%E7%9B%91%E6%8E%A7%E5%BA%94%E7%94%A8.png" alt="树莓派搭建机房监控应用"></p><h2 id="3-对比与分析"><a href="#3-对比与分析" class="headerlink" title="3. 对比与分析"></a>3. 对比与分析</h2><h3 id="3-1-关于应用开发"><a href="#3-1-关于应用开发" class="headerlink" title="3.1 关于应用开发"></a>3.1 关于应用开发</h3><p>博达工业云与阿里云都提供web可视化开发，都需要将组件绑定对应的数据流。</p><p>阿里云提供移动可视化开发，支持生成HTML5应用并绑定域名发布，但部分手机存在兼容性问题。</p><p>博达工业云提供微信公众号、Android/IOS APP，需要了解博达的APP开发方式。</p><p>阿里云提供个人组件开发，博达工业云可能需要开放相关接口才能进行个人组件开发。</p><h3 id="3-2-关于设备接入"><a href="#3-2-关于设备接入" class="headerlink" title="3.2 关于设备接入"></a>3.2 关于设备接入</h3><p>阿里云物联网平台目前支持MQTT、CoAP、HTTP接入，如果要使用modbus，需要使用边缘计算平台并创建对应实例。</p><p>目前还不了解博达工业云的设备接入方式，是否必须使用物联网硬件？是否提供设备接入相关API？</p><h3 id="3-3-关于设备安全认证"><a href="#3-3-关于设备安全认证" class="headerlink" title="3.3 关于设备安全认证"></a>3.3 关于设备安全认证</h3><p>阿里云提供IoT设备身份认证ID²（Internet Device ID）。</p><p>ID²是一种物联网设备的可信身份标识，具备不可篡改、不可伪造、全球唯一的安全属性。</p><p>目前还不了解博达工业云的设备安全认证方面的功能，是否能实现设备自注册，以及由平台来自动分配设备ID，保证设备ID唯一。</p><p>关于设备安全认证，最好是能烧录到设备的一个固定地址，设置为只读。</p><h3 id="3-4-关于角色管理"><a href="#3-4-关于角色管理" class="headerlink" title="3.4 关于角色管理"></a>3.4 关于角色管理</h3><p>博达工业云提供详细的角色权限管理，包含平台概况、监控大屏、云组态、在线监测等等。</p><p>阿里云需要开通账号功能才可以进行权限管理，目前暂不了解其是否具有更详细的权限管理功能。</p><h3 id="3-5-关于网站应用"><a href="#3-5-关于网站应用" class="headerlink" title="3.5 关于网站应用"></a>3.5 关于网站应用</h3><p>阿里云为个人开发者和企业用户提供了物联网应用开发以及后台项目管理，界面具有普适性。</p><p>博达工业云提供私有化部署，界面可定制。</p><p>考虑到数据的可迁移性，最好是能采用类似博达的后台前端管理方案，当需要更换服务器时，能更好地迁移网站数据。</p><h3 id="3-6-关于云平台选择及兼容性"><a href="#3-6-关于云平台选择及兼容性" class="headerlink" title="3.6 关于云平台选择及兼容性"></a>3.6 关于云平台选择及兼容性</h3><p>目前云平台众多，虽然数据传输方面采用的协议都大同小异，但是在接入平台时，各家云平台是互不兼容的，这是由于各家云平台服务器地址不同、设备认证方式不同。</p><p>而如果要使用某一家云平台自带的可视化开发时，那么必须先创建对应的产品，设备接入方面也必须要与这家云平台做适配。</p><h3 id="3-7-关于边缘计算"><a href="#3-7-关于边缘计算" class="headerlink" title="3.7 关于边缘计算"></a>3.7 关于边缘计算</h3><p>博达暂不支持边缘计算。</p><p>阿里云提供边缘计算服务。</p><h3 id="3-8-关于文件管理"><a href="#3-8-关于文件管理" class="headerlink" title="3.8 关于文件管理"></a>3.8 关于文件管理</h3><p>博达不支持文件传输，OTA固件升级仅针对智能网关。</p><p>阿里云支持文件传输，一个账号下的总容量上限为1G。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-博达工业云&quot;&gt;&lt;a href=&quot;#1-博达工业云&quot; class=&quot;headerlink&quot; title=&quot;1. 博达工业云&quot;&gt;&lt;/a&gt;1. 博达工业云&lt;/h2&gt;&lt;h3 id=&quot;1-1-平台概况&quot;&gt;&lt;a href=&quot;#1-1-平台概况&quot; class=&quot;header</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="IoT" scheme="https://gentletk.gitee.io/tags/IoT/"/>
    
  </entry>
  
  <entry>
    <title>移动云物联网预研及阿里云开发对比分析</title>
    <link href="https://gentletk.gitee.io/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/"/>
    <id>https://gentletk.gitee.io/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/</id>
    <published>2021-03-30T02:57:18.000Z</published>
    <updated>2021-03-30T02:57:18.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-移动云物联网预研总体架构"><a href="#1-移动云物联网预研总体架构" class="headerlink" title="1 移动云物联网预研总体架构"></a>1 移动云物联网预研总体架构</h2><p>本方案采用Layui作为前端框架，选用了华为云耀云服务器存储网站应用，用户可通过访问公网IP的方式浏览网站，网站页面根据用户选择的功能定时与OneNET云端进行数据交互。</p><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/layui%E7%BD%91%E9%A1%B5%E5%BC%80%E5%8F%91.png" alt="layui网页开发"></p><h2 id="2-移动云物联网预研项目过程"><a href="#2-移动云物联网预研项目过程" class="headerlink" title="2 移动云物联网预研项目过程"></a>2 移动云物联网预研项目过程</h2><h3 id="2-1-网站应用部分——华为云服务器"><a href="#2-1-网站应用部分——华为云服务器" class="headerlink" title="2.1 网站应用部分——华为云服务器"></a>2.1 网站应用部分——华为云服务器</h3><ol><li>购买华为云耀云服务器</li></ol><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E5%8D%8E%E4%B8%BA%E4%BA%91%E8%80%80%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AF%95%E7%94%A8.png" alt="华为云耀云服务器"></p><ol start="2"><li><a href="http://www.layui.com/">获取Layui</a></li></ol><p>**layui(谐音: 类UI)**是一款采用自身模块规范编写的前端 UI 框架，遵循原生 HTML/CSS/JS 的书写与组织形式，门槛极低，拿来即用。</p><p><a href="http://www.layui.com/">官网首页</a></p><p><a href="https://github.com/sentsin/layui/">Github</a></p><p><a href="https://gitee.com/sentsin/layui">Gitee</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># npm安装一般用于WebPack管理</span></span><br><span class="line">npm -i layui-src</span><br></pre></td></tr></table></figure><ol start="3"><li>设计网页结构</li></ol><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%AE%BE%E5%A4%87%E5%88%97%E8%A1%A8%E8%AE%BE%E8%AE%A1.png" alt="机器人设备列表设计"></p><h3 id="2-2-数据存储部分——OneNET移动云"><a href="#2-2-数据存储部分——OneNET移动云" class="headerlink" title="2.2 数据存储部分——OneNET移动云"></a>2.2 数据存储部分——OneNET移动云</h3><p>数据存储部分采用中国移动物联网开放平台——OneNET。</p><p>资源模型如下所示：</p><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E8%B5%84%E6%BA%90%E6%A8%A1%E5%9E%8B.png" alt="资源模型"></p><ul><li><p><strong>产品(product)</strong></p><p>  用户的最大资源集为产品，产品下资源包括设备、设备数据、设备权限、数据触发服务以及基于设备数据的应用等多种资源，用户可以创建多个产品。</p></li><li><p><strong>设备(device)</strong></p><p>  设备为真实终端在平台的映射，真实终端连接平台时，需要与平台设备建立一一对应关系，终端上传的数据被存储在数据流中，设备可以拥有一个或者多个数据流。</p></li><li><p><strong>数据流与数据点</strong></p><p>  数据流用于存储设备的某一类属性数据，例如温度，湿度，坐标等信息；平台要求设备上传并存储数据时，必须以key-value的格式上传数据，其中key即为数据流名称，value为实际存储的数据点，value格式可以为int、float、string、json等多种自定义格式。</p></li><li><p><strong>APIkey</strong></p><p>  APIkey为用户进行API调用时的密钥，用户访问产品资源时，必须使用该产品目录下对应的APIkey。</p></li><li><p><strong>触发器(trigger)</strong></p><p>  触发器为产品目录下的消息服务，可以进行基于数据流的简单逻辑判断并触发HTTP请求或者邮件。</p></li><li><p><strong>应用(application)</strong></p><p>  应用编辑服务，支持用户以拖拽控件并关联设备数据流的方式，生成简易网页展示应用。</p></li></ul><h3 id="2-3-设备接入部分——AMC1600E-QC410"><a href="#2-3-设备接入部分——AMC1600E-QC410" class="headerlink" title="2.3 设备接入部分——AMC1600E/QC410"></a>2.3 设备接入部分——AMC1600E/QC410</h3><p>基于OneNET平台的开发流程如下所示：</p><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E7%A7%BB%E5%8A%A8%E4%BA%91%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B.png" alt="移动云开发流程"></p><p>基于mqtt协议的设备端接入流程如下所示：</p><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/mqtt%E6%8E%A5%E5%85%A5%E6%B5%81%E7%A8%8B.png" alt="mqtt接入流程"></p><h2 id="3-移动云物联网预研项目成果"><a href="#3-移动云物联网预研项目成果" class="headerlink" title="3 移动云物联网预研项目成果"></a>3 移动云物联网预研项目成果</h2><h3 id="3-1-机器人设备列表页面"><a href="#3-1-机器人设备列表页面" class="headerlink" title="3.1 机器人设备列表页面"></a>3.1 机器人设备列表页面</h3><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%AE%BE%E5%A4%87%E5%88%97%E8%A1%A8.png" alt="机器人设备列表"></p><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%AE%BE%E5%A4%87%E5%9C%A8%E7%BA%BF.png" alt="机器人设备在线"></p><h3 id="3-2-机器人设备详情页面"><a href="#3-2-机器人设备详情页面" class="headerlink" title="3.2 机器人设备详情页面"></a>3.2 机器人设备详情页面</h3><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%AE%BE%E5%A4%87%E8%AF%A6%E6%83%85.png" alt="机器人设备详情"></p><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%AE%BE%E5%A4%87%E8%AF%A6%E6%83%85%E5%9C%A8%E7%BA%BF.png" alt="机器人设备详情在线"></p><h3 id="3-3-机器人数据流页面"><a href="#3-3-机器人数据流页面" class="headerlink" title="3.3 机器人数据流页面"></a>3.3 机器人数据流页面</h3><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E6%9C%BA%E5%99%A8%E4%BA%BA%E6%95%B0%E6%8D%AE%E6%B5%81.png" alt="机器人数据流"></p><h3 id="3-4-机器人下发命令页面"><a href="#3-4-机器人下发命令页面" class="headerlink" title="3.4 机器人下发命令页面"></a>3.4 机器人下发命令页面</h3><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E6%9C%BA%E5%99%A8%E4%BA%BA%E4%B8%8B%E5%8F%91%E5%91%BD%E4%BB%A4.png" alt="机器人下发命令"></p><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E8%AE%BE%E5%A4%87%E5%B7%B2%E5%93%8D%E5%BA%94.png" alt="设备已响应"></p><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E5%91%BD%E4%BB%A4%E5%B7%B2%E4%BB%A5%E4%B8%8B%E5%8F%91.png" alt="命令已以下发"></p><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E8%AE%BE%E5%A4%87%E5%B7%B2%E7%A6%BB%E7%BA%BF(layui).png" alt="设备已离线"></p><h3 id="3-5-设备历史数据导出页面"><a href="#3-5-设备历史数据导出页面" class="headerlink" title="3.5 设备历史数据导出页面"></a>3.5 设备历史数据导出页面</h3><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E6%9C%BA%E5%99%A8%E4%BA%BA%E6%95%B0%E6%8D%AE%E6%B5%81%E5%88%97%E8%A1%A8.png" alt="机器人数据流列表"></p><p><img src="/%E7%A7%BB%E5%8A%A8%E4%BA%91%E7%89%A9%E8%81%94%E7%BD%91%E9%A2%84%E7%A0%94%E5%8F%8A%E9%98%BF%E9%87%8C%E4%BA%91%E5%BC%80%E5%8F%91%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/%E6%9C%BA%E5%99%A8%E4%BA%BA%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA.png" alt="机器人数据导出"></p><h2 id="4-移动云与阿里云对比分析"><a href="#4-移动云与阿里云对比分析" class="headerlink" title="4 移动云与阿里云对比分析"></a>4 移动云与阿里云对比分析</h2><p>下面是阿里云和移动云的平台组成部分：</p><table><thead><tr><th>组件项</th><th>阿里云</th><th>中移动</th></tr></thead><tbody><tr><td>小程序平台</td><td>支付宝、淘宝、天猫等全家桶</td><td>无</td></tr><tr><td>物联网应用平台</td><td>IoT Studio<br>飞燕智能家庭<br>飞凤物联平台<br>飞象工业互联</td><td>应用定制</td></tr><tr><td>数据接入平台</td><td>物联网开发平台</td><td>OneNET物联平台</td></tr><tr><td>嵌入式OS</td><td>AliOS Things</td><td>OneOS</td></tr><tr><td>边缘计算</td><td>边缘计算系统<br>边缘一体机</td><td>OneEdge5G边缘计算</td></tr><tr><td>芯片模组</td><td>平头哥芯片系列</td><td>各种通信模组</td></tr></tbody></table><p>下面我从三个方面简单分析一下移动云与阿里云的优缺点：</p><h3 id="4-1-功能与操作习惯"><a href="#4-1-功能与操作习惯" class="headerlink" title="4.1 功能与操作习惯"></a>4.1 功能与操作习惯</h3><p>从功能和操作习惯上来看，移动云与阿里云很相似，包括物模型的概念也是参考了阿里云的设计，平台上相关关键词的命名也基本一样，但阿里云的功能要更为完善一些，提供的服务也更为全面。</p><h3 id="4-2-开发难度"><a href="#4-2-开发难度" class="headerlink" title="4.2 开发难度"></a>4.2 开发难度</h3><p>从开发难度方面来看，考虑到阿里云能根据用户需要的功能模块提供可裁剪的设备接入SDK，移植起来比移动云要更为方便快捷，而且阿里云提供了详尽的服务文档以及丰富的应用案例，在一定程度上提高了开发效率。</p><h3 id="4-3-应用开发"><a href="#4-3-应用开发" class="headerlink" title="4.3 应用开发"></a>4.3 应用开发</h3><p>从应用开发方面来看，阿里云提供了丰富的网页组件及相关控件，还有简洁易用的网页模板，大大降低了开发难度以及工作量，不需要额外租用服务器对网站应用进行托管，而移动云的网站应用托管服务已经不再进行维护和更新，不建议使用。</p><p>综上所述，个人认为阿里云在各方面都有着优异的表现，而且阿里云在云平台市场占有率上也是遥遥领先，相当于移动云来说，阿里云无疑是更好的选择。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;1-移动云物联网预研总体架构&quot;&gt;&lt;a href=&quot;#1-移动云物联网预研总体架构&quot; class=&quot;headerlink&quot; title=&quot;1 移动云物联网预研总体架构&quot;&gt;&lt;/a&gt;1 移动云物联网预研总体架构&lt;/h2&gt;&lt;p&gt;本方案采用Layui作为前端框架，选用了华为</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="IoT" scheme="https://gentletk.gitee.io/tags/IoT/"/>
    
  </entry>
  
  <entry>
    <title>网站开发方案研究</title>
    <link href="https://gentletk.gitee.io/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/"/>
    <id>https://gentletk.gitee.io/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/</id>
    <published>2021-03-29T08:43:58.000Z</published>
    <updated>2021-03-29T08:43:58.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>任务描述</strong></p><ul><li><input checked="" disabled="" type="checkbox"> <ol><li>了解建站的基本概念及流程。</li></ol></li><li><input checked="" disabled="" type="checkbox"> <ol start="2"><li>了解云服务器的选择。</li></ol></li><li><input checked="" disabled="" type="checkbox"> <ol start="3"><li>了解开源网站系统(Discuz、WordPress)。 </li></ol></li><li><input checked="" disabled="" type="checkbox"> <ol start="4"><li>了解本地建站，并基于WordPress+phpStudy搭建本地网站。</li></ol></li><li><input checked="" disabled="" type="checkbox"> <ol start="5"><li>购买华为云耀云服务器(免费试用30天)，搭建服务器端环境。</li></ol></li><li><input checked="" disabled="" type="checkbox"> <ol start="6"><li>参照本地建站，移植到服务器端，通过公网IP即可访问。</li></ol></li><li><input checked="" disabled="" type="checkbox"> <ol start="7"><li>以管理员身份登陆后台，安装插件，设置用户注册、登陆后才可浏览。</li></ol></li><li><input checked="" disabled="" type="checkbox"> <ol start="8"><li>了解HTML、CSS、JavaScript基础以及PHP语法特性。</li></ol></li><li><input checked="" disabled="" type="checkbox"> <ol start="9"><li>设计平台体验页面的表单及样式，实现设备管理功能(设备列表、数据查询、命令下发)。</li></ol></li><li><input checked="" disabled="" type="checkbox"> <ol start="10"><li>服务器端添加自定义页面模板，移植平台体验页面到服务器。</li></ol></li><li><input checked="" disabled="" type="checkbox"> <ol start="11"><li>了解基于Layui的前端框架。</li></ol></li><li><input disabled="" type="checkbox"> <ol start="12"><li>了解基于vue框架的后台前端解决方案。</li></ol></li></ul><h2 id="1-基本概念"><a href="#1-基本概念" class="headerlink" title="1. 基本概念"></a>1. 基本概念</h2><p><strong>建站基本流程</strong></p><ul><li>购买域名</li><li>域名备案</li><li>购买云服务器</li><li>搭建网站</li><li>域名解析</li></ul><h3 id="1-1-网站搭建——域名"><a href="#1-1-网站搭建——域名" class="headerlink" title="1.1 网站搭建——域名"></a>1.1 网站搭建——域名</h3><p>域名就是浏览器中输入的网址，如<code>www.baidu.com</code>，一般来说www开头的为一级域名，也就是主域，每一个主域可以对应无数个子域名。域名和IP地址本身是没有关系的，而如果要绑定，就得用到DNS解析。当在浏览器输入网址访问时，浏览器首先会将域名解析为对应的IP地址，然后浏览器再发出字节的数据请求，服务器端收到数据请求后，再返回网站相关的数据代码(HTML)，浏览器接收后再将这些代码转化成我们可以浏览的网页格式。</p><h3 id="2-1-网站搭建——服务器"><a href="#2-1-网站搭建——服务器" class="headerlink" title="2.1 网站搭建——服务器"></a>2.1 网站搭建——服务器</h3><p>服务器，是提供计算服务的设备，相当于一台长时间不关机且性能极其稳定的电脑，网站程序一直运行在这台电脑上，等待各个访问这台服务器的客户端的数据访问请求，服务器收到请求后会按一定数据格式返回网页数据代码(一般是HTML以及CSS和JavaScript等代码)，客户端的浏览器收到数据后，再将数据解析渲染成可供人浏览的网页数据。</p><h4 id="2-1-1-虚拟空间"><a href="#2-1-1-虚拟空间" class="headerlink" title="2.1.1 虚拟空间"></a>2.1.1 虚拟空间</h4><p>虚拟主机是在服务器硬盘上划分出一部分存储空间，它共享的是服务器的IP和带宽，没有独立的资源和独立的操作系统，没有远程桌面功能，通常虚拟主机所支持的网站程序也是默认分配好的，没有办法由用户自己配置环境，功能相对单一。</p><h4 id="2-1-2-云服务ECS-Elastic-Compute-Services"><a href="#2-1-2-云服务ECS-Elastic-Compute-Services" class="headerlink" title="2.1.2 云服务ECS(Elastic Compute Services)"></a>2.1.2 云服务ECS(Elastic Compute Services)</h4><p>云服务器ECS是阿里云提供的一种基础云计算服务，它是在集群服务器上划分出来的独立的内存、硬盘、带宽等资源搭建而成的一个虚拟服务器，有独立的IP和带宽，可以根据需求安装各版本操作系统以及配置各种网站运行环境，有远程桌面连接东西，是完全独立的。（虚拟主机是没有的）。</p><p><strong>如何选择适合自己的云服务配置？</strong></p><p>(1)服务器节点所在地域的选择</p><p>建站需要考虑网站用户的访问速度，而影响网站访问速度的一个重要因素是服务器节点所在地域。也就是说如果服务器节点地域选的离你目标客户群地区越接近，那么你网站的访问速度就会越快。</p><p>(2) 云服务器实例规格的选择</p><p>普通企业网站，性能比较均衡的，可以选择通用型，通用网络增强型即可，推荐2核4G或8G以上配置</p><p>(3) 云服务器操作系统的选择</p><p>根据建站程序使用的语言选择对应系统</p><p>Windows：asp、asp.net<br>Linux：php</p><p>通过镜像市场，选择已经配置好的镜像，可以省去我们装服务器系统环境的时间。</p><p>(4) 云服务器硬盘的选择</p><p>一般会默认配置有40G系统盘，最好单独购买一块数据盘（20-50G），将网站程序部署在数据盘，防止系统盘出故障时，丢失网站数据。</p><p>(5) 云服务器带宽的选择</p><p>以日均两三百人访问为例，一般选择1-2M左右的带宽。</p><p>云服务器的流量与带宽换算：</p><p>带宽：流量 = 1：150，即1M带宽=150M流量</p><h2 id="2-基于WordPress的本地网站搭建"><a href="#2-基于WordPress的本地网站搭建" class="headerlink" title="2. 基于WordPress的本地网站搭建"></a>2. 基于WordPress的本地网站搭建</h2><p><a href="https://cn.wordpress.org/download/">下载WordPress</a></p><p><a href="https://www.xp.cn/download.html">下载phpStudy</a></p><p>下载完成后，安装phpStudy，将下载好的WordPress解压后存放到phpStudy安装路径下的WWW文件夹下。</p><h3 id="2-1-创建网站"><a href="#2-1-创建网站" class="headerlink" title="2.1 创建网站"></a>2.1 创建网站</h3><p>打开phpStudy，先启动web服务，再点击创建网站，填写基本信息</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E5%88%9B%E5%BB%BA%E7%BD%91%E7%AB%99.png" alt="创建网站"></p><p>填写完成后等待服务重启，然后点击管理，选择打开网站</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E7%82%B9%E5%87%BB%E7%AE%A1%E7%90%86.png" alt="点击管理"></p><p>进入WordPress安装界面</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/WordPress%E5%AE%89%E8%A3%85%E7%95%8C%E9%9D%A2.png" alt="WordPress安装界面"></p><p>先在phpStudy里创建一个数据库(首先把默认的root密码修改才能创建)</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93.png" alt="创建数据库"></p><p>填写数据库信息</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E5%A1%AB%E5%86%99%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BF%A1%E6%81%AF.png" alt="填写数据库信息"></p><p>点击提交</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E7%8E%B0%E5%9C%A8%E5%AE%89%E8%A3%85.png" alt="现在安装"></p><p>填写网站基本信息</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E5%A1%AB%E5%86%99%E7%BD%91%E7%AB%99%E5%9F%BA%E6%9C%AC%E4%BF%A1%E6%81%AF.png" alt="填写网站基本信息"></p><p>WordPress安装成功</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/WordPress%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F.png" alt="WordPress安装成功"></p><p>点击登陆</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E7%82%B9%E5%87%BB%E7%99%BB%E9%99%86.png" alt="点击登陆"></p><p>进入后台管理仪表盘</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E4%BB%AA%E8%A1%A8%E7%9B%98.png" alt="后台管理仪表盘"></p><h1 id="华为云耀云服务器网站搭建"><a href="#华为云耀云服务器网站搭建" class="headerlink" title="华为云耀云服务器网站搭建"></a>华为云耀云服务器网站搭建</h1><h2 id="1-购买华为云耀云服务器"><a href="#1-购买华为云耀云服务器" class="headerlink" title="1.购买华为云耀云服务器"></a>1.购买华为云耀云服务器</h2><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E5%8D%8E%E4%B8%BA%E4%BA%91%E8%80%80%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%AF%95%E7%94%A8.png" alt="华为云耀云服务器"></p><p>云耀云服务器控制台</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E4%BA%91%E8%80%80%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8E%A7%E5%88%B6%E5%8F%B0.png" alt="云耀云服务器控制台"></p><p>首先通过远程连接，连接到华为云耀云服务器。</p><table><thead><tr><th>IPAddress</th><th>Password</th></tr></thead><tbody><tr><td>121.36.201.57</td><td>Adtech123456</td></tr></tbody></table><p>在控制台点击公网IP，在访问控制中点击安全组，设置一下安全组规则</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E8%AE%BE%E7%BD%AE%E5%AE%89%E5%85%A8%E7%BB%84%E8%A7%84%E5%88%99.png" alt="设置安全组规则"></p><p>在服务器上安装phpStudy，放一个测试页面看下效果，记得把网站首页设置为测试的html文件</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/helloworld%E6%B5%8B%E8%AF%95%E9%A1%B5%E9%9D%A2.png" alt="helloworld测试页面"></p><p>此时在服务器上的浏览器输入helloworld:802即可打开网站</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E6%9C%8D%E5%8A%A1%E5%99%A8helloworld.png" alt="服务器helloworld"></p><p>外网访问需要通过输入服务器地址:端口号的方式</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E5%A4%96%E7%BD%91%E8%AE%BF%E9%97%AEhelloworld.png" alt="外网访问helloworld"></p><h2 id="2-搭建服务器上的WordPress"><a href="#2-搭建服务器上的WordPress" class="headerlink" title="2.搭建服务器上的WordPress"></a>2.搭建服务器上的WordPress</h2><p>将下载好的WordPress解压后得到的wordpress文件夹存放到phpStudy安装路径下的WWW文件夹下，重命名为adtechiot。</p><h3 id="2-1-进入数据库管理"><a href="#2-1-进入数据库管理" class="headerlink" title="2.1 进入数据库管理"></a>2.1 进入数据库管理</h3><p>在phpStudy中安装phpMyadmin管理工具，安装完成后点击管理进入数据库管理登陆界面，用户名和密码为创建数据库时所设。</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E7%99%BB%E9%99%86%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86.png" alt="登陆数据库管理"></p><p>将iot数据库下wp_options的siteurl和home的值修改为公网IP(121.36.201.57)</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E4%BF%AE%E6%94%B9siteurl%E5%92%8Chome.png" alt="修改siteurl和home"></p><h3 id="2-2-进入WordPress后台管理"><a href="#2-2-进入WordPress后台管理" class="headerlink" title="2.2 进入WordPress后台管理"></a>2.2 进入WordPress后台管理</h3><p>浏览器输入121.36.201.57/wp-admin可进入网站后台管理界面</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E7%99%BB%E9%99%86%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86.png" alt="登陆后台管理"></p><p>在设置的成员资格旁边勾选</p><ul><li><input checked="" disabled="" type="checkbox"> 任何人都可以注册</li></ul><p>新用户默认角色设置为订阅者。</p><p>下载插件Registered Users Only，这是确保用户必须登陆后才能访问，安装后记得点击启用。</p><p>下载插件WP SMTP，这是为了注册或忘记密码后能向用户发送邮件，安装完成后记得点击启用。</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E8%AE%BE%E7%BD%AESMTP.png" alt="设置SMTP"></p><p>设置完后可以发一封测试邮件验证一下。</p><p>现在可以直接在浏览器输入公网IP进行登陆或注册</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E4%BC%97%E4%B8%BA%E5%85%B4%E7%89%A9%E8%81%94%E7%BD%91%E5%B9%B3%E5%8F%B0%E7%99%BB%E9%99%86%E6%B3%A8%E5%86%8C%E9%A1%B5%E9%9D%A2.png" alt="众为兴物联网平台登陆注册页面"></p><p>尝试注册一个新用户</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E6%B3%A8%E5%86%8C%E6%96%B0%E7%94%A8%E6%88%B7.png" alt="注册新用户"></p><p>收到确认邮件</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E6%94%B6%E5%88%B0%E7%A1%AE%E8%AE%A4%E9%82%AE%E4%BB%B6.png" alt="收到确认邮件"></p><p>点击链接设置登陆密码就可以登陆了。</p><table><thead><tr><th align="left">用户名</th><th align="left">登陆密码</th></tr></thead><tbody><tr><td align="left">user</td><td align="left">adt123456</td></tr></tbody></table><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/user%E7%99%BB%E9%99%86%E5%90%8E%E7%95%8C%E9%9D%A2.png" alt="user登陆后界面"></p><h2 id="3-设计平台体验页面"><a href="#3-设计平台体验页面" class="headerlink" title="3. 设计平台体验页面"></a>3. 设计平台体验页面</h2><p>平台体验页面的设备管理共包含设备列表、数据查询、下发命令三个功能。</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E5%B9%B3%E5%8F%B0%E4%BD%93%E9%AA%8C%E9%A1%B5%E9%9D%A2.png" alt="平台体验页面"></p><h3 id="3-1-设备列表"><a href="#3-1-设备列表" class="headerlink" title="3.1 设备列表"></a>3.1 设备列表</h3><p>用户通过下拉列表选择产品类型，在设备管理中选择设备列表即可查看该产品下所有设备的信息，包括设备名称、设备ID、设备状态以及最后在线时间。</p><p>(1) mqtt设备列表</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/mqtt%E8%AE%BE%E5%A4%87%E5%88%97%E8%A1%A8.png" alt="mqtt设备列表"></p><p>(2)modbus设备列表</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/modbus%E8%AE%BE%E5%A4%87%E5%88%97%E8%A1%A8.png" alt="modbus设备列表"></p><h3 id="3-2-数据查询"><a href="#3-2-数据查询" class="headerlink" title="3.2 数据查询"></a>3.2 数据查询</h3><p>用户通过下拉列表选择产品类型，在设备管理中选择数据查询即可进入数据查询页面，用户通过选择要查询的设备名称-ID来查询该设备的数据列表，包括数据名称、数据值、创建时间以及最后更新时间(Modbus设备可以查看平台下发的命令)。</p><p>(1) mqtt查询</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/mqtt%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2.png" alt="mqtt数据查询"></p><p>(2) modbus查询</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/modbus%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2.png" alt="modbus数据查询"></p><h3 id="3-3-下发命令"><a href="#3-3-下发命令" class="headerlink" title="3.3 下发命令"></a>3.3 下发命令</h3><p>用户通过下拉列表选择产品类型，在设备管理中选择数据查询即可进入下发命令页面。</p><p>(1) MQTT产品</p><p>用户通过选择设备名称-ID、消息质量(默认Qos0)、命令有效时间(默认为0)，输入要发送的命令来实现命令下发功能。</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/mqtt%E5%91%BD%E4%BB%A4%E4%B8%8B%E5%8F%91%E7%95%8C%E9%9D%A2.png" alt="mqtt命令下发界面"></p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/mqtt%E5%91%BD%E4%BB%A4%E5%B7%B2%E4%B8%8B%E5%8F%91.png" alt="mqtt命令已下发"></p><p>(2) MODBUS产品</p><p>用户通过选择设备名称-ID、输入从机地址(01-ff)、功能号(01-04)、数据地址(0000-ffff)、数据长度(0001-ffff)来下发命令(命令经过CRC校验)。</p><p>下发命令010300010001(此命令设备端已做处理，会响应)</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/modbus%E4%B8%8B%E5%8F%91%E5%91%BD%E4%BB%A4%E7%95%8C%E9%9D%A2.png" alt="modbus下发命令界面"></p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/modbus%E5%91%BD%E4%BB%A4%E5%B7%B2%E5%93%8D%E5%BA%94.png" alt="modbus命令已响应"></p><p>下发命令010300030001(此命令设备端未做处理，命令状态为已下发)</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/modbus%E5%91%BD%E4%BB%A4%E5%B7%B2%E4%B8%8B%E5%8F%91.png" alt="modbus命令已下发"></p><p>下发命令给离线设备会出现离线提示</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E8%AE%BE%E5%A4%87%E5%B7%B2%E7%A6%BB%E7%BA%BF.png" alt="设备已离线"></p><h2 id="4-添自定义页面模板"><a href="#4-添自定义页面模板" class="headerlink" title="4. 添自定义页面模板"></a>4. 添自定义页面模板</h2><p>在Wordpress的主题文件夹下，新建pages文件夹，将OneNetApi.php放到该文件夹下，<br>新建一个OneNetModel.php文件，内容如下：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="comment">/* template name: 你的页面模板命名 </span></span><br><span class="line"><span class="comment">description: template for Git theme </span></span><br><span class="line"><span class="comment">*/</span> </span><br><span class="line"><span class="title function_ invoke__">get_header</span>();<span class="comment">//网站头部 可注释</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;!--这里放自定义php页面的内容--&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?</span></span><br><span class="line">php <span class="title function_ invoke__">get_footer</span>(); <span class="comment">//这是网站底部 可注释</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h1 id="OneNET应用托管服务-不建议使用，官方已停止维护"><a href="#OneNET应用托管服务-不建议使用，官方已停止维护" class="headerlink" title="OneNET应用托管服务(不建议使用，官方已停止维护)"></a>OneNET应用托管服务(不建议使用，官方已停止维护)</h1><p><strong>前提条件</strong></p><p>在创建实例前，确保完成以下工作：</p><ul><li>注册平台账号并登陆。</li><li>创建一个VPC专有网络，并在VPC下创建一个子网。</li><li>创建弹性公网IP并进行对应云服务器的绑定。</li><li>若云服务器的登陆凭证采用密钥对则需先创建密钥对。</li></ul><h2 id="1-创建VPC专有网络"><a href="#1-创建VPC专有网络" class="headerlink" title="1. 创建VPC专有网络"></a>1. 创建VPC专有网络</h2><p>填写基本信息，选择一个VPC网段，DNS暂不设置。</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E5%88%9B%E5%BB%BA%E4%B8%93%E6%9C%89%E7%BD%91%E7%BB%9C.png" alt="创建专有网络"></p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E4%B8%93%E6%9C%89%E7%BD%91%E7%BB%9C%E8%AF%A6%E6%83%85.png" alt="专有网络详情"></p><h2 id="2-创建实例——云服务器"><a href="#2-创建实例——云服务器" class="headerlink" title="2. 创建实例——云服务器"></a>2. 创建实例——云服务器</h2><p>登陆凭证: Adtech123456</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%B7%B2%E9%80%89%E4%BF%A1%E6%81%AF.png" alt="云服务器已选信息"></p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E5%88%9B%E5%BB%BA%E5%A5%BD%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%9E%E4%BE%8B.png" alt="创建好云服务器实例"></p><h2 id="3-创建弹性公网IP并绑定云服务器"><a href="#3-创建弹性公网IP并绑定云服务器" class="headerlink" title="3. 创建弹性公网IP并绑定云服务器"></a>3. 创建弹性公网IP并绑定云服务器</h2><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E5%88%9B%E5%BB%BA%E5%85%AC%E7%BD%91IP-1.png" alt="创建公网IP-1"></p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E7%82%B9%E5%87%BB%E7%BB%91%E5%AE%9A.png" alt="点击绑定"></p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E7%BB%91%E5%AE%9A%E5%BC%B9%E6%80%A7%E5%85%AC%E7%BD%91IP.png" alt="绑定弹性公网IP"></p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E5%B7%B2%E7%BB%91%E5%AE%9A%E5%85%AC%E7%BD%91IP.png" alt="已绑定公网IP"></p><p>弹性公网IP:36.155.105.33</p><h1 id="基于Layui的前端框架"><a href="#基于Layui的前端框架" class="headerlink" title="基于Layui的前端框架"></a>基于Layui的前端框架</h1><p>**layui(谐音: 类UI)**是一款采用自身模块规范编写的前端 UI 框架，遵循原生 HTML/CSS/JS 的书写与组织形式，门槛极低，拿来即用。</p><h2 id="1-下载"><a href="#1-下载" class="headerlink" title="1 下载"></a>1 下载</h2><p><a href="http://www.layui.com/">官网首页</a></p><p><a href="https://github.com/sentsin/layui/">Github</a></p><p><a href="https://gitee.com/sentsin/layui">Gitee</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># npm安装一般用于WebPack管理</span></span><br><span class="line">npm -i layui-src</span><br></pre></td></tr></table></figure><h2 id="2-目录结构"><a href="#2-目录结构" class="headerlink" title="2 目录结构"></a>2 目录结构</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">├─css //css目录</span><br><span class="line">│  │─modules //模块css目录（一般如果模块相对较大，我们会单独提取，比如下面三个：）</span><br><span class="line">│  │  ├─laydate</span><br><span class="line">│  │  ├─layer</span><br><span class="line">│  │  └─layim</span><br><span class="line">│  └─layui.css //核心样式文件</span><br><span class="line">├─font  //字体图标目录</span><br><span class="line">├─images //图片资源目录（目前只有layim和编辑器用到的GIF表情）</span><br><span class="line">│─lay //模块核心目录</span><br><span class="line">│  └─modules //各模块组件</span><br><span class="line">│─layui.js //基础核心库</span><br><span class="line">└─layui.all.js //包含layui.js和所有模块的合并文件</span><br></pre></td></tr></table></figure><h2 id="3-机器人设备列表"><a href="#3-机器人设备列表" class="headerlink" title="3 机器人设备列表"></a>3 机器人设备列表</h2><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%AE%BE%E5%A4%87%E5%88%97%E8%A1%A8.png" alt="机器人设备列表"></p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%AE%BE%E5%A4%87%E5%9C%A8%E7%BA%BF.png" alt="机器人设备在线"></p><h2 id="4-机器人设备详情"><a href="#4-机器人设备详情" class="headerlink" title="4 机器人设备详情"></a>4 机器人设备详情</h2><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%AE%BE%E5%A4%87%E8%AF%A6%E6%83%85.png" alt="机器人设备详情"></p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E6%9C%BA%E5%99%A8%E4%BA%BA%E8%AE%BE%E5%A4%87%E8%AF%A6%E6%83%85%E5%9C%A8%E7%BA%BF.png" alt="机器人设备详情在线"></p><h2 id="5-机器人数据流"><a href="#5-机器人数据流" class="headerlink" title="5 机器人数据流"></a>5 机器人数据流</h2><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E6%9C%BA%E5%99%A8%E4%BA%BA%E6%95%B0%E6%8D%AE%E6%B5%81.png" alt="机器人数据流"></p><h2 id="6-机器人下发命令"><a href="#6-机器人下发命令" class="headerlink" title="6 机器人下发命令"></a>6 机器人下发命令</h2><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E6%9C%BA%E5%99%A8%E4%BA%BA%E4%B8%8B%E5%8F%91%E5%91%BD%E4%BB%A4.png" alt="机器人下发命令"></p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E8%AE%BE%E5%A4%87%E5%B7%B2%E5%93%8D%E5%BA%94.png" alt="设备已响应"></p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E5%91%BD%E4%BB%A4%E5%B7%B2%E4%BB%A5%E4%B8%8B%E5%8F%91.png" alt="命令已以下发"></p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E8%AE%BE%E5%A4%87%E5%B7%B2%E7%A6%BB%E7%BA%BF(layui).png" alt="设备已离线"></p><h2 id="7-设备历史数据导出"><a href="#7-设备历史数据导出" class="headerlink" title="7 设备历史数据导出"></a>7 设备历史数据导出</h2><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E6%9C%BA%E5%99%A8%E4%BA%BA%E6%95%B0%E6%8D%AE%E6%B5%81%E5%88%97%E8%A1%A8.png" alt="机器人数据流列表"></p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/%E6%9C%BA%E5%99%A8%E4%BA%BA%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA.png" alt="机器人数据导出"></p><h1 id="基于Vue框架的后台前端解决方案"><a href="#基于Vue框架的后台前端解决方案" class="headerlink" title="基于Vue框架的后台前端解决方案"></a>基于Vue框架的后台前端解决方案</h1><p><strong>vue-element-admin</strong>是一个后台前端解决方案，基于vue和element-ui实现，它使用了最新的前端技术栈，内置了 i18n 国际化解决方案，动态路由，权限验证，提炼了典型的业务模型，提供了丰富的功能组件，它可以帮助你快速搭建企业级中后台产品原型。</p><p><strong>建议</strong></p><p>**<code>vue-element-admin</code>**的定位是一个后台集成方案，不太适合当基础模板来进行二次开发。因为本项目集成了很多你可能用不到的功能，会造成不少的代码冗余。可以把 **<code>vue-element-admin</code>**当做工具箱或者集成方案仓库，在 **<code>vue-admin-template</code>**的基础上进行二次开发，想要什么功能或者组件就去 vue-element-admin 那里复制过来。</p><p><strong>前提条件</strong></p><p>需要在本地安装<a href="https://nodejs.org/dist/v12.16.2/">node</a>和<a href="https://git-scm.com/">git</a>。</p><p><strong>安装</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 克隆项目</span></span><br><span class="line">git <span class="built_in">clone</span> https://github.com/PanJiaChen/vue-element-admin.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进入项目目录</span></span><br><span class="line"><span class="built_in">cd</span> vue-element-admin</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装依赖</span></span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 建议不要用 cnpm 安装 会有各种诡异的bug 可以通过如下操作解决 npm 下载速度慢的问题</span></span><br><span class="line">npm install --registry=https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line"><span class="comment"># 本地开发 启动项目</span></span><br><span class="line">npm run dev</span><br></pre></td></tr></table></figure><p>(1) 登陆界面</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/vue%E7%99%BB%E9%99%86%E7%95%8C%E9%9D%A2.png" alt="vue登陆界面"></p><p>(2) 后台界面</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/vue%E6%95%B0%E6%8D%AE%E9%9D%A2%E6%9D%BF.png" alt="vue数据面板"></p><p><strong>了解vue生态圈</strong></p><ul><li><a href="https://router.vuejs.org/">Vue Router</a>是vue官方的路由。可以帮你快速构建一个单页面或者多页面的项目</li><li><a href="https://vuex.vuejs.org/">Vuex</a>是一个专为Vue.js应用程序开发的状态管理模式。采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。它能解决很多全局状态或者组件之间通信的问题。</li><li><a href="https://vue-loader.vuejs.org/">Vue Loader</a> 是为 vue 文件定制的一个 webpack 的 loader，它允许你以一种名为单文件组件 (SFCs)的格式撰写 Vue 组件。它能在开发过程中使用热重载来保持状态，为每个组件模拟出 scoped CSS 等等功能。不过大部分情况下你不需要对它直接进行配置，脚手架都帮你封装好了。</li><li><a href="https://vue-test-utils.vuejs.org/">Vue Test Utils</a> 是官方提供的一个单元测试工具。它能让你更方便的写单元测试。</li><li><a href="https://github.com/vuejs/vue-devtools">Vue Dev-Tools Vue</a> 在浏览器下的调试工具。写 vue 必备的一个浏览器插件，能大大的提高你调试的效率。</li><li><a href="https://cli.vuejs.org/">Vue CLI</a>是官方提供的一个 vue 项目脚手架，本项目也是基于它进行构建的。它帮你封装了大量的 webpack、babel 等其它配置，让你能花更少的精力在搭建环境上，从而能更专注于页面代码的编写。不过所有的脚手架都是针对大部分情况的，所以一些特殊的需求还是需要自己进行配置。建议先阅读一遍它的文档，对一些配置有一些基本的了解。</li></ul><h2 id="1-目录结构"><a href="#1-目录结构" class="headerlink" title="1. 目录结构"></a>1. 目录结构</h2><p>先从基础模板<strong>vue-admin-template</strong>开始。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">├── build                      // 构建相关  </span><br><span class="line">├── config                     // 配置相关</span><br><span class="line">├── src                        // 源代码</span><br><span class="line">│   ├── api                    // 所有请求</span><br><span class="line">│   ├── assets                 // 主题 字体等静态资源</span><br><span class="line">│   ├── components             // 全局公用组件</span><br><span class="line">│   ├── directive              // 全局指令</span><br><span class="line">│   ├── filtres                // 全局 filter</span><br><span class="line">│   ├── icons                  // 项目所有 svg icons</span><br><span class="line">│   ├── lang                   // 国际化 language</span><br><span class="line">│   ├── mock                   // 项目mock 模拟数据</span><br><span class="line">│   ├── router                 // 路由</span><br><span class="line">│   ├── store                  // 全局 store管理</span><br><span class="line">│   ├── styles                 // 全局样式</span><br><span class="line">│   ├── utils                  // 全局公用方法</span><br><span class="line">│   ├── vendor                 // 公用vendor</span><br><span class="line">│   ├── views                   // view</span><br><span class="line">│   ├── App.vue                // 入口页面</span><br><span class="line">│   ├── main.js                // 入口 加载组件 初始化等</span><br><span class="line">│   └── permission.js          // 权限管理</span><br><span class="line">├── static                     // 第三方不打包资源</span><br><span class="line">│   └── Tinymce                // 富文本</span><br><span class="line">├── .babelrc                   // babel-loader 配置</span><br><span class="line">├── eslintrc.js                // eslint 配置项</span><br><span class="line">├── .gitignore                 // git 忽略项</span><br><span class="line">├── favicon.ico                // favicon图标</span><br><span class="line">├── index.html                 // html模板</span><br><span class="line">└── package.json               // package.json</span><br></pre></td></tr></table></figure><h3 id="1-1-api和views"><a href="#1-1-api和views" class="headerlink" title="1.1 api和views"></a>1.1 api和views</h3><p>随着业务迭代，后台的api模块会越来越多，最好是根据业务模块来划分views，并将views和api模块一一对应，从而方便维护。</p><p><img src="/%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%96%B9%E6%A1%88%E7%A0%94%E7%A9%B6/api%E5%92%8Cviews.png" alt="api和views"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;任务描述&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;input checked=&quot;&quot; disabled=&quot;&quot; type=&quot;checkbox&quot;&gt; &lt;ol&gt;
&lt;li&gt;了解建站的基本概念及流程。&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;input chec</summary>
      
    
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="技术" scheme="https://gentletk.gitee.io/tags/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="IoT" scheme="https://gentletk.gitee.io/tags/IoT/"/>
    
    <category term="Vue" scheme="https://gentletk.gitee.io/tags/Vue/"/>
    
  </entry>
  
</feed>
